function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _defineProperty(e, t, n) {
    return t in e ? Object.defineProperty(e, t, {
        value: n,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = n, e
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _toConsumableArray(e) {
    if (Array.isArray(e)) {
        for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t];
        return n
    }
    return Array.from(e)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _toConsumableArray(e) {
    if (Array.isArray(e)) {
        for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t];
        return n
    }
    return Array.from(e)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _possibleConstructorReturn(e, t) {
    if (!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !t || "object" != typeof t && "function" != typeof t ? e : t
}
function _inherits(e, t) {
    if ("function" != typeof t && null !== t)throw new TypeError("Super expression must either be null or a function, not " + typeof t);
    e.prototype = Object.create(t && t.prototype, {
        constructor: {
            value: e,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _classCallCheck(e, t) {
    if (!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}
function _toConsumableArray(e) {
    if (Array.isArray(e)) {
        for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t];
        return n
    }
    return Array.from(e)
}
!function () {
    Array.isArray || (Array.isArray = function (e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }), Array.prototype.includes || (Array.prototype.includes = function (e) {
        var t = Object(this), n = parseInt(t.length) || 0;
        if (0 === n)return !1;
        var i, r = parseInt(arguments[1]) || 0;
        r >= 0 ? i = r : (i = n + r, 0 > i && (i = 0));
        for (var o; n > i;) {
            if (o = t[i], e === o || e !== e && o !== o)return !0;
            i++
        }
        return !1
    }), Array.prototype.findIndex || Object.defineProperty(Array.prototype, "findIndex", {
        value: function (e) {
            if (null == this)throw new TypeError("Array.prototype.findIndex called on null or undefined");
            if ("function" != typeof e)throw new TypeError("predicate must be a function");
            for (var t, n = Object(this), i = n.length >>> 0, r = arguments[1],
                     o = 0; i > o; o++)if (t = n[o], e.call(r, t, o, n))return o;
            return -1
        }, enumerable: !1, configurable: !1, writable: !1
    }), Array.prototype.find || (Array.prototype.find = function (e) {
        if (null === this)throw new TypeError("Array.prototype.find called on null or undefined");
        if ("function" != typeof e)throw new TypeError("predicate must be a function");
        for (var t, n = Object(this), i = n.length >>> 0, r = arguments[1],
                 o = 0; i > o; o++)if (t = n[o], e.call(r, t, o, n))return t
    }), Array.from || (Array.from = function () {
        var e = Object.prototype.toString, t = function (t) {
            return "function" == typeof t || "[object Function]" === e.call(t)
        }, n = function (e) {
            var t = Number(e);
            return isNaN(t) ? 0 : 0 !== t && isFinite(t) ? (t > 0 ? 1 : -1) * Math.floor(Math.abs(t)) : t
        }, i = Math.pow(2, 53) - 1, r = function (e) {
            var t = n(e);
            return Math.min(Math.max(t, 0), i)
        };
        return function (e) {
            var n = this, i = Object(e);
            if (null == e)throw new TypeError("Array.from requires an array-like object - not null or undefined");
            var o, s = arguments.length > 1 ? arguments[1] : void 0;
            if ("undefined" != typeof s) {
                if (!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");
                arguments.length > 2 && (o = arguments[2])
            }
            for (var a, c = r(i.length), l = t(n) ? Object(new n(c)) : new Array(c),
                     u = 0; c > u;)a = i[u], s ? l[u] = "undefined" == typeof o ? s(a, u) : s.call(o, a, u) : l[u] = a, u += 1;
            return l.length = c, l
        }
    }())
}(), function () {
    Number.isInteger = Number.isInteger || function (e) {
            return "number" == typeof e && isFinite(e) && Math.floor(e) === e
        }, Number.isNaN = Number.isNaN || function (e) {
            return "number" == typeof e && isNaN(e)
        }, Number.parseInt = parseInt, Number.parseFloat = parseFloat
}(), function () {
    Object.keys || (Object.keys = function () {
        var e = Object.prototype.hasOwnProperty, t = !{toString: null}.propertyIsEnumerable("toString"),
            n = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
            i = n.length;
        return function (r) {
            if ("object" != typeof r && ("function" != typeof r || null === r))throw new TypeError("Object.keys called on non-object");
            var o, s, a = [];
            for (o in r)e.call(r, o) && a.push(o);
            if (t)for (s = 0; i > s; s++)e.call(r, n[s]) && a.push(n[s]);
            return a
        }
    }()), "function" != typeof Object.values && !function () {
        Object.values = function (e) {
            if (void 0 === e || null === e)throw new TypeError("Cannot convert undefined or null to object");
            var t = [];
            for (var n in e)e.hasOwnProperty(n) && t.push(e[n]);
            return t
        }
    }(), "function" != typeof Object.assign && !function () {
        Object.assign = function (e) {
            if (void 0 === e || null === e)throw new TypeError("Cannot convert undefined or null to object");
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (void 0 !== i && null !== i)for (var r in i)i.hasOwnProperty(r) && (t[r] = i[r])
            }
            return t
        }
    }()
}(), function (e) {
    function t() {
    }

    function n(e, t) {
        return function () {
            e.apply(t, arguments)
        }
    }

    function i(e) {
        if ("object" != typeof this)throw new TypeError("Promises must be constructed via new");
        if ("function" != typeof e)throw new TypeError("not a function");
        this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], l(e, this)
    }

    function r(e, t) {
        for (; 3 === e._state;)e = e._value;
        return 0 === e._state ? void e._deferreds.push(t) : (e._handled = !0, void p(function () {
            var n = 1 === e._state ? t.onFulfilled : t.onRejected;
            if (null === n)return void(1 === e._state ? o : s)(t.promise, e._value);
            var i;
            try {
                i = n(e._value)
            } catch (r) {
                return void s(t.promise, r)
            }
            o(t.promise, i)
        }))
    }

    function o(e, t) {
        try {
            if (t === e)throw new TypeError("A promise cannot be resolved with itself.");
            if (t && ("object" == typeof t || "function" == typeof t)) {
                var r = t.then;
                if (t instanceof i)return e._state = 3, e._value = t, void a(e);
                if ("function" == typeof r)return void l(n(r, t), e)
            }
            e._state = 1, e._value = t, a(e)
        } catch (o) {
            s(e, o)
        }
    }

    function s(e, t) {
        e._state = 2, e._value = t, a(e)
    }

    function a(e) {
        2 === e._state && 0 === e._deferreds.length && setTimeout(function () {
            e._handled || h(e._value)
        }, 1);
        for (var t = 0, n = e._deferreds.length; n > t; t++)r(e, e._deferreds[t]);
        e._deferreds = null
    }

    function c(e, t, n) {
        this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
    }

    function l(e, t) {
        var n = !1;
        try {
            e(function (e) {
                n || (n = !0, o(t, e))
            }, function (e) {
                n || (n = !0, s(t, e))
            })
        } catch (i) {
            if (n)return;
            n = !0, s(t, i)
        }
    }

    var u = setTimeout, p = "function" == typeof setImmediate && setImmediate || function (e) {
            u(e, 1)
        }, h = function (e) {
        console.warn("Possible Unhandled Promise Rejection:", e)
    }, d = Array.isArray || function (e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        };
    i.prototype["catch"] = function (e) {
        return this.then(null, e)
    }, i.prototype.then = function (e, n) {
        var o = new i(t);
        return r(this, new c(e, n, o)), o
    }, i.all = function () {
        var e = Array.prototype.slice.call(1 === arguments.length && d(arguments[0]) ? arguments[0] : arguments);
        return new i(function (t, n) {
            function i(o, s) {
                try {
                    if (s && ("object" == typeof s || "function" == typeof s)) {
                        var a = s.then;
                        if ("function" == typeof a)return void a.call(s, function (e) {
                            i(o, e)
                        }, n)
                    }
                    e[o] = s, 0 === --r && t(e)
                } catch (c) {
                    n(c)
                }
            }

            if (0 === e.length)return t([]);
            for (var r = e.length, o = 0; o < e.length; o++)i(o, e[o])
        })
    }, i.resolve = function (e) {
        return e && "object" == typeof e && e.constructor === i ? e : new i(function (t) {
            t(e)
        })
    }, i.reject = function (e) {
        return new i(function (t, n) {
            n(e)
        })
    }, i.race = function (e) {
        return new i(function (t, n) {
            for (var i = 0, r = e.length; r > i; i++)e[i].then(t, n)
        })
    }, i._setImmediateFn = function (e) {
        p = e
    }, i._setUnhandledRejectionFn = function (e) {
        h = e
    }, "undefined" != typeof module && module.exports ? module.exports = i : e.Promise ? i = e.Promise : e.Promise = i, i.prototype["finally"] = function (e) {
        var t = this.constructor;
        return this.then(function (n) {
            return t.resolve(e()).then(function () {
                return n
            })
        }, function (n) {
            return t.resolve(e()).then(function () {
                throw n
            })
        })
    }
}(this), function () {
    String.prototype.includes || (String.prototype.includes = function (e, t) {
        return "number" != typeof t && (t = 0), t + e.length > this.length ? !1 : -1 !== this.indexOf(e, t)
    }), String.prototype.startsWith || (String.prototype.startsWith = function (e, t) {
        return t = t || 0, this.substr(t, e.length) === e
    }), String.prototype.endsWith || (String.prototype.endsWith = function (e, t) {
        var n = this.toString();
        ("number" != typeof t || !isFinite(t) || Math.floor(t) !== t || t > n.length) && (t = n.length), t -= e.length;
        var i = n.indexOf(e, t);
        return -1 !== i && i === t
    })
}(), function (e) {
    function t(e) {
        var t = "", n = !0;
        return e.forEach(function (e) {
            var i = encodeURIComponent(e.name), r = encodeURIComponent(e.value);
            n || (t += "&"), t += i + "=" + r, n = !1
        }), t.replace(/%20/g, "+")
    }

    function n(e, t) {
        var n = e.split("&");
        t && -1 === n[0].indexOf("=") && (n[0] = "=" + n[0]);
        var i = [];
        n.forEach(function (e) {
            if (0 !== e.length) {
                var t = e.indexOf("=");
                if (-1 !== t)var n = e.substring(0, t), r = e.substring(t + 1); else n = e, r = "";
                n = n.replace(/\+/g, " "), r = r.replace(/\+/g, " "), i.push({name: n, value: r})
            }
        });
        var r = [];
        return i.forEach(function (e) {
            r.push({name: decodeURIComponent(e.name), value: decodeURIComponent(e.value)})
        }), r
    }

    function i(e) {
        if (s)return new a(e);
        var t = document.createElement("a");
        return t.href = e, t
    }

    function r(e) {
        var i = this;
        this._list = [], void 0 !== e && null !== e || (e = ""), Object(e) === e && e instanceof r || (e = String(e)), "string" == typeof e && "?" === e.substring(0, 1) && (e = e.substring(1)), "string" == typeof e ? this._list = n(e) : this._list = e._list.slice(), this._url_object = null, this._setList = function (e) {
            o || (i._list = e)
        };
        var o = !1;
        this._update_steps = function () {
            o || (o = !0, i._url_object && ("about:" === i._url_object.protocol && -1 !== i._url_object.pathname.indexOf("?") && (i._url_object.pathname = i._url_object.pathname.split("?")[0]), i._url_object.search = t(i._list), o = !1))
        }
    }

    function o(t, o) {
        function c() {
            var e = u.href.replace(/#$|\?$|\?(?=#)/g, "");
            u.href !== e && (u.href = e)
        }

        function l() {
            d._setList(u.search ? n(u.search.substring(1)) : []), d._update_steps();
        }

        if (!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");
        o && (t = function () {
            if (s)return new a(t, o).href;
            var e;
            if (document.implementation && document.implementation.createHTMLDocument ? e = document.implementation.createHTMLDocument("") : document.implementation && document.implementation.createDocument ? (e = document.implementation.createElement("http://www.w3.org/1999/xhtml", "html", null), e.documentElement.appendChild(e.createElement("head")), e.documentElement.appendChild(e.createElement("body"))) : window.ActiveXObject && (e = new window.ActiveXObject("htmlfile"), e.write("<head></head><body></body>"), e.close()), !e)throw Error("base not supported");
            var n = e.createElement("base");
            n.href = o, e.getElementsByTagName("head")[0].appendChild(n);
            var i = e.createElement("a");
            return i.href = t, i.href
        }());
        var u = i(t || ""), p = function () {
            if (!("defineProperties" in Object))return !1;
            try {
                var e = {};
                return Object.defineProperties(e, {
                    prop: {
                        get: function () {
                            return !0
                        }
                    }
                }), e.prop
            } catch (t) {
                return !1
            }
        }(), h = p ? this : document.createElement("a"), d = new r(u.search ? u.search.substring(1) : null);
        return d._url_object = h, Object.defineProperties(h, {
            href: {
                get: function () {
                    return u.href
                }, set: function (e) {
                    u.href = e, c(), l()
                }, enumerable: !0, configurable: !0
            }, origin: {
                get: function () {
                    return "origin" in u ? u.origin : this.protocol + "//" + this.host
                }, enumerable: !0, configurable: !0
            }, protocol: {
                get: function () {
                    return u.protocol
                }, set: function (e) {
                    u.protocol = e
                }, enumerable: !0, configurable: !0
            }, username: {
                get: function () {
                    return u.username
                }, set: function (e) {
                    u.username = e
                }, enumerable: !0, configurable: !0
            }, password: {
                get: function () {
                    return u.password
                }, set: function (e) {
                    u.password = e
                }, enumerable: !0, configurable: !0
            }, host: {
                get: function () {
                    var e = {"http:": /:80$/, "https:": /:443$/, "ftp:": /:21$/}[u.protocol];
                    return e ? u.host.replace(e, "") : u.host
                }, set: function (e) {
                    u.host = e
                }, enumerable: !0, configurable: !0
            }, hostname: {
                get: function () {
                    return u.hostname
                }, set: function (e) {
                    u.hostname = e
                }, enumerable: !0, configurable: !0
            }, port: {
                get: function () {
                    return u.port
                }, set: function (e) {
                    u.port = e
                }, enumerable: !0, configurable: !0
            }, pathname: {
                get: function () {
                    return "/" !== u.pathname.charAt(0) ? "/" + u.pathname : u.pathname
                }, set: function (e) {
                    u.pathname = e
                }, enumerable: !0, configurable: !0
            }, search: {
                get: function () {
                    return u.search
                }, set: function (e) {
                    u.search !== e && (u.search = e, c(), l())
                }, enumerable: !0, configurable: !0
            }, searchParams: {
                get: function () {
                    return d
                }, enumerable: !0, configurable: !0
            }, hash: {
                get: function () {
                    return u.hash
                }, set: function (e) {
                    u.hash = e, c()
                }, enumerable: !0, configurable: !0
            }, toString: {
                value: function () {
                    return u.toString()
                }, enumerable: !1, configurable: !0
            }, valueOf: {
                value: function () {
                    return u.valueOf()
                }, enumerable: !1, configurable: !0
            }
        }), h
    }

    var s, a = e.URL;
    try {
        if (a) {
            if (s = new e.URL("http://example.com"), "searchParams" in s)return;
            "href" in s || (s = void 0)
        }
    } catch (c) {
    }
    if (Object.defineProperties(r.prototype, {
            append: {
                value: function (e, t) {
                    this._list.push({name: e, value: t}), this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, "delete": {
                value: function (e) {
                    for (var t = 0; t < this._list.length;)this._list[t].name === e ? this._list.splice(t, 1) : ++t;
                    this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, get: {
                value: function (e) {
                    for (var t = 0; t < this._list.length; ++t)if (this._list[t].name === e)return this._list[t].value;
                    return null
                }, writable: !0, enumerable: !0, configurable: !0
            }, getAll: {
                value: function (e) {
                    for (var t = [],
                             n = 0; n < this._list.length; ++n)this._list[n].name === e && t.push(this._list[n].value);
                    return t
                }, writable: !0, enumerable: !0, configurable: !0
            }, has: {
                value: function (e) {
                    for (var t = 0; t < this._list.length; ++t)if (this._list[t].name === e)return !0;
                    return !1
                }, writable: !0, enumerable: !0, configurable: !0
            }, set: {
                value: function (e, t) {
                    for (var n = !1,
                             i = 0; i < this._list.length;)this._list[i].name === e ? n ? this._list.splice(i, 1) : (this._list[i].value = t, n = !0, ++i) : ++i;
                    n || this._list.push({name: e, value: t}), this._update_steps()
                }, writable: !0, enumerable: !0, configurable: !0
            }, entries: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length)return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: [n.name, n.value]}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, keys: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length)return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: n.name}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, values: {
                value: function () {
                    var e = this, t = 0;
                    return {
                        next: function () {
                            if (t >= e._list.length)return {done: !0, value: void 0};
                            var n = e._list[t++];
                            return {done: !1, value: n.value}
                        }
                    }
                }, writable: !0, enumerable: !0, configurable: !0
            }, forEach: {
                value: function (e) {
                    var t = arguments.length > 1 ? arguments[1] : void 0;
                    this._list.forEach(function (n, i) {
                        e.call(t, n.name, n.value)
                    })
                }, writable: !0, enumerable: !0, configurable: !0
            }, toString: {
                value: function () {
                    return t(this._list)
                }, writable: !0, enumerable: !1, configurable: !0
            }
        }), "Symbol" in e && "iterator" in e.Symbol && Object.defineProperty(r.prototype, e.Symbol.iterator, {
            value: r.prototype.entries,
            writable: !0,
            enumerable: !0,
            configurable: !0
        }), a)for (var l in a)a.hasOwnProperty(l) && "function" == typeof a[l] && (o[l] = a[l]);
    e.URL = o, e.URLSearchParams = r
}(window), function (e) {
    e.EQX = {init: {}, util: {}, tpl: {}, effect: {}, ENUM: {}, action: {}, API: {}}
}(window), function (e, t, n) {
    function i(e) {
        return Promise.resolve(e)
    }

    function r(e) {
        return new Promise(function (n, i) {
            t.ajax(t.extend({}, e, {
                success: function (e) {
                    e && e.success === !1 ? i(e) : n(e)
                }, error: function () {
                    for (var t, n = arguments.length, r = Array(n), o = 0; n > o; o++)r[o] = arguments[o];
                    (t = console).error.apply(t, [e].concat(r)), i.apply(void 0, r)
                }
            }))
        })
    }

    function o(e) {
        return new Promise(function (n, i) {
            t.ajax(t.extend({xhrFields: {withCredentials: !0}, crossDomain: !0}, e, {
                success: function (e) {
                    e && e.success === !1 ? i(e) : n(e)
                }, error: function () {
                    for (var t, n = arguments.length, r = Array(n), o = 0; n > o; o++)r[o] = arguments[o];
                    (t = console).error.apply(t, [e].concat(r)), i.apply(void 0, r)
                }
            }))
        })
    }

    var s = n.util;
    s.ajax = o, s.$ajax = r, s.fajax = i
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util;
    i.myBrowser = function () {
        var e = navigator.userAgent, t = e.indexOf("Opera") > -1;
        return t ? "Opera" : e.indexOf("Firefox") > -1 ? "FF" : e.indexOf("Chrome") > -1 ? "Chrome" : e.indexOf("Safari") > -1 ? "Safari" : e.indexOf("compatible") > -1 && e.indexOf("MSIE") > -1 && !t ? "IE" : void 0
    }, i.prefix = function () {
        var e = {Chrome: "-webkit-", FF: "-moz-", Opera: "-o-", Safari: "-webkit-"};
        return e[i.myBrowser()] || "-webkit-"
    }
}(window, $, EQX), function (window, $, EQX) {
    var util = EQX.util;
    util.dateFormat = function date2str(x, y) {
        var z = {M: x.getMonth() + 1, d: x.getDate(), h: x.getHours(), m: x.getMinutes(), s: x.getSeconds()};
        return y = y.replace(/(M+|d+|h+|m+|s+)/g, function (v) {
            return ((v.length > 1 ? "0" : "") + eval("z." + v.slice(-1))).slice(-2)
        }), y.replace(/(y+)/g, function (e) {
            return x.getFullYear().toString().slice(-e.length)
        })
    }, util.isNotExpired = function (e) {
        return new Date(e).getTime() > Date.now()
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.helper = {};
    i.rawElement = function (t) {
        for (var n = e.scene.list, i = 0; i < n.length; i++)for (var r = n[i].elements, o = 0; o < r.length; o++) {
            var s = r[o];
            if (s.id == t)return s
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, t, n) {
        return {x: e.x + t * Math.cos(n * h) - t * Math.sin(n * h), y: e.y + t * Math.sin(n * h) + t * Math.cos(n * h)}
    }

    function r(e, t, n) {
        var i = {}, r = null;
        return n = 5 * n, i.dx = t.x - e.x, i.dy = t.y - e.y, i.dl = Math.sqrt(i.dx * i.dx + i.dy * i.dy), i.sx = i.dx / i.dl, i.sy = i.dy / i.dl, i.tx = i.dy / i.dl, i.ty = -i.dx / i.dl, i.mpp = .5 * Math.random() + .3, i.mpl1 = i.dl * i.mpp, i.mpl2 = i.dl - i.mpl1, r = Math.log(i.dl * Math.E), i.cma = Math.random() * r * n - r * n / 2, i.cpt = {
            x: e.x + i.sx * i.mpl1 + i.tx * i.cma,
            y: e.y + i.sy * i.mpl1 + i.ty * i.cma
        }, i.bbx1 = Math.min(e.x, t.x, i.cpt.x), i.bby1 = Math.min(e.y, t.y, i.cpt.y), i.bbx2 = Math.max(e.x, t.x, i.cpt.x), i.bby2 = Math.max(e.y, t.y, i.cpt.y), i.bbwidth = i.bbx2 - i.bbx1, i.bbheight = i.bby2 - i.bby1, i
    }

    function o(e) {
        for (var t = 0, n = 0, o = e.width, s = e.height, a = [[]], c = [], l = 1, u = 0, p = 15, h = e.center,
                 d = null, f = null, v = 10, g = 360 / (v + 1),
                 m = null; a[0].length < v;)m = g * a[0].length + 10, f = i(h, 5, m), a[0].push({angle: m, point: f});
        for (; 500 > p;) {
            for (a[l] = [], m = 0; v > m; m++)d = a[l - 1][m], a[l][m] = null, d && (d.point.x > t && d.point.x < o && d.point.y > n && d.point.y < s ? (g = d.angle + 10 * Math.random() / v - 5 / v, g > 350 && (g = 350), d = d.point, f = i(h, p + Math.random() * p / l - p / (2 * l), g), a[l][m] = {
                angle: g,
                point: {x: f.x, y: f.y}
            }) : 0 == u && (u = l));
            l++, p *= 1.5 * Math.random() + 1
        }
        0 == u && (u = l);
        for (var y = 1, b = 0; l > y; y++)for (b = 0; v > b; b++)d = a[y - 1][b], f = a[y][b], d && f && (c.push({
            p1: {
                x: d.point.x,
                y: d.point.y
            }, p2: {x: f.point.x, y: f.point.y}, desc: r(d.point, f.point, .3), level: y
        }), Math.random() < .6 && (d = a[y][(b + 1) % v], d && c.push({
            p1: {x: f.point.x, y: f.point.y},
            p2: {x: d.point.x, y: d.point.y},
            desc: r(f.point, d.point, .3),
            level: y
        })), l - 1 > y && Math.random() < .3 && (d = a[y + 1][(b + 1) % v], d && c.push({
            p1: {
                x: f.point.x,
                y: f.point.y
            }, p2: {x: d.point.x, y: d.point.y}, desc: r(f.point, d.point, .3), level: y
        })));
        return c
    }

    function s(e, t, n, i, r, o) {
        var s = e.getContext("2d"), a = r.tx, c = r.ty, l = r.dl / 3, u = null;
        s.globalAlpha = .3;
        try {
            u = s.createLinearGradient(n.x + l * a, n.y + l * c, n.x - l * a, n.y - l * c)
        } catch (p) {
        }
        u.addColorStop(0, "rgba(255,255,255,0)"), u.addColorStop(.5, "rgba(255,255,255,0.5)"), u.addColorStop(1, "rgba(255,255,255,0)"), s.fillStyle = u, s.beginPath(), s.moveTo(n.x + l * a, n.y + l * c), s.lineTo(i.x + l * a, i.y + l * c), s.lineTo(i.x - l * a, i.y - l * c), s.lineTo(n.x - l * a, n.y - l * c), s.closePath(), s.fill()
    }

    function a(e, t, n, i, r) {
        var o = e.getContext("2d"), s = r.tx, a = r.ty, c = r.sx, l = r.sy, u = 33, p = r.dl, h = p / 2, d = r.mpp,
            f = r.cma, v = r.mpl1, g = r.mpl2, m = null, y = null, b = null, w = null, x = null, E = null, P = null;
        for (o.globalAlpha = .4, o.lineWidth = 1, m = 0; p > m; m++)b = d * p > m ? f * (1 - Math.pow((v - m) / v, 2)) : f * (1 - Math.pow((g - (p - m)) / g, 2)), b /= 2, y = Math.pow((m > h ? p - m : m) / h, 2), w = 1 * Math.random() + 1, x = u - Math.random() * y * u + 1, E = u - Math.random() * y * u + 1, P = 20 * Math.random() - 10, Math.random() > y - u / h && (o.fillStyle = "rgba(255,255,255," + Math.round(8 * Math.random() + 4) / 12 + ")", o.beginPath(), o.moveTo(n.x + m * c + b * s, n.y + m * l + b * a), o.lineTo(n.x + (P + m + w / 2) * c + x * s + b * s, n.y + (-P + m + w / 2) * l + x * a + b * a), o.lineTo(n.x + (m + w) * c + b * s, n.y + (m + w) * l + b * a), o.lineTo(n.x + (-P + m + w / 2) * c - E * s + b * s, n.y + (P + m + w / 2) * l - E * a + b * a), o.closePath(), o.fill()), m += h * (y / 2 + .5)
    }

    function c(e, t, n, i, r) {
        var o = e.getContext("2d"), s = r.tx, a = r.ty, c = r.cpt, l = .03, u = .14, p = .2,
            h = Math.random() * (2 * l) - 2 * l / 2, d = 1,
            f = Math.round((d > .5 ? d : 1 - d) * (1 - p * Math.random()) * 255);
        for (o.globalAlpha = 65, o.lineWidth = 1; u > 0;)o.strokeStyle = "rgba(" + f + "," + f + "," + f + "," + Math.round(8 * Math.random() + 4) / 12 + ")", o.beginPath(), o.moveTo(n.x + (u + h) * s, n.y + (u - h) * a), o.quadraticCurveTo(c.x, c.y, i.x + (u - h) * s, i.y + (u + h) * a), o.stroke(), u--
    }

    function l(e, t, n, i, r) {
        var o = e.getContext("2d"), s = r.tx, a = r.ty, c = r.sx, l = r.sy, u = .4, p = r.dl, h = r.mpp, d = r.cma,
            f = r.mpl1, v = r.mpl2, g = p / 3, m = Math.ceil(g * (1 - (u + .5) / 1.5) + 1), y = null, b = null,
            w = null, x = null, E = null, P = null;
        for (o.globalAlpha = 1, o.lineWidth = 1, w = 0; p > w; w++) {
            for (y = h * p > w ? d * (1 - Math.pow((f - w) / f, 2)) : d * (1 - Math.pow((v - (p - w)) / v, 2)), y /= 2, b = -g; g > b; b++) {
                if (Math.random() > Math.abs(b) / g)for (E = Math.floor(4 * Math.random() + .5), P = 2 * Math.random() - 1; E >= 0;)o.strokeStyle = "rgba(255,255,255," + Math.round(10 * Math.random() + 2) / 30 + ")", x = Math.floor(5 * Math.random() + .5), o.beginPath(), o.moveTo(n.x + (w - x) * c + (P + b) * s + y * s, n.y + (w - x) * l + (-P + b) * a + y * a), o.lineTo(n.x + (w + x) * c + (-P + b) * s + y * s, n.y + (w + x) * l + (P + b) * a + y * a), o.stroke(), E--, x++;
                b += Math.random() * m * 2
            }
            w += Math.random() * m * 4
        }
    }

    function u(e, t, n) {
        for (var i = null, r = n.length,
                 o = 0; r > o; o++)i = n[o], s(e[1][0], t, i.p1, i.p2, i.desc), a(e[2][0], t, i.p1, i.p2, i.desc), c(e[3][0], t, i.p1, i.p2, i.desc), l(e[4][0], t, i.p1, i.p2, i.desc)
    }

    function p(e, t, n, i, r) {
        var s = {}, a = e.offset(), c = null, l = null;
        "touchstart" === r.type ? (c = r.originalEvent.targetTouches[0].pageX, l = r.originalEvent.targetTouches[0].pageY) : (c = r.pageX, l = r.pageY);
        var p = {x: c - a.left - 5, y: l - a.top - 5};
        s.height = n, s.width = i, s.center = p, s.debug = !0;
        var h = o(s);
        u(t, null, h)
    }

    var h = Math.PI / 180;
    n.glassEffectCore = p
}(window, jQuery, EQX), function (e, t, n) {
    function i(t) {
        var i = n.HOST, p = t.code, h = e.location.href, d = e.location.host, f = i.EQX_FAN_DOMAIN, v = i.EQX_AD_DOMAIN,
            g = i.EQX_VIP_DOMAIN, m = i.EQX_COMPANY_DOMAIN;
        try {
            return o(d) ? s(d) ? (console.info("MAX 域名"), h) : a(t) ? (console.info("流量域名"), u(t, v)) : c(t) ? (console.info("CDN 加速"), r(g + "/s/" + p)) : l(t) ? (console.info("企业账号"), u(t, m)) : (console.info("普通泛域名"), u(t, f)) : (console.info("第三方域名"), h)
        } catch (y) {
            return console.error(y), h
        }
    }

    function r(e) {
        return /^https?/.test(e) ? e : location.protocol + e
    }

    function o(e) {
        return h.some(function (t) {
                return e.includes(t)
            }) || /localhost/.test(e)
    }

    function s(e) {
        return o(e) && /^max\./.test(e)
    }

    function a(e) {
        var t = e.ext || {};
        return t.yqc && t.yqc.ad
    }

    function c(e) {
        var t = n.HOST, i = t.EQX_VIP_DOMAIN;
        return 1 == e.staticStatus && location.host.includes(i)
    }

    function l(e) {
        var t = n.ENUM.USER_ROLE, i = e.userType, r = e.memberType, o = e.expiryTime;
        return (i == t["企业账号"] || i == t["企业子账号"]) && r && o && p.isNotExpired(o)
    }

    function u(e, t) {
        var n = e.code, i = e.userId || e.createUser;
        if (!i)throw new Error("No User Id");
        var o = p.hashCode(i);
        return r(o + "." + t + "/s/" + n)
    }

    var p = n.util, h = ["eqshow.cn", "yqxiu.cn", "eqxiu.cc", "eqxiu.com", "eqxiu.cn", "eqh5.cn"];
    p.getShareUrl = i, p.isEqxAdScene = a, p.isVipScene = c
}(window, jQuery, EQX), function (e, t, n) {
    function i(t) {
        var i = n.HOST;
        if (!t.startsWith("/") && !t.startsWith("file://"))if (/^https?:\/\//.test(t)) {
            for (var r, o = [i.BIND_USER_FILE, i.FREE_USER_FILE, i.VIP_USER_FILE],
                     s = 0; s < o.length; s++)if (r = o[s], t.startsWith(r)) {
                t = t.replace(r, i.FILE);
                break
            }
        } else t = i.FILE + t;
        var a = e.location.protocol;
        return t.startsWith("//") && "file:" == a ? "http:" + t : t
    }

    var r = n.util;
    r.loadImg = function (e) {
        return new Promise(function (t, n) {
            var i = new Image;
            i.onload = function () {
                t(this)
            }, i.onerror = i.onabort = function () {
                n()
            }, i.src = e
        })
    }, r.qiniuZoom = function (e, t) {
        if (!t)return "";
        var r = i(t);
        if (/\.svg$/i.test(r))return r;
        var o = /\?imageMogr2/;
        if (o.test(r))return r + "/strip";
        if (e && e.css && e.css.width && e.css.height) {
            var s, a, c = parseInt(e.css.width, 10), l = parseInt(e.css.height, 10);
            n.util.mobilecheck() ? (s = 2.2 * c, a = 2.2 * l) : n.util.tabletCheck() ? (s = c, a = l) : (s = 1.1 * c, a = 1.1 * l);
            var u = parseInt(s, 10) > parseInt(a, 10) ? parseInt(s, 10) : parseInt(a, 10);
            return r + "?imageMogr2/thumbnail/" + u + "x" + u + ">/strip"
        }
        return r + "?imageMogr2/strip"
    }, r.initEffectImgPath = function (e) {
        return /^http.*/.test(e) || e.startsWith("//") ? e : n.HOST.FILE + e
    }
}(window, jQuery, EQX), function (e, t, n) {
    n.util.noop = function () {
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util;
    i.fixedNum = function (e) {
        var t;
        return 1e4 > e ? t = e : e >= 1e4 && 1e8 > e ? t = (e / 1e4).toFixed(2) + "万" : e >= 1e8 && (t = (e / 1e8).toFixed(2) + "亿"), t
    }, i.random = function (e) {
        var t = arguments.length <= 1 || void 0 === arguments[1] ? 0 : arguments[1];
        return Math.floor(Math.random() * e) % e + t
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util;
    i.isPhoneNumber = function (e) {
        var t = /(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/;
        return t.test(e)
    }, i.isEmail = function (e) {
        var t = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return t.test(e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        p.push(e)
    }

    function r(e) {
        var t = p.filter(function (t) {
            return t.type == e
        });
        console.log("remove reports", e, t), p = p.filter(function (t) {
            return t.type != e
        })
    }

    function o() {
        console.log("remove all reports", p), p.length = 0
    }

    function s(e, t) {
        var n = p.filter(function (t) {
            return t.type == e
        });
        if (n.length)return p = p.filter(function (t) {
            return t.type != e
        }), c(n.filter(function (e) {
            return e.priority >= t
        }))
    }

    function a() {
        var e = c(p);
        return o(), e
    }

    function c(e) {
        return console.log("emit reports", e), u({
            type: "POST",
            url: "http://fisheye.eqxiu.com/client/report",
            xhrFields: {withCredentials: !1},
            contentType: "application/json; charset=UTF-8",
            data: JSON.stringify(e)
        })
    }

    var l = n.util, u = l.ajax;
    l.clientReport = {add: i, remove: r, removeAll: o, emit: s, emitAll: a};
    var p = []
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = 0;
        if (0 == e.length)return t;
        for (var n = 0; n < e.length; n++) {
            var i = e.charCodeAt(n);
            t = (t << 5) - t + i, t &= t
        }
        return Math.abs(t)
    }

    var r = n.util;
    r.addSuffixPx = function (e) {
        return e = "" + e, -1 === e.indexOf("px") && (e += "px"), e
    }, r.hashCode = i
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util;
    i.addGlobalStyle = function (e) {
        var t = document.getElementsByTagName("style")[0];
        if (!t) {
            t = document.createElement("style");
            var n = document.head || document.getElementsByTagName("head")[0];
            t.type = "text/css", n.appendChild(t)
        }
        var i = document.createTextNode(e);
        t.appendChild(i)
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util;
    i.mobilecheck = function () {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent) || screen.width < 500
    }, i.isMobile = i.mobilecheck, i.isWeixin = function () {
        return e.top === e && /MicroMessenger/i.test(navigator.userAgent)
    }, i.isAndroidPhone = function () {
        return i.mobilecheck() && i.isAndroid()
    }, i.isAndroid = function () {
        return /Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.appVersion)
    }, i.tabletCheck = function () {
        return /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)
    }, i.iphoneCheck = function () {
        return /iPhone/i.test(navigator.userAgent)
    }, i.isPc = function () {
        return !(i.mobilecheck() || i.tabletCheck() && e == e.top)
    }, i.isIOS = function () {
        return /ipad|iphone/i.test(navigator.userAgent)
    }, i.isApp = function () {
        return !!i.getUrlParam("appclient") || !!e.viewData
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(t) {
        return t.startsWith("//") && (t = location.protocol + t), new e.URL(t)
    }

    var r = n.util;
    r.parseUrl = i, r.setUrlHistory = function (n) {
        var i = location.href, o = r.getUrlParam("toPage", i);
        o ? o !== "" + n && (i = i.replace(o, n)) : i += (/\?/.test(i) ? "&" : "?") + "toPage=" + n, e.history.replaceState({
            title: t("title").html(),
            url: i
        }, t("title").html(), i)
    }, r.getUrlParam = function (t) {
        var n = arguments.length <= 1 || void 0 === arguments[1] ? e.location.href : arguments[1];
        return i(n).searchParams.get(t)
    }, r.removeUrlParam = function (t) {
        var n = arguments.length <= 1 || void 0 === arguments[1] ? e.location.href : arguments[1], r = i(n);
        return r.searchParams["delete"](t), r.href
    }, r.removeUrlParams = function () {
        var t = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0],
            n = arguments.length <= 1 || void 0 === arguments[1] ? e.location.href : arguments[1], r = i(n);
        return t.forEach(function (e) {
            r.searchParams["delete"](e)
        }), r.href
    }, r.addUrlParam = function (t, n) {
        var r = arguments.length <= 2 || void 0 === arguments[2] ? e.location.href : arguments[2], o = i(r);
        return o.searchParams.set(t, n), o.href
    }, r.replaceLocationHref = function (t) {
        var n = e.location.href;
        history.replaceState({}, n, t)
    }, r.getUrlHost = function () {
        var t = arguments.length <= 0 || void 0 === arguments[0] ? e.location.href : arguments[0];
        return i(t).host
    }, r.resolveUrl = function () {
        for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)t[n] = arguments[n];
        var i = t.length;
        if (0 === i)return console.error("resolveUrl requires at least one argument; got none."), "";
        var r = document.createElement("base");
        if (r.href = t[0], 1 === i)return r.href;
        var o = document.getElementsByTagName("head")[0];
        o.insertBefore(r, o.firstChild);
        for (var s, a = document.createElement("a"), c = 1; i > c; c++)a.href = t[c], s = a.href, r.href = s;
        return o.removeChild(r), s
    }, r.url2http = function (e) {
        return e.replace(/^https:/, "http:")
    }, r.url2https = function (e) {
        return e.replace(/^http:/, "https:")
    }, r.autoProtocol = function (e) {
        return e.replace(/^https?:/, location.protocol)
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return /^\d+$/.test(e)
    }

    function r(e) {
        return function () {
            return !e.call.apply(e, [null].concat(Array.prototype.slice.call(arguments)))
        }
    }

    var o = n.util;
    o.toGoodStr = function (e) {
        return e ? e.replace(/<\s*(img|input)[^>]*\/?>/gi, "").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi, "") : e
    }, o.isBadStr = function (e) {
        return e ? (e = e.replace(/[↵\n\t\s]/g, ""), /<\s*(img|input)[^>]*\/?>/gi.test(e) || /<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(e)) : !1
    }, o.isInvalidStr = o.isBadStr, o.isValidSceneId = i, o.isValidPageId = i, o.isValidNum = i;
    var s = r(i);
    o.isInvalidSceneId = s, o.isInvalidPageId = s, o.isInvalidNum = s, o.isValidTel = function (e) {
        return /^[\d\s()\-－+]*$/.test(e)
    }, o.isInvalidTel = r(o.isValidTel), o.isValidCompId = function (e) {
        return /^[\-.\w]+$/.test(e)
    }, o.isInvalidCompId = r(o.isValidCompId), o.isValidType = function (e) {
        return /^\w{1,3}$/.test(e)
    }, o.isInvalidType = r(o.isValidType), o.isValidImg = function (e) {
        return /[\w.\-_\/?x>]+/.test(e)
    }, o.isInvalidImg = r(o.isValidImg), o.isValidAudio = function (e) {
        return /[\w.\-_\/?x>]+\.(\w{2,6})$/i.test(e)
    }, o.isInvalidAudio = r(o.isValidAudio), o.isValidUrl = function (e) {
        return /https?:\/\//.test(e) || /[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/.test(e)
    }, o.isInvalidUrl = r(o.isValidUrl), o.isValidVideoIFrameSrc = function (e) {
        return /<(iframe|embed)[^>]+>.*<\/\1>/i.test(e)
    }, o.isInvalidVideoIFrameSrc = r(o.isValidVideoIFrameSrc), o.logXSS = function (e) {
        var t = arguments.length <= 1 || void 0 === arguments[1] ? "" : arguments[1];
        t.includes("r"), t.includes("t");
        console.error("XSS", e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    n.ENUM.make = function () {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = {};
        for (var n in e)if (e.hasOwnProperty(n)) {
            var i = e[n];
            t[t[n] = i] = n
        }
        return t
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return e && e.startsWith("//") ? o + e : e
    }

    n.DEBUG = !1, n.WX = {APP_ID: "wx4726bc84d63ef524"};
    var r = n.HOST = {
        SERVER_0: "//service.eqxiu.com/",
        SERVER_1: "//s1.eqxiu.com/",
        SERVER_2: "//s2.eqxiu.com/",
        SERVER_6: "//s6.eqxiu.com/",
        SERVER_MAX: "//max.eqxiu.com",
        FONT: "//font.eqh5.com/",
        DOMAIN: "eqxiu",
        EQX: "//www.eqxiu.com/",
        EQX_FAN_DOMAIN: "scene.eqxiu.com",
        EQX_AD_DOMAIN: "scene.eqh5.cn",
        EQX_VIP_DOMAIN: "vip.eqxiu.cn",
        EQX_COMPANY_DOMAIN: "scene.eqxiu.cn",
        BIG_DATA: "//datalog.eqxiu.com/",
        BIND_USER_FILE: "//res.eqh5.com/",
        FREE_USER_FILE: "//res1.eqh5.com/",
        VIP_USER_FILE: "//res2.eqh5.com/",
        FILE: "//res1.eqh5.com/",
        SOURCE: "//as.eqh5.com/",
        BIND_USER_SOURCE: "//as.eqh5.com/",
        H5_VIEW_PATH: "h5_view/",
        TRACK: "//da.eqxiu.com/",
        STORE: "//store.eqxiu.com/",
        YQC: "//www.eqxiu.com/"
    }, o = e.location.protocol;
    "file:" == o && (o = "http:"), Object.keys(r).forEach(function (e) {
        var t = r[e];
        "string" == typeof t && (r[e] = i(t)), Array.isArray(e) && t.forEach(function (e, n) {
            "string" == typeof e && (t[n] = i(e))
        })
    });
    var s = n.util.resolveUrl;
    n.HOST.setHOST = function (e, t) {
        function i(e) {
            return s(r.PROJECT_HOST, "lib/", e)
        }

        r.FILE = t, r.SOURCE = e, r.H5_VIEW = r.SOURCE + r.H5_VIEW_PATH, r.PROJECT_HOST = r.H5_VIEW, n.HOST.PATH = {
            Parallax: "//lib.eqh5.com/parallax/1.0.0/parallax.min.js",
            QQStats: "//tajs.qq.com/stats?sId=45828183",
            JWeixin: "//res.wx.qq.com/open/js/jweixin-1.2.0.js",
            QQMap: "//map.qq.com/api/js?v=2.exp&callback=",
            SHA: "//lib.eqh5.com/jsSHA/2.0.2/sha1.js",
            Chart: i("Chart.min.js"),
            QRCode: "//lib.eqh5.com/jquery.qrcode/1.0/jquery.qrcode.min.js",
            ThreeCanvas: i("threecanvas.js"),
            Sliders: i("sliders.js"),
            Flux: i("flux.min.js"),
            Effect: r.PROJECT_HOST + "js/effect/",
            Typed: i("typed.1.1.3.js"),
            MLink: "//static.mlinks.cc/scripts/dist/mlink.min.js",
            Particles: i("particles.js"),
            canvg: "//lib.eqh5.com/canvg/0.0.1/canvg.min.js"
        }, console.log("EQX.HOST", n.HOST)
    }, n.HOST.setHOST(r.SOURCE, r.FILE)
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.make;
    n.ENUM.BG_CROP_TYPE = i({1: "固定背景模式", 2: "全屏背景模式"})
}(window, jQuery, EQX), function (e, t, n) {
    n.ENUM.ELEMENT_TYPE = {
        2: "EqxText",
        201: "EqxText",
        298: "EqxDeepShare",
        299: "EqxReport2",
        x: "EqxText",
        3: "EqxBackground",
        4: "EqxImage",
        q: "EqxGravity",
        8: "EqxTelephone",
        b: "EqxComment",
        6: "EqxSubmitButton",
        601: "EqxSubmitButton",
        a: "EqxScore",
        c: "EqxCheckbox",
        r: "EqxRadio",
        z: "EqxDropDownList",
        5: "EqxInput",
        501: "EqxInput",
        502: "EqxInputPhone",
        503: "EqxInputEmail",
        504: "EqxInput",
        h: "EqxShape",
        i: "EqxCount",
        l: "EqxLink",
        t: "EqxChart",
        v: "EqxVideo",
        p: "EqxImageSlider",
        m: "EqxMap",
        n: "EqxRandom",
        s: "EqxSound",
        d: "EqxPv",
        g: "EqxAdvertise",
        e: "EqxDownTime",
        f: "EqxUpTime",
        j: "EqxImgVote",
        k: "EqxTextVote",
        401: "EqxImage",
        403: "EqxWXImage",
        w01: "EqxWXSound",
        w02: "EqxWXRecord"
    };
    n.ENUM.FORM_ELEMENT_ARR = ["5", "501", "502", "503", "504", "c", "r", "z", "a"]
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.make;
    n.ENUM.AD_TYPE = i({0: "无尾页无底标", 1: "技术支持尾页", 2: "技术支持底标", 3: "品牌联合底标", 4: "deepshare尾页"})
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.make, r = n.util;
    n.ENUM.PAGE_MODE = i({
        0: "上下翻页",
        1: "上下惯性翻页",
        3: "左右惯性翻页",
        4: "左右翻页",
        5: "左右连续翻页",
        6: "立体翻页",
        7: "卡片翻页",
        8: "放大翻页",
        9: "交换翻页",
        10: "翻书翻页",
        11: "上下连续翻页",
        12: "掉落翻页",
        13: "淡入翻页",
        14: "上下推出翻页",
        15: "左右推出翻页",
        16: "折叠翻页"
    });
    var o = [0, 1, 2, 6, 7, 8, 11, 12, 13, 14, 16], s = [3, 4, 5, 9, 10, 15];
    r.isPageModeVertical = function (e) {
        return o.includes(parseInt(e))
    }, r.isPageModeHorizontal = function (e) {
        return s.includes(parseInt(e))
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.make;
    n.ENUM.RAW_EVENT = i({1: "click", 2: "shake"}), n.ENUM.EQX_EVENT = i({
        1: "show",
        2: "hide",
        3: "random"
    }), n.ENUM.INIT_EVENT = i({show: 1, hide: 2, "default": 0})
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.make;
    n.ENUM.USER_ROLE = i({1: "普通账号", 2: "企业账号", 21: "企业子账号", 5: "公共账号", 51: "公共子账号", 3: "高级用户", 4: "秀客", 99: "运营人员"})
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.ajax, r = n.API, o = n.HOST;
    r.postCount = function (e) {
        return i({type: "POST", url: o.SERVER_1 + "eqs/scene/count", data: e})
    }, r.getCountValues = function (e) {
        return i({type: "GET", url: o.SERVER_1 + "eqs/scene/counter/values", data: e})
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return e = e.toString(), e.length < 2 ? "0" + e : e
    }

    var r = n.util.ajax, o = n.API, s = n.HOST;
    o.getServiceTime = function () {
        var e = new Date, t = "eqs/serviceTime/get?time" + e.getTime();
        return r({type: "GET", url: s.SERVER_1 + t})
    }, o.formatTime = function (e, t) {
        var n = e - t, r = Math.floor(n / 864e5), o = n % 864e5, s = Math.floor(o / 36e5), a = o % 36e5,
            c = Math.floor(a / 6e4), l = a % 6e4, u = Math.round(l / 1e3);
        return i(r) + "天" + i(s) + "小时" + i(c) + "分钟" + i(u) + "秒"
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return function (t) {
            return t.includes("http") || (t = a.FILE + t), o({type: "GET", url: t, dataType: e})
        }
    }

    var r = n.API, o = n.util.$ajax, s = n.util.resolveUrl, a = n.HOST, c = n.util.autoProtocol;
    r.getSvg = i("xml"), r.getSymbol = function (e) {
        return o({type: "GET", url: s(a.PROJECT_HOST, "images/shape/", e + ".svg"), dataType: "text"})
    }, r.getPcBgImg = function () {
        return o({type: "GET", url: a.SERVER_2 + "eqs/image/scene/preview"}).then(function (e) {
            return e ? c(e) : Promise.reject()
        })["catch"](function () {
            return s(a.PROJECT_HOST, "images/bg/spring.jpg")
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.HOST, o = n.util.ajax;
    i.submitForm = function (e, t, n, i) {
        return o({type: "POST", url: r.SERVER_1 + "eqs/r/" + t + "/" + n + "/" + i, data: e})
    }, i.submitXiuForm = function (e, t, n) {
        return o({type: "POST", url: r.SERVER_1 + "eqs/promotion/order/data/r/" + e + "/" + n, data: t})
    }, i.getCommentList = function (e) {
        var t = e.sceneId, n = e.time, i = r.SERVER_1 + "scene/msg/list?sceneId=" + t;
        return n && (i += "&lastTime=" + n), i += "&date=" + (new Date).getTime(), o({type: "GET", url: i})
    }, i.postComment = function (e) {
        return o({type: "POST", url: r.SERVER_1 + "scene/send/msg", data: e})
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.util, o = r.$ajax, s = n.HOST;
    i.getPageInfo = function (e) {
        return o({type: "GET", url: s.SERVER_2 + "eqs/trailer/" + e})
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.name, n = e.src, i = c[t];
        if (i)return Promise.resolve(i);
        var r = a({url: n, dataType: "script"}).then(function () {
            for (var e = arguments.length, n = Array(e), i = 0; e > i; i++)n[i] = arguments[i];
            return c[t] = n, n
        });
        return c[t] = r, r
    }

    var r = n.API, o = n.HOST, s = n.util.resolveUrl, a = n.util.$ajax, c = {};
    r.loadQRCode = function () {
        return i({name: "qrcode", src: o.PATH.QRCode})
    }, r.loadSHA = function () {
        return i({name: "sha", src: o.PATH.SHA})
    };
    var l = null;
    r.loadQQMap = function () {
        return l ? l : l = new Promise(function (e, t) {
            n.init.qqMapCallback = function () {
                e()
            }, i({name: "qqmap", src: o.PATH.QQMap + "EQX.init.qqMapCallback"})["catch"](t)
        })
    }, r.loadChart = function () {
        return i({name: "chart", src: o.PATH.Chart})
    }, r.loadThreeCanvas = function () {
        return i({name: "threeCanvas", src: o.PATH.ThreeCanvas})
    }, r.loadFlux = function () {
        return i({name: "flux", src: o.PATH.Flux})
    }, r.loadSliders = function () {
        return i({name: "sliders", src: o.PATH.Sliders})
    }, r.loadEffects = function (e) {
        e.filter(function (e) {
            return "gravityEffect" != e
        }).forEach(r.loadEffect)
    }, r.loadEffect = function (e) {
        var t = s(o.PATH.Effect, e + ".js");
        return i({name: t, src: t})
    }, r.loadJWeixin = function () {
        return i({name: "jweixin", src: o.PATH.JWeixin})
    }, r.loadTyped = function () {
        return i({name: "typed", src: o.PATH.Typed})
    }, r.loadMLink = function () {
        return i({name: "mlink", src: o.PATH.MLink})
    }, r.loadParticles = function () {
        return i({name: "Particles", src: o.PATH.Particles})
    }, r.loadParallax = function () {
        return i({name: "parallax", src: o.PATH.Parallax})
    }, r.canvas = function () {
        return i({name: "canvg", src: o.PATH.canvg})
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.ajax, r = n.API, o = n.HOST;
    r.getPvCount = function (e) {
        return i({type: "GET", url: o.SERVER_1 + "eqs/scene/pv?sceneId=" + e})
    }, r.postPVCount = function (e) {
        var t = e.id, n = e.param, r = e.ad, s = o.SERVER_1 + "eqs/pv/" + t;
        return n && (s += "?1=1", s += /\?.*/.test(n) ? "&" + n.substring(1) : /\&.*/.test(n) ? n : "&" + n), s += (/\?/.test(s) ? "&" : "?") + "ad=" + r, i({
            type: "GET",
            url: s
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.ajax, r = n.API, o = n.HOST;
    r.getReportOptions = function () {
        var e = o.SERVER_1 + "eqs/class/expose_types";
        return i({type: "GET", url: e})
    }, r.postReport = function (e) {
        var t = e.sceneId, n = e.type;
        return i({type: "POST", url: o.SERVER_0 + "eqs/expose", data: {sceneId: t, type: n}})
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        return /max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(e.location.host)
    }

    function r() {
        return (/\/(\w+)$/.exec(e.location.pathname) || [])[1]
    }

    function o() {
        var t = e.scene || {}, n = t.id, i = t.code;
        if (!n)throw new Error("Not Valid Scene! No Id!");
        if (!i)throw new Error("Not Valid Scene! No Code!");
        var r = h("userKey"), o = h("cache"), s = l.SERVER_1, c = a.isVipScene(scene);
        c && (s = l.SERVER_2), (r || o) && (s = l.SERVER_1), p = s + "eqs/page/" + n + "?code=" + i;
        var u = d(p);
        r && u.searchParams.set("userKey", r), o && u.searchParams.set("cache", o);
        var p = u.href;
        if (!c) {
            var f = d(p);
            f.searchParams.set("time", (new Date).getTime()), p = f.href
        }
        return p
    }

    function s() {
        var t = arguments.length <= 0 || void 0 === arguments[0] ? e.location.href : arguments[0];
        if (e.scene)return e.scene.code;
        t = d(t);
        var n = t.pathname, i = n.lastIndexOf("/");
        if (i > -1)var r = n.substr(i + 1);
        if (!r)throw new Error("No Valid Scene Code!");
        return r.length > 10 && console.error("URL Code 大于 10 位, 请检查 Code"), r
    }

    var a = n.util, c = n.API, l = n.HOST, u = a.ajax, p = a.$ajax, h = a.getUrlParam, d = a.parseUrl;
    c.getSceneMetaData = function () {
        function t(e) {
            return n.init.perfectMeta(e), e
        }

        return new Promise(function (n, o) {
            var a = e.scene;
            if (a) n(t(a)); else if (e.__isServerRendered && !e.scene && o("场景数据异常"), i()) {
                var c = r();
                e.__isMax = !0, p({
                    type: "GET",
                    url: l.SERVER_MAX + "m/new/check/model/code?objectId=" + c + "&JSESSIONID=ff4ff6599aa04597861955583c300a5d"
                }).then(function (i) {
                    if (i && i.data) {
                        var r = i.data, s = e.scene = r.scene, a = r.pages.map(function (e) {
                            return {elements: e}
                        });
                        e.viewData = {list: a}, n(t(s))
                    } else o("无审核场景数据")
                })["catch"](function () {
                    o("无审核场景数据")
                })
            } else u({type: "GET", url: l.SERVER_1 + "eqs/sc?code=" + s()}).then(function (e) {
                e.obj ? n(t(e.obj)) : o("无场景数据")
            })["catch"](function () {
                o("无场景数据")
            })
        })
    }, c.getSceneData = function (t) {
        if (e.viewData)return Promise.resolve(e.viewData);
        var n = {type: "GET", url: o()};
        return t && (n.data = {password: t}), p(n)
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.ajax, r = n.API, o = n.HOST;
    r.addDialRecord = function (e) {
        return i({type: "POST", url: o.SERVER_1 + "eqs/dial", data: e})
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.HOST, o = n.util.ajax;
    i.isVoted = function (e, t) {
        return o({type: "POST", url: r.SERVER_1 + "eqs/vote/verify/" + e, data: t})
    }, i.postVote = function (e, t, n) {
        return o({type: "POST", url: r.SERVER_1 + "eqs/vote/" + e + "/" + t, data: n})
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.ajax, r = n.API, o = n.HOST, s = n.util.getUrlHost;
    r.postWxComp = function (e) {
        return i({type: "POST", url: o.SERVER_1 + "eqs/wx/component", data: e})
    }, r.getUserWxInfo = function () {
        return i({type: "GET", url: o.SERVER_1 + "eqs/wx/user/cache"})
    }, r.getWxTicket = function () {
        var t = s(e.location.href), n = "eqs/wx/ticket?time=" + Date.now(),
            r = [/eqxiu\.com/, /eqh5\.cn/, /eqxiu\.cc/, /eqshow\.cn/, /yqxiu\.cn/];
        return r.some(function (e) {
            return e.test(t)
        }) || (n += /eqxiu\.cn/.test(t) ? "&domain=eqxiu.cn" : "&domain=" + t), console.log("getWxTicket", n), i({
            type: "GET",
            url: o.SERVER_1 + n
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, i, r) {
        var o = n.HOST.TRACK + "p.gif?", s = encodeURIComponent, a = document,
            c = {order_no: e, task_id: i, scene_id: r};
        o += "data=" + s(JSON.stringify(c));
        var l = a.createElement("img");
        t(l).attr({src: o, width: 0, height: 0}), a.body.appendChild(l)
    }

    function r(t, i, r, a, c) {
        var l = {
            ua: navigator.userAgent.toLowerCase(),
            netType: navigator.connection ? navigator.connection.type : "unknown",
            eqxPlatformType: "view",
            eqxPlatformVersion: e.eqxVersion,
            categoryOne: "scene_preview",
            categoryOneId: "11",
            categoryTwoId: a,
            categoryTwo: c,
            itemType: "内容页",
            itemId: scene.id,
            pageSizeTotal: app.pageList.length.toString(),
            pageCurrentNum: null,
            itemMaps: r,
            pubOwner: t,
            mediaType: navigator.platform,
            refer: null,
            actionType: i,
            actionTime: (new Date).getTime()
        }, u = n.HOST.BIG_DATA + "logserver/v0.1/push";
        s.getUrlParam("exemplarReview") || o({
            withCredentials: !0,
            method: "POST",
            url: u,
            headers: {"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"},
            data: JSON.stringify(l)
        })
    }

    var o = n.util.ajax, s = n.util, a = n.API;
    a.viewXBData = i, a.bigDataXBData = r
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return o({
            type: "GET", url: s.SERVER_1 + "adview/scenePage/find",
            data: {sceneId: e, time: Date.now()}
        })
    }

    function r(e) {
        return o({type: "GET", url: s.SERVER_1 + "adview/tail/find", data: {sceneId: e, time: Date.now()}})
    }

    var o = n.util.ajax, s = n.HOST, a = n.API;
    a.getYqcAd = i, a.getYqcTail = r
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl;
    i.css = function (e, t) {
        return t ? e + ": " + t : ""
    }, i.fontSize = function (e) {
        return e ? "font-size: " + e + "px;" : ""
    }, i.bgColor = function (e) {
        return e ? "background-color: " + e + ";" : ""
    }, i.color = function (e) {
        return i.css("color", e)
    }, i.marginTop = function (e) {
        return i.css("margin-top", e)
    }, i.lineHeight = function (e) {
        return e ? "line-height: " + e + ";" : ""
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.form = {};
    i.required = function (e) {
        return e ? 'required="required"' : ""
    }, i.placeholder = function (e) {
        return e ? 'placeholder="' + e + '"' : ""
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    function i(e) {
        var t = "" + e;
        if (!n.DEBUG)return t;
        var i = 0;
        if (0 == t.length)return i;
        for (var r = 0; r < t.length; r++) {
            var o = t.charCodeAt(r);
            i = (i << 5) - i + o, i &= i
        }
        return i
    }

    function r(e, t) {
        var n = "page-" + e + "-" + o[t];
        return i(n)
    }

    var o = n.ENUM.EQX_EVENT, s = function () {
        function e() {
            _classCallCheck(this, e), this.map = {}
        }

        return _createClass(e, [{
            key: "subscribe", value: function (e) {
                var t = e.pageId, n = e.type, i = e.ele, o = r(t, n), s = this.map[o];
                s || (s = this.map[o] = []);
                var a = s.some(function (e) {
                    return "" + e == "" + i
                });
                return a || s.push(i), o
            }
        }, {
            key: "unsubscribe", value: function (e, t, i) {
                var o = r(e, t), s = this.map[o];
                if (!s)return void(n.DEBUG && console.error("unregister element form none existed event"));
                var a = s.indexOf(i);
                a > -1 && s.splice(a, 1)
            }
        }, {
            key: "publish", value: function (e) {
                var t = e.pageId, i = e.type, o = e.senderId, s = e.sender, a = e.options, c = r(t, i), l = this.map[c];
                return l ? void l.forEach(function (e) {
                    return e.handleTriggerEvent({eventName: c, senderId: o, sender: s, options: a})
                }) : void(n.DEBUG && console.error("event " + c + " no subscriber!"))
            }
        }]), e
    }();
    n.eventManager = new s
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    function i(e) {
        return r.includes("" + e.type)
    }

    var r = n.ENUM.FORM_ELEMENT_ARR, o = function () {
        function e() {
            _classCallCheck(this, e), this.submited = !1, this.formEle = []
        }

        return _createClass(e, [{
            key: "add", value: function (e) {
                return i(e) ? this.formEle.includes(e) ? void(n.DEBUG && console.error("Duplicate EQX form element " + e)) : void this.formEle.push(e) : void(n.DEBUG && console.error("Invalid EQX Form Element " + e + ", type: " + e.type))
            }
        }, {
            key: "check", value: function () {
                for (var e = {}, t = this.formEle.map(function (e) {
                    return e.check()
                }), n = 0; n < t.length; n++) {
                    var i = t[n], r = i.success, o = i.key, s = i.value;
                    if (!r)return i;
                    e[o] = s
                }
                return Object.values(e).every(function (e) {
                    return !e
                }) ? {success: !1, message: "请填写表单"} : {success: !0, form: e}
            }
        }]), e
    }();
    n.formManager = new o
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = function () {
        function e() {
            _classCallCheck(this, e), this.sounds = []
        }

        return _createClass(e, [{
            key: "add", value: function (e) {
                this.sounds.includes(e) || this.sounds.push(e)
            }
        }, {
            key: "remove", value: function (e) {
                var t = this.sounds.indexOf(e);
                t > -1 && this.sounds.splice(t, 1)
            }
        }, {
            key: "onPlay", value: function (e) {
                if (this.sounds.includes(e))switch (e.type) {
                    case 1:
                        this.sounds.forEach(function (t) {
                            t !== e && (2 === t.type || 3 === t.type ? t.down() : 1 === t.type && (t.stopPlay(), t.reset()))
                        });
                        break;
                    case 2:
                        var t = this.sounds.find(function (e) {
                            return 3 === e.type
                        });
                        t && t.down(), this.sounds.forEach(function (t) {
                            1 !== t.type || t.audio.paused || e.down()
                        });
                        break;
                    case 4:
                        this.sounds.forEach(function (e) {
                            2 === e.type || 3 === e.type ? e.down() : 1 === e.type && (e.stopPlay(), e.reset())
                        });
                        break;
                    case 3:
                        n.util.isIOS() && this.sounds.forEach(function (t) {
                            t !== e && (2 === t.type ? t.down() : 1 === t.type && (t.stopPlay(), t.reset()))
                        })
                }
            }
        }, {
            key: "onEnd", value: function (e) {
                var t = this;
                if (e || this.sounds.includes(e))switch (e.type) {
                    case 1:
                    case 4:
                        var i = function () {
                            var e = t.sounds.find(function (e) {
                                return 3 === e.type
                            }), i = !1;
                            return t.sounds.forEach(function (e) {
                                1 !== e.type || e.audio.paused || (i = !0)
                            }), t.sounds.forEach(function (e) {
                                2 !== e.type || i || n.util.isIOS() || e.restore()
                            }), i = !1, t.sounds.forEach(function (e) {
                                1 !== e.type && 2 !== e.type || e.audio.paused || (i = !0)
                            }), e && !i && e.restore(), "break"
                        }();
                        if ("break" === i)break;
                    case 2:
                        var r = this.sounds.find(function (e) {
                            return 3 === e.type
                        }), o = !1;
                        this.sounds.forEach(function (t) {
                            t !== e && (1 !== t.type && 2 !== t.type || t.audio.paused || (o = !0))
                        }), r && !o && r.restore()
                }
            }
        }, {
            key: "stopAll", value: function () {
                this.sounds.forEach(function (e) {
                    1 !== e.type && 2 !== e.type || e.audio.paused ? 3 !== e.type || e.media.paused || e.stopPlay() : e.stopPlay()
                })
            }
        }, {
            key: "restoreAll", value: function () {
                this.sounds.forEach(function (e) {
                    3 === e.type && e.media.paused && e.clickPlay && e.startPlay()
                })
            }
        }]), e
    }();
    n.soundManager = new i
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, t) {
        this.clickPlay = !0, this.bgAudio = e, this.media = document.getElementById("media"), this.audioBtn = document.getElementById("audio_btn"), this.type = 3, this.manager = t, this.getAudio(), this.addEventListeners(), this.register()
    }

    function r(e) {
        return p = e ? new i(e, n.soundManager) : {hide: c, show: c, stopPlay: c, startPlay: c}
    }

    function o() {
        return p || n.DEBUG && console.error("No BGM!"), p
    }

    var s = n.HOST, a = n.util.resolveUrl, c = n.util.noop, l = n.API.bigDataXBData, u = n.util.autoProtocol;
    i.prototype.register = function () {
        this.manager.add(this)
    }, i.prototype.getAudio = function () {
        this.bgAudio && (this.audioSrc = u(a(s.FILE, this.bgAudio.url || this.bgAudio.src)), this.media.setAttribute("src", this.audioSrc), this.media.load()), this.show()
    }, i.prototype.addEventListeners = function () {
        var e = this, i = n.util.mobilecheck, r = t(this.media), o = t(this.audioBtn), s = this, a = !0;
        r.on("canplay", function () {
            return e.media.play()
        }).on("play", function () {
            o.addClass("rotate"), a || s.manager.onPlay(s), a = !1
        }).on("pause", function () {
            o.removeClass("rotate")
        });
        var c = i() ? "touchend" : "click";
        o.on(c, function (t) {
            t.cancelBubble = !0, t.stopPropagation(), t.preventDefault(), l(scene.id, 4, null, 8, "音乐图标"), e.media.paused ? (e.clickPlay = !0, e.startPlay()) : (e.clickPlay = !1, e.stopPlay())
        }), o.trigger("touchend")
    }, i.prototype.startPlay = function () {
        var e = t(this.audioBtn), i = this;
        this.clickPlay && (n.util.isIOS() && n.util.isWeixin() ? n.init.getWxJSSDK().then(function () {
            wx.checkJsApi({
                jsApiList: ["checkJsApi"], success: function () {
                    i.media.play()
                }
            })
        }) : this.media.play(), e.addClass("rotate"))
    }, i.prototype.stopPlay = function () {
        var e = t(this.audioBtn);
        this.media.pause(), e.removeClass("rotate")
    }, i.prototype.show = function () {
        t(this.audioBtn).show()
    }, i.prototype.hide = function () {
        t(this.audioBtn).hide()
    }, i.prototype.down = function () {
        n.util.isIOS() ? this.media.pause() : this.media.volume = .1
    }, i.prototype.restore = function () {
        var e = this;
        n.util.isIOS() ? n.util.isWeixin() ? n.init.getWxJSSDK().then(function () {
            wx.checkJsApi({
                jsApiList: ["checkJsApi"], success: function () {
                    e.media.play()
                }
            })
        }) : this.media.play() : this.media.volume = 1
    };
    var p;
    return n.bgm = {init: r, get: o}
}(window, jQuery, EQX), function (e, t, n) {
    n.scroll = {}
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        l.isFirstTime && (l.isFirstTime = !1, p && h ? l.isRightCenterDragging = !0 : l.startY >= l._$app.height() / 2 ? l.isBottomRightDragging = !0 : l.startY < l._$app.height() / 2 && (l.isTopRightDragging = !0), l.activePage = l.getCurAndActive(!1), c(), l.activePage && (l.$flipMask.css({
            zIndex: 100,
            display: "block"
        }), l.activePage.active(), l.isBottomRightDragging ? (t(l.currentPage.section).css({
            top: l.$flipMask.height() - l._$app.height() + "px",
            left: "0px"
        }), l.$flipMask.css({top: "-" + (l.$flipMask.height() - l._$app.height()) + "px"}), l.$turn.css({
            transformOrigin: "0% 100% 0px",
            left: l._$app.width() + "px",
            top: l._$app.height() + "px"
        })) : l.isTopRightDragging ? l.$turn.css({
            top: "0px",
            left: l._$app.width() + "px",
            transformOrigin: "0% 0% 0px"
        }) : l.isRightCenterDragging && (t(l.currentPage.section).css({
                top: "0px",
                left: t(this).width() - l._$app.width() + "px"
            }), l.$flipMask.css({
                top: "0px",
                left: -(l.$flipMask.width() - l._$app.width()) + "px"
            }), l.$turn.css({transformOrigin: "0% 100% 0px", left: l._$app.width() + "px", top: "0px"}))))
    }

    function r() {
        l.isFirstTime && (l.isFirstTime = !1, l.isLeftCenterDragging = !0, l.activePage = l.getCurAndActive(!0), c(), l.activePage && (l.$flipMask.css({display: "block"}), l.activePage.active(), l.$turn.css({
            top: "0px",
            left: "0px",
            transformOrigin: "0% 0% 0px"
        })))
    }

    function o(e) {
        var n = e, i = 0, r = 0, o = 0, a = 0, c = 0, u = 0, p = 0, h = 0, d = 0, f = 0, v = 0, g = 0, m = 0, y = 0,
            b = 0, w = 0;
        l.isBottomRightDragging || l.isTopRightDragging ? (i = l._$app.width() - n.x, l.isBottomRightDragging ? r = Math.abs(l._$app.height() - n.y) : l.isTopRightDragging && (r = n.y), o = r / i, a = r / Math.sqrt(i * i + r * r), c = Math.sqrt(1 - a * a), u = Math.sqrt(i * i + r * r) / 2, p = u * o, h = Math.sqrt(p * p + u * u), d = h / o, f = 180 * Math.atan(o) / Math.PI > 0 ? 180 * Math.atan(o) / Math.PI : 0, v = (l._$app.width() - h) * c, g = (l._$app.width() - h) * a * c, m = (l._$app.width() - h) * (1 - a * a), v >= 1 && (l.isBottomRightDragging ? (f > 1 ? l.$turn.css({
            width: h + "px",
            height: d + "px",
            backgroundColor: "#ff0000",
            background: "-webkit-linear-gradient(" + (180 - f) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
            transform: "translateX(-" + (h - 3) + "px) translateY(-" + (d - 3) + "px) rotate(" + 2 * f + "deg) scaleX(-1)"
        }) : s(l.$turn, n, l._$app.width(), l._$app.height()), w = "0% 100% 0px", y = "rotate(-" + (90 - f) + "deg) translateY(" + v + "px)", b = "rotate(" + (90 - f) + "deg) translateY(-" + g + "px) translateX(-" + m + "px)") : l.isTopRightDragging && (f > 1 ? l.$turn.css({
                width: h + "px",
                height: d + "px",
                backgroundColor: "#000",
                background: "-webkit-linear-gradient(-" + (180 - f) + "deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",
                transform: "translateX(-" + (h - 2) + "px) rotate(-" + 2 * f + "deg) scaleX(-1)"
            }) : s(l.$turn, n, l._$app.width(), l._$app.height()), w = "0% 0% 0px", y = "rotate(" + (90 - f) + "deg) translateY(-" + v + "px)", b = "rotate(-" + (90 - f) + "deg) translateY(" + g + "px) translateX(-" + m + "px)"), l.$flipMask.css({
            zIndex: 100,
            transformOrigin: w,
            transform: y
        }), t(l.currentPage.section).css({
            transformOrigin: w,
            transform: b
        }))) : l.isRightCenterDragging ? (l.$turn.css({
            width: (l._$app.width() - n.x) / 2 + "px",
            height: l._$app.height() + "px",
            left: n.x + "px",
            background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
        }), l.$flipMask.css({
            transformOrigin: "0% 50% 0px",
            left: 0,
            transform: "translateX(-" + (l.$flipMask.width() - n.x) + "px)"
        }), t(l.currentPage.section).css({
            transformOrigin: "0% 50% 0px",
            transform: "translateX(" + (l.$flipMask.width() - n.x) + "px)"
        })) : l.isLeftCenterDragging && (l.$flipMask.css({
                zIndex: 100,
                transformOrigin: "0% 50% 0px",
                transform: "translateX(" + n.x + "px)"
            }), t(l.currentPage.section).css({
                transformOrigin: "0% 50% 0px",
                transform: "translateX(-" + n.x + "px)"
            }), l.$turn.css({
                width: l._$app.width() - n.x + "px",
                height: l._$app.height() + "px",
                left: -(l._$app.width() - 2 * n.x) + "px",
                background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"
            }))
    }

    function s(e, t, n, i) {
        e.css({
            width: (n - t.x + 6) / 2 + "px",
            height: i + "px",
            top: 0,
            left: t.x + 2 + "px",
            background: "-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",
            transform: "",
            border: 0
        })
    }

    function a() {
        l.isBottomRightDragging = null, delete l.isBottomRightDragging, l.isTopRightDragging = null, delete l.isTopRightDragging, l.isRightCenterDragging = null, delete l.isRightCenterDragging, l.isLeftCenterDragging = null, delete l.isLeftCenterDragging, l.$flipMask = null, delete l.$flipMask, t(l.currentPage.section).unwrap(), t(l.currentPage.section).css({
            transform: "",
            top: 0,
            left: 0
        }), l.$turn.css({
            width: 0,
            height: 0,
            top: 0,
            left: 0,
            transform: "",
            background: "none"
        }), t(document).trigger("flipend")
    }

    function c() {
        l.activePage && t(l.activePage.section).css({
            width: l._$app.width(),
            height: l._$app.height()
        }).wrap('<div class="flip-mask"></div>')
    }

    var l, u = n.scroll, p = n.util.mobilecheck(), h = n.util.isAndroid();
    u.bookMove = function () {
        if (l = this, this.$flipMask = t(this.currentPage.section).parent(), this.moveDistanceX < 0 ? i() : this.moveDistanceX > 0 && r(), this.activePage) {
            var e = {x: l.moveDistanceX + l.startX, y: l.moveDistanceY + l.startY};
            o(e)
        }
    }, u.bookEnd = function () {
        l = this;
        var e, t, n, i = 16, r = l.moveDistanceX + l.startX, s = l.moveDistanceY + l.startY;
        l.isBottomRightDragging ? (e = -l._$app.width(), t = l._$app.height(), n = setInterval(function () {
            r = i >= r - e ? r : r - i, s = i >= t - s ? s : s + i, o({
                x: r,
                y: s
            }), i >= r - e && i >= s - t && (clearInterval(n), a())
        }, 10)) : l.isTopRightDragging ? (e = -l._$app.width(), t = 0, n = setInterval(function () {
            r = i >= r - e ? r : r - i, s = i >= s - t ? s : s - i, o({
                x: r,
                y: s
            }), i >= r - e && i >= s - t && (clearInterval(n), a())
        }, 10)) : l.isRightCenterDragging ? (i = 5, e = -l._$app.width(), n = setInterval(function () {
            r = i >= r - e ? r : r - i, o({x: r, y: s}), i >= r - e && (clearInterval(n), a())
        }, 10)) : l.isLeftCenterDragging && (i = 3, e = l._$app.width(), t = 0, n = setInterval(function () {
                r = i >= e - r ? r : r + i, o({x: r, y: s}), i >= e - r && (clearInterval(n), a())
            }, 1))
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.cardMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX))if (this.moveDistanceY > 0) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!0), this.cssAnim(this.$con, "perspective", "700px"), this.cssAnim(this.$con, "transform-style", "preserve-3d"), this.cssAnimation(this.activePage.section.style, "TransformOrigin", "top"), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(90deg)")), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(" + (90 - this.moveDistanceY / this.windowHeight * 90) + "deg) "))
        } else if (this.moveDistanceY < 0) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!1), this.cssAnimation(this.activePage.section.style, "TransformOrigin", "bottom"), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(-90deg)"), this.cssAnim(this.$con, "perspective", "700px"), this.cssAnim(this.$con, "transform-style", "preserve-3d")), this.activePage.section && this.activePage.section.classList.contains("main-page") ? (this.activePage.active(), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(" + (-90 - this.moveDistanceY / this.windowHeight * 90) + "deg) ")) : (this.cssAnimation(this.currentPage.section.style, "Transform", "translateX(0px) scale(1)"), this.activePage.section = null)
        }
    }, i.cardEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.moveDistanceY > 0 ? this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(0deg)") : this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(0deg)"), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.cubeMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX))if (this.moveDistanceY > 0) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!0), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(90deg) translateY(-" + this.windowHeight / 2 + "px) translateZ(" + this.windowHeight / 2 + "px)"), this.cssAnimation(this.$con.get(0).style, "Perspective", "700px"), this.cssAnimation(this.$con.get(0).style, "TransformStyle", "preserve-3d")), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), t(this.activePage.section).css("zIndex", 1), this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(-" + this.moveDistanceY / this.windowHeight * 90 + "deg) translateY(" + this.moveDistanceY / 2 + "px) translateZ(" + this.moveDistanceY / 2 + "px)"), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(" + (90 - this.moveDistanceY / this.windowHeight * 90) + "deg) translateY(" + (-(this.windowHeight / 2) + this.moveDistanceY / 2) + "px) translateZ(" + (this.windowHeight / 2 - this.moveDistanceY / 2) + "px)"))
        } else if (this.moveDistanceY < 0) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!1), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(-90deg) translateY(-" + this.windowHeight / 2 + "px) translateZ(-" + this.windowHeight / 2 + "px)"), this.cssAnimation(this.$con.get(0).style, "Perspective", "700px"), this.cssAnimation(this.$con.get(0).style, "TransformStyle", "preserve-3d")), this.activePage.section && this.activePage.section.classList.contains("main-page") ? (this.activePage.active(), t(this.activePage.section).css("zIndex", 0), this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(" + -this.moveDistanceY / this.windowHeight * 90 + "deg) translateY(" + this.moveDistanceY / 2 + "px) translateZ(" + -this.moveDistanceY / 2 + "px)"), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(" + (-90 - this.moveDistanceY / this.windowHeight * 90) + "deg) translateY(" + (this.windowHeight / 2 + this.moveDistanceY / 2) + "px) translateZ(" + (this.windowHeight / 2 + this.moveDistanceY / 2) + "px)")) : (this.cssAnimation(this.currentPage.section.style, "Transform", "translateX(0px) scale(1)"), this.activePage = null)
        }
    }, i.cubeEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.moveDistanceY > 0 ? this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(-90deg) translateY(" + this.windowHeight / 2 + "px) translateZ(" + this.windowHeight / 2 + "px)") : this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(90deg) translateY(-" + this.windowHeight / 2 + "px) translateZ(" + this.windowHeight / 2 + "px)"), this.cssAnimation(this.currentPage.section.style, "zIndex", "0"), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(0deg) translateY(0px) translateZ(0px)"), this.cssAnimation(this.activePage.section.style, "zIndex", "2"), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.fadeInMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX))if (this.moveDistanceY > 0) {
            if (this._isDisableFlipPrevPage)return;
            (this.isNext || this.isFirstTime) && (this.isNext = !1, this.isFirstTime = !1, this.activePage && (this.activePage.section.classList.remove("z-fade-in"), this.activePage.deactive()), this.activePage = this.getCurAndActive(!0), this.currentPage.section.style.zIndex = 1, this.activePage.section.style.zIndex = 2, this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.section.classList.add("z-fade-in"), this.activePage.active()))
        } else if (this.moveDistanceY < 0) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && (this.activePage.section.classList.remove("z-fade-in"), this.activePage.deactive()), this.activePage = this.getCurAndActive(!1), this.currentPage.section.style.zIndex = 1, this.activePage.section.style.zIndex = 2, this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.section.classList.add("z-fade-in"), this.activePage.active()))
        }
    }, i.fadeInEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) ? setTimeout(function () {
            t(document).trigger("flipend")
        }, 1600) : (this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.fallMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX)) {
            if (this.moveDistanceY > 0) {
                if (this._isDisableFlipPrevPage)return;
                (this.isNext || this.isFirstTime) && (this.isNext = !1, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!0), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), t(this.activePage.section).css({
                    zIndex: 0,
                    opacity: 1
                })), t(this.currentPage.section).css({opacity: 1}), t(this.activePage.section).css({
                    zIndex: 0,
                    opacity: 1
                }), this.cssAnim(t(this.activePage.section), "transform", "translateY(0)"), this.cssAnim(t(this.currentPage.section), "transform-origin", "0% 0% 0px"))
            } else if (this.moveDistanceY < 0) {
                if (this._isDisableFlipNextPage)return;
                this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!1), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), t(this.activePage.section).css({
                    zIndex: 0,
                    opacity: 1
                })), t(this.currentPage.section).css({opacity: 1}), t(this.activePage.section).css({
                    zIndex: 0,
                    opacity: 1
                }), this.cssAnim(t(this.activePage.section), "transform", "translateY(0)"), this.cssAnim(t(this.currentPage.section), "transform-origin", "0% 0% 0px"))
            }
            this.activePage && (this.cssAnim(t(this.currentPage.section), "transform-origin", "0% 0% 0px"), this.cssAnim(t(this.currentPage.section), "transform", "rotate(" + Math.abs(this.moveDistanceY) / this.windowHeight * 90 + "deg)"), this.currentPage.section.style.opacity = ((this.windowHeight - Math.abs(this.moveDistanceY)) / this.windowHeight).toFixed(1))
        }
    }, i.fallEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.cssAnim(t(this.currentPage.section), "transform", "translateY(" + this.windowHeight + "px) rotate(" + Math.abs(this.moveDistanceY) / this.windowHeight * 90 + "deg)"), t(this.currentPage.section).css({opacity: .5}), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        this.cssAnimation(this.activePage.section.style, "TransformOrigin", "center"), this.cssAnimation(this.currentPage.section.style, "TransformOrigin", "center")
    }

    var r = n.scroll;
    r.flipMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX)) {
            if (this._isDisableFlipNextPage)return;
            this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.moveDistanceY > 0 ? (this.activePage = this.getCurAndActive(!0), i.bind(this)(), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(0deg)")) : (this.activePage = this.getCurAndActive(!1), i.bind(this)(), this.cssAnimation(this.activePage.section.style, "Transform", "rotateX(-90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(0deg)"))), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(" + this.moveDistanceY / this.windowHeight * 90 + "deg) "))
        }
    }, r.flipEnd = function () {
        var e = this;
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.moveDistanceY > 0 ? (this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(70deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "rotateX(0deg)")
        }, 400)) : (this.cssAnimation(this.currentPage.section.style, "Transform", "rotateX(-70deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "rotateX(0deg)")
        }, 400)), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.horizontalMove = function () {
        if (Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY))if (this.moveDistanceX > 0) {
            if (this._isDisableFlipPrevPage)return;
            this.isNext || this.isFirstTime ? (this.isNext = !1, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!0), this.getMoveInit(!0, "center right", "translateX", this.windowWidth)) : this.setCssWhenMove(!0, "translateX", this.windowWidth, this.moveDistanceX, this._scrollMode)
        } else if (this.moveDistanceX < 0) {
            if (this._isDisableFlipNextPage)return;
            !this.isNext || this.isFirstTime ? (this.isNext = !0, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!1), this.getMoveInit(!1, "center left", "translateX", this.windowWidth)) : this.setCssWhenMove(!1, "translateX", this.windowWidth, this.moveDistanceX, this._scrollMode)
        }
    }, i.horizontalEnd = function () {
        Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY) && Math.abs(this.moveDistanceX) > 20 ? (this.setCssWhenEnd("translateX", this.moveDistanceX, this.windowWidth, this._scrollMode), t(document).trigger("flipend")) : (this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        e ? 14 === this._scrollMode ? (this.cssAnimation(this.activePage.section.style, "TransformOrigin", "bottom"), this.cssAnimation(this.currentPage.section.style, "TransformOrigin", "top")) : (this.cssAnimation(this.activePage.section.style, "TransformOrigin", "right"), this.cssAnimation(this.currentPage.section.style, "TransformOrigin", "left")) : 14 === this._scrollMode ? (this.cssAnimation(this.activePage.section.style, "TransformOrigin", "top"), this.cssAnimation(this.currentPage.section.style, "TransformOrigin", "bottom")) : (this.cssAnimation(this.activePage.section.style, "TransformOrigin", "left"), this.cssAnimation(this.currentPage.section.style, "TransformOrigin", "right"))
    }

    var r = n.scroll;
    r.pushMove = function () {
        this._isDisableFlipNextPage || (this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), 14 === this._scrollMode ? this.moveDistanceY > 0 ? (this.activePage = this.getCurAndActive(!0), i.bind(this)(!1), this.cssAnimation(this.activePage.section.style, "Transform", "perspective(700px) rotateX(-90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateX(0deg)")) : (this.activePage = this.getCurAndActive(!1), i.bind(this)(!0), this.cssAnimation(this.activePage.section.style, "Transform", "perspective(700px) rotateX(90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateX(0deg)")) : this.moveDistanceX > 0 ? (this.activePage = this.getCurAndActive(!0), i.bind(this)(!1), this.cssAnimation(this.activePage.section.style, "Transform", "perspective(700px) rotateY(90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateY(0deg)")) : (this.activePage = this.getCurAndActive(!1), i.bind(this)(!0), this.cssAnimation(this.activePage.section.style, "Transform", "perspective(700px) rotateY(-90deg)"), this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateY(0deg)"))), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), 14 === this._scrollMode ? this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateX(" + this.moveDistanceY / this.windowHeight * 90 + "deg) ") : this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateY(" + this.moveDistanceX / this.windowHeight * 90 + "deg) ")))
    }, r.pushEnd = function () {
        var e = this;
        14 === this._scrollMode ? Math.abs(this.moveDistanceY) > 20 ? (this.moveDistanceY > 0 ? (this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateX(90deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "perspective(700px) rotateX(0deg)")
        }, 200)) : (this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateX(-90deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "perspective(700px) rotateX(0deg)")
        }, 200)), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip()) : Math.abs(this.moveDistanceX) > 20 ? (this.moveDistanceX > 0 ? (this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateY(-90deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "perspective(700px) rotateY(0deg)")
        }, 200)) : (this.cssAnimation(this.currentPage.section.style, "Transform", "perspective(700px) rotateY(90deg)"), setTimeout(function () {
            e.cssAnimation(e.activePage.section.style, "Transform", "perspective(700px) rotateY(0deg)")
        }, 200)), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.scaleMove = function () {
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX)) {
            if (this.moveDistanceY > 0) {
                if (this._isDisableFlipPrevPage)return;
                (this.isNext || this.isFirstTime) && (this.isNext = !1, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!0), this.activePage.section.style.zIndex = 2, this.activePage.section && this.activePage.section.classList.contains("main-page") && this.activePage.active(), this.activePage.section.style.opacity = 0)
            } else if (this.moveDistanceY < 0) {
                if (this._isDisableFlipNextPage)return;
                this.isNext && !this.isFirstTime || (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!1), this.activePage.section.style.zIndex = 2, this.activePage.section && this.activePage.section.classList.contains("main-page") && this.activePage.active(), this.activePage.section.style.opacity = 0)
            }
            var e = Math.abs(this.moveDistanceY) / this.windowHeight * 1.3;
            this.activePage.section.style.opacity = e.toFixed(1), e.toFixed(3) <= 1 && this.cssAnim(t(this.activePage.section), "transform", "scale(" + e.toFixed(3) + ")")
        }
    }, i.scaleEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.cssAnim(t(this.activePage.section), "transform", "scale(1)"), this.activePage.section.style.opacity = 1, t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.mobilecheck, r = n.scroll;
    r.singleMove = function () {
        var n = i();
        if (Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY))if (this.moveDistanceX > 0) {
            if (this._isDisableFlipPrevPage)return;
            this.isNext || this.isFirstTime ? (this.isNext = !1, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!0), this.windowWidth = n ? e.innerWidth : t(".nr").width(), this.getMoveInit(!0, "", "translateX", this.windowWidth)) : this.setCssWhenMove(!0, "translateX", this.windowWidth, this.moveDistanceX, this._scrollMode)
        } else if (this.moveDistanceX < 0) {
            if (this._isDisableFlipNextPage)return;
            !this.isNext || this.isFirstTime ? (this.isNext = !0, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!1), this.windowWidth = n ? e.innerWidth : t(".nr").width(), this.getMoveInit(!1, "", "translateX", this.windowWidth)) : this.setCssWhenMove(!1, "translateX", this.windowWidth, this.moveDistanceX, this._scrollMode)
        }
    }, r.singleEnd = function () {
        Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY) && Math.abs(this.moveDistanceX) > 20 ? (this.setCssWhenEnd("translateX", this.moveDistanceX, this.windowWidth, this._scrollMode), t(document).trigger("flipend")) : (this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.swapMove = function () {
        if (Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY))if (this.moveDistanceX > 0) {
            if (this._isDisableFlipPrevPage)return;
            this.isNext || this.isFirstTime ? (this.isNext = !1, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!0), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), this.cssAnim(t(this.activePage.section), "Transform", "scale(0.3) translateX(0) translateZ(-" + this.windowHeight + "px) rotateY(45deg)"),
                this.activePage.section.style.zIndex = "0"), this.cssAnim(this.$con, "perspective", "1000px"), this.currentPage.section.style.zIndex = "100") : this.activePage && (this.moveDistanceX <= this.windowWidth / 4 ? this.cssAnim(t(this.currentPage.section), "Transform", "translateX(" + this.moveDistanceX + "px)") : this.cssAnim(t(this.currentPage.section), "Transform", "translateX(" + 1.5 * this.moveDistanceX + "px) scale(" + ((5 * this.windowWidth / 4 - this.moveDistanceX) / this.windowWidth).toFixed(3) + ") rotateY(" + this.moveDistanceX / this.windowWidth * 45 + "deg) translateZ(-" + (this.moveDistanceX - this.windowWidth / 4) + "px)"))
        } else if (this.moveDistanceX < 0) {
            if (this._isDisableFlipNextPage)return;
            !this.isNext || this.isFirstTime ? (this.isNext = !0, this.isFirstTime = !1, this.activePage && this.activePage.deactive(), this.activePage = this.getCurAndActive(!1), this.activePage.section && this.activePage.section.classList.contains("main-page") && (this.activePage.active(), this.cssAnim(t(this.activePage.section), "Transform", "scale(0.3) translateX(" + (this.windowWidth + 300) + "px) translateZ(-" + this.windowHeight + "px) rotateY(-45deg)"), this.activePage.section.style.zIndex = "0"), this.cssAnim(this.$con, "perspective", "1000px"), this.currentPage.section.style.zIndex = "100") : this.activePage && (this.moveDistanceX >= -this.windowWidth / 4 ? this.cssAnim(t(this.currentPage.section), "Transform", "translateX(" + this.moveDistanceX + "px)") : this.cssAnim(t(this.currentPage.section), "Transform", "translateX(" + 1.5 * this.moveDistanceX + "px) scale(" + ((5 * this.windowWidth / 4 + this.moveDistanceX) / this.windowWidth).toFixed(3) + ") rotateY(" + this.moveDistanceX / this.windowWidth * 45 + "deg) translateZ(" + (this.moveDistanceX + this.windowWidth / 4) + "px)"), this.cssAnim(t(this.activePage.section), "Transform", "scale(" + (.3 - (this.moveDistanceX + this.windowWidth / 4) / this.windowWidth).toFixed(3) + ") translateX(" + (-this.moveDistanceX - this.windowWidth / 4 + 200) + "px) translateZ(" + (-this.moveDistanceX - 3 * this.windowWidth / 4) + "px) rotateY(-" + (45 + (this.moveDistanceX + this.windowWidth / 4) / this.windowWidth * 45) + "deg)"))
        }
    }, i.swapEnd = function () {
        Math.abs(this.moveDistanceX) > Math.abs(this.moveDistanceY) && Math.abs(this.moveDistanceX) > 20 ? (this.moveDistanceX > 0 ? (this.currentPage.section.style.webkitTransformOrigin = "left", this.currentPage.section.style.webkitTransform = "translateX(0) translateZ(-" + this.windowHeight + "px) rotateY(0) scale(0.2)", this.activePage.section.style.webkitTransform = "translateX(0) translateZ(0) rotateY(0) scale(1)", this.currentPage.section.style.zIndex = "0", this.activePage.section.style.zIndex = "1") : (this.currentPage.section.style.webkitTransformOrigin = "right", this.currentPage.section.style.webkitTransform = "translateX(" + this.windowWidth + "px) translateZ(-" + this.windowHeight + "px) rotateY(0) scale(0.2)", this.activePage.section.style.webkitTransform = "translateX(0) translateZ(0) rotateY(0) scale(1)", this.activePage.section.style.zIndex = "1", this.currentPage.section.style.zIndex = "0"), t(document).trigger("flipend")) : (this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this.cssAnimation(this.activePage.section.style, "Transition", "none"), this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.scroll;
    i.verticalMove = function () {
        var e = this, t = Math.abs(e.moveDistanceY) <= Math.abs(e.moveDistanceX) || 0 == e.moveDistanceY;
        if (!t)if (e.moveDistanceY > 0) {
            if (e._isDisableFlipPrevPage)return;
            e.isNext || e.isFirstTime ? (e.isNext = !1, e.isFirstTime = !1, this.activePage = e.getCurAndActive(!0), e.getMoveInit(!0, "bottom center", "translateY", e.windowHeight)) : e.setCssWhenMove(!0, "translateY", e.windowHeight, e.moveDistanceY, e._scrollMode)
        } else if (e.moveDistanceY < 0) {
            if (e._isDisableFlipNextPage)return;
            !e.isNext || e.isFirstTime ? (e.isNext = !0, e.isFirstTime = !1, this.activePage = e.getCurAndActive(!1), e.getMoveInit(!1, "top center", "translateY", e.windowHeight)) : e.setCssWhenMove(!1, "translateY", e.windowHeight, e.moveDistanceY, e._scrollMode)
        }
    }, i.verticalEnd = function () {
        var e = this;
        Math.abs(e.moveDistanceY) > Math.abs(e.moveDistanceX) && Math.abs(e.moveDistanceY) > 20 ? (e.setCssWhenEnd("translateY", e.moveDistanceY, e.windowHeight, e._scrollMode), t(document).trigger("flipend")) : (e._isDisableFlipPage = !1, e.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.mobilecheck, r = n.scroll;
    r.verticalSingleMove = function () {
        var n = i();
        if (Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX))if (this.moveDistanceY > 0) {
            if (this._isDisableFlipPrevPage)return;
            this.isNext || this.isFirstTime ? (this.isNext = !1, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!0), this.windowHeight = n ? e.innerHeight : t(".nr").height(), this.getMoveInit(!0, "", "translateY", this.windowHeight)) : this.setCssWhenMove(!0, "translateY", this.windowHeight, this.moveDistanceY, this._scrollMode)
        } else if (this.moveDistanceY < 0) {
            if (this._isDisableFlipNextPage)return;
            !this.isNext || this.isFirstTime ? (this.isNext = !0, this.isFirstTime = !1, this.activePage = this.getCurAndActive(!1), this.windowHeight = n ? e.innerHeight : t(".nr").height(), this.getMoveInit(!1, "", "translateY", this.windowHeight)) : this.setCssWhenMove(!1, "translateY", this.windowHeight, this.moveDistanceY, this._scrollMode)
        }
    }, r.verticalSingleEnd = function () {
        Math.abs(this.moveDistanceY) > Math.abs(this.moveDistanceX) && Math.abs(this.moveDistanceY) > 20 ? (this.setCssWhenEnd("translateY", this.moveDistanceY, this.windowHeight, this._scrollMode), t(document).trigger("flipend")) : (this._isDisableFlipPage = !1, this.cancelFlip())
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        return '\n<section class="u-arrow-bottom">\n    <div class="pre-wrap">\n        <div class="pre-box1">\n            <div class="pre1"></div>\n        </div>\n        <div class="pre-box2">\n            <div class="pre2"></div>\n        </div>\n    </div>\n</section>'
    }

    function r() {
        return '\n<section class="u-arrow-right">\n    <div class="pre-wrap-right">\n        <div class="pre-box3">\n            <div class="pre3"></div>\n        </div>\n        <div class="pre-box4">\n            <div class="pre4"></div>\n        </div>\n    </div>\n</section>'
    }

    var o = n.util, s = n.tpl.page = {};
    s.section = function () {
        return '<section class="main-page"></section>'
    }, s.pageDiv = function (e) {
        return '<div class="m-img" id="page' + e + '"></div>'
    }, s.editDiv = function (e) {
        return '<div class="edit_wrapper" data-scene-id="' + e + '"></div>'
    }, s.ul = function (e) {
        return '<ul id="edit_area' + e + '" class="edit_area weebly-content-area weebly-area-active"></ul>'
    }, s.bottomArrow = i, s.rightArrow = r, s.arrow = function (e) {
        return o.isPageModeHorizontal(e) ? r() : (o.isPageModeVertical(e) || console.error("Invalid PageMode : " + e), i())
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = function () {
        function e(n, i, r) {
            function o(e, t) {
                var n = e + "/" + t;
                n != p && (p = n, l.text(n), c.css("width", parseFloat(a.width()) * e / t), a.css("z-index", 100))
            }

            var s = arguments.length <= 3 || void 0 === arguments[3] ? t("#nr") : arguments[3];
            _classCallCheck(this, e);
            var a = this.$progress = t('<div class="progress"></div>'), c = t("<span></span>"),
                l = t('<em class="page-tip"></em>');
            a.append([c, l]), n && s.append(a.css("display", "block"));
            var u = i || 1, p = "";
            t(document).on("updateProgressBar", function (e, t) {
                var n = t.index, i = t.length;
                o(n, i)
            }), o(u, r)
        }

        return _createClass(e, [{
            key: "hide", value: function () {
                this.$progress.hide()
            }
        }, {
            key: "show", value: function () {
                this.$progress.show()
            }
        }]), e
    }(), r = null;
    n.progressBar = {
        init: function (e, t, n, o) {
            r = new i(e, t, n, o)
        }, get: function () {
            return r || n.DEBUG && console.error("no progress bar! : " + r), r
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
        return e.some(function (e) {
            return e.type == u.shake
        })
    }

    var r = n.ENUM.ELEMENT_TYPE, o = n.tpl.page, s = n.API.loadEffect, a = n.util.resolveUrl, c = n.HOST,
        l = n.eventManager, u = n.ENUM.RAW_EVENT, p = n.util.isPc, h = n.progressBar, d = n.API.bigDataXBData,
        f = function g(e, t) {
            _classCallCheck(this, g), this.pageOptions = e, this.eqxScene = t, this.elementList = [], this.displayed = !1, this.width = t.width, this.height = t.height, this.hasCoverEffect = !1, this.bgm = n.bgm.get(), this.pv = 0
        };
    n.EqxPage = f;
    var v = f.prototype;
    v.toString = function () {
        return "page-" + this.pageOptions.id
    }, v.createSection = function () {
        var i = this, s = this.pageOptions, a = s.num, c = (s.sceneId, s.id), l = s.elements, u = void 0 === l ? [] : l;
        this.section = t(o.section())[0], this.pageDiv = t(o.pageDiv(a))[0], this.editDiv = t(o.editDiv(c))[0], this.ul = t(o.ul(c))[0], p() || (e.top === e ? this.setUlTopAndLeft() : this.setIframeUlTopAndLeft()), this.editDiv.appendChild(this.ul), this.section.appendChild(this.pageDiv);
        u = u.filter(function (e, t) {
            var o = r[e.type], s = n[o];
            return s ? !0 : (console.error("Invalid Type: " + o + " @Page" + i.pageOptions.id + " index: " + t), !1)
        });
        var h = u.findIndex(function (e) {
            return "EqxBackground" == r[e.type]
        }), d = u.findIndex(function (e) {
            return "EqxGravity" == r[e.type]
        });
        if (h > -1)var f = u.splice(h, 1)[0];
        if (d > -1)var v = u.splice(h, 1)[0];
        return this.elements = u.sort(function (e, t) {
            var n = e.css.zIndex, i = t.css.zIndex;
            n || (n = 1), i || (i = 1);
            var r = n - i;
            return Number.isNaN(r) ? -1 : r
        }), this.elements.forEach(function (e, t) {
            e.css.zIndex = t + 1, e.num = t + 1
        }), v && this.elements.push(v), f && this.elements.push(f), this.elements.forEach(function (e, t) {
            var o = function () {
                var o = r[e.type], s = n[o];
                if (!s)throw new Error("In Valid Type: " + o + " @Page" + i.pageOptions.id + " index: " + t);
                var a = new s(e, i);
                if ("EqxBackground" === o || "EqxGravity" == o) a.createContext(e, i.editDiv, i.width, i.height, i.getPageLength()); else {
                    var c = a.createElement();
                    a.addEventListeners(), i.ul.appendChild(c)
                }
                i.elementList.push(a)
            };
            try {
                o()
            } catch (s) {
                console.error(s, "Error! Element type: " + e.type, e)
            }
        }), this.pageDiv.appendChild(this.editDiv), this.section
    }, v.getPageLength = function () {
        return this.pageOptions.properties.longPage || 486
    }, v.addArrow = function () {
        this.arrow = t(o.arrow(this.pageOptions.pageMode))[0], this.section.appendChild(this.arrow)
    }, v.show = function () {
        this.displayed = !0, this.addShakeEventListener(), this.section.classList.add("z-current");
        var e = scene.property.activityPageId;
        return e && !this.pv && (this.pv += 1, d(scene.id, "3", {activityPageId: e}, "32", "活动页面")), this
    }, v.hide = function () {
        return this.displayed = !1, this.stopAllEleSound(), this.removeShakeEventListener(), this.elementList.forEach(function (e) {
            return e.eleHide()
        }), this.effect && this.effect.stopEffect && this.effect.stopEffect(), this.section.classList.remove("z-current"), this
    }, v.showElements = function () {
        var e = this;
        this.elementList.forEach(function (t) {
            var n = t.elementOptions.css.top;
            t.elementOptions.properties.anim && t.elementOptions.properties.anim[0] && 30 === t.elementOptions.properties.anim[0].type && (n -= t.elementOptions.css.height), n && n.toString().replace("px", "") <= e.height ? t.eleShow() : n || t.eleShow()
        })
    }, v.active = function () {
        function e(e) {
            e.hasCoverEffect ? (e.bgm.hide(), h.get().hide()) : e.showElements(), e.effect && e.effect.startEffect && e.effect.startEffect(), e.section.classList.add("z-active")
        }

        function n(e) {
            var t = [], n = e.elementList;
            return n.forEach(function (e) {
                e.anim.forEach(function (e) {
                    e.sound && e.soundAgent && t.push(e.soundAgent.audio)
                })
            }), t
        }

        var i = this, r = new Promise(function (r) {
            var o = n(i), s = o.length;
            o && o.length ? o.forEach(function (n) {
                4 === n.readyState ? 0 === --s && (e(i), r()) : (n.load(), t(n).on("canplay", function () {
                    0 === --s && (e(i), r())
                }).on("error", function () {
                    0 === --s && (e(i), r())
                }))
            }) : (e(i), r())
        });
        return r
    }, v.deactive = function () {
        return this.section.classList.remove("z-active"), this
    }, v.setUlTopAndLeft = function () {
        var e, n;
        return this.width / this.height >= 320 / 486 ? e = (this.width / (this.height / 486) - 320) / 2 : n = (this.height / (this.width / 320) - 486) / 2, e && t(this.ul).css({marginLeft: e}), n && t(this.ul).css({marginTop: n}), {
            marginLeft: e,
            marginTop: n
        }
    }, v.setIframeUlTopAndLeft = function () {
        var e, n = (this.width - 320) / 2, i = (this.height - 486) / 2;
        return e = this.width / this.height <= 320 / 486 ? "scale(" + this.width / 320 + ")" : "scale(" + this.height / 486 + ")", t(this.ul).css({
            marginTop: i,
            marginLeft: n,
            transform: e
        }), {marginLeft: n, marginTop: i}
    }, v.addEffect = function () {
        var e = this;
        return new Promise(function (t, i) {
            if (e.pageOptions.properties.effect && "gravity" != e.pageOptions.properties.effect.name) {
                var r = e.pageOptions, o = r.num, a = r.properties.effect, c = e, l = function () {
                    c.hasCoverEffect = !0, 1 == o && (h.get().hide(), c.bgm.hide(), c.bgm.stopPlay())
                }, u = function () {
                    c.hasCoverEffect = !1, h.get().show(), c.bgm.show(), 1 == o && c.bgm.startPlay(), c.showElements()
                }, p = a.name + "Effect", d = e;
                return s(p).then(function () {
                    var r = p[0].toUpperCase() + p.substr(1), o = n[r];
                    if (o)try {
                        e.effect = new o(a, d.pageDiv, d.width, d.height, l, u), e.effect.init(), t("特效初始化成功")
                    } catch (s) {
                        i("特效初始化失败")
                    } else i("错误的特效名 " + r)
                })["catch"](function () {
                    return i("特效脚本文件加载失败")
                })
            }
            t("无特效")
        })
    }, v.stopAllEleSound = function () {
        this.elementList.forEach(function (e) {
            return e.stopPlay()
        })
    }, v.removeShakeEventListener = function () {
        this.shakeHandler && e.removeEventListener("devicemotion", this.shakeHandler, !1)
    }, v.addShakeEventListener = function () {
        var t = this.pageOptions.properties.trigger;
        if (t && i(t.sends) && e.DeviceMotionEvent) {
            this.shakeAudio || (this.shakeAudio = document.createElement("audio"), this.shakeAudio.src = a(c.PROJECT_HOST, "audio/wxShake.mp3"));
            var n = this.pageOptions.id, r = n, o = this, s = t.sends.filter(function (e) {
                return e.type == u.shake
            }), p = 4e3, h = 0, d = 0, f = 0, v = 0, g = 100;
            this.shakeHandler = function (e) {
                var t = e.accelerationIncludingGravity, i = t.x, a = t.y, c = t.z, u = (new Date).getTime();
                if (u - h > g) {
                    var m = parseInt(u - h);
                    h = u;
                    var y = Math.abs(i + a + c - d - f - v) / m * 1e4;
                    y > p ? (g = 2e3, o.shakeAudio.play(), setTimeout(function (e) {
                        s.forEach(function (e) {
                            e.handles.forEach(function (t) {
                                l.publish({
                                    pageId: r,
                                    type: t.type,
                                    senderId: n,
                                    sender: o,
                                    options: {delay: 1e3 * e.delay}
                                })
                            })
                        })
                    }, 500)) : g = 100, d = i, f = a, v = c
                }
            }, e.addEventListener("devicemotion", this.shakeHandler, !1)
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(n) {
        var i = n.options.obj.pageMode, r = n.options.obj.property, o = r.forbidHandFlip, s = r.triggerLoop,
            u = void 0 === s ? !0 : s, h = r.autoFlip, d = r.autoFlipTime, f = void 0 === d ? 1 : d;
        this._data = n.options, this._$app = t(n.ele), this.left = this._$app.offset().left, this.top = this._$app.offset().top, this.pageList = n.pages, this.currentPage = n.currentPage, this.activePage = null, this._isDisableFlipPage = !1, this._isDisableFlipPrevPage = !1, this._isDisableFlipNextPage = !1, this._scrollMode = i, this.canHandleFlip = o, this.canAutoFlip = h, this.autoFlipInterval = f, this.autoFlipIntervalId = null, this.doScrollMoveFn = null, this.doScrollEndFn = null, this.canLoop = u, this.windowWidth = e.innerWidth, this.windowHeight = e.innerHeight, c || l || (this.windowWidth = this._$app.width(), this.windowHeight = this._$app.height()), this.startX = 0, this.startY = 0, this.moveDistanceX = 0, this.moveDistanceY = 0, this.isStart = !1, this.isNext = !1, this.isFirstTime = !0, this.flipEndTimeout = 800, this.animTime = .4, this.scrolling = !1, this._scrollMode == p["翻书翻页"] && (t(this.currentPage.section).css({
            width: this._$app.width(),
            height: this._$app.height()
        }).wrap('<div class="flip-mask"></div>'), this.$turn = t('<div class="turning"></div>').appendTo(this._$app)), this.$con = t("#con"), this.bindEventListeners(n), a() || this.startAudio()
    }

    function r(e) {
        return f = new i(e)
    }

    var o = n.util.mobilecheck, s = n.util.tabletCheck, a = n.util.isPc, c = o(), l = s(), u = n.util,
        p = n.ENUM.PAGE_MODE, h = t(e), d = i.prototype;
    d.startAudio = function () {
        this._$app.one("touchstart", function () {
            var e = n.bgm.get();
            e.startPlay()
        })
    }, d.bindEventListeners = function (e) {
        var n = this;
        this.setScrollMode(this._scrollMode), this.canAutoFlip && this.startAutoFlip(), function () {
            h.on("scroll.elasticity", function (e) {
                e.preventDefault()
            }).on("touchmove.elasticity", function (e) {
                e.preventDefault()
            }), t("img").on("dragstart", function (e) {
                e.preventDefault()
            })
        }();
        var i = !1;
        this._$app.on("mousedown touchstart", function (e) {
            n.canHandleFlip || (n.scrollStart(e), i = !0)
        }).on("mousemove touchmove", function (e) {
            n.canHandleFlip || i && n.scrollMove(e)
        }).on("mouseup touchend mouseleave", function (e) {
            n.canHandleFlip || (n.scrollEnd(e), i = !1)
        }), t(document).on("flipend", function (e) {
            t(document).trigger("updateProgressBar", {
                index: n.activePage.pageOptions.num,
                length: n.pageList.length
            }), setTimeout(function () {
                n.cssAnimation(n.currentPage.section.style, "Transition", "none"), n.activePage.deactive().show(), n.currentPage.deactive().hide(), n.currentPage = n.activePage, n._isDisableFlipPage = !1, n._scrollMode != p["放大翻页"] && n._scrollMode != p["交换翻页"] && n._scrollMode != p["掉落翻页"] || (t(n.currentPage.section).css("z-index", "1"), t(".main-page").attr("style", ""))
            }, n.flipEndTimeout)
        }), t(document).on("startAutoFlip", function (e) {
            n.canAutoFlip && n.startAutoFlip()
        })
    }, d.cssAnimation = function (e, t, n) {
        for (var i = ["", "webkit", "moz"], r = 0, s = i.length; s > r; r++) {
            0 != r || o() || (t = t.substring(0, 1).toLowerCase() + t.substring(1, t.length));
            var a = n instanceof Array ? n[r] : n, c = i[r] + t;
            e[c] = a
        }
    }, d.cssAnim = function (e, t, n) {
        for (var i = ["", "-webkit-", "-moz-"], r = 0; r < i.length; r++)e.css(i[r] + t, n)
    }, d.getCoord = function (e) {
        return e && e.type.includes("mouse") ? {
            x: e.pageX - this.left,
            y: e.pageY - this.top
        } : e && e.type.includes("touch") ? {
            x: e.touches ? e.touches[0].pageX : e.originalEvent.touches[0].pageX,
            y: e.touches ? e.touches[0].pageY : e.originalEvent.touches[0].pageY
        } : void 0
    }, d.getMoveInit = function (e, n, i, r) {
        var o = this.activePage;
        if (o && o.deactive(), o && o.section.classList.contains("main-page")) {
            o.active();
            var s = e ? "-" : "";
            o.section.style.webkitTransition = "none", o.section.style.mozTransition = "none", o.section.style.transition = "none", o.section.style.webkitTransform = i + "(" + s + r + "px)", o.section.style.mozTransform = i + "(" + s + r + "px)", o.section.style.transform = i + "(" + s + r + "px)", t(this.activePage.section).trigger("active"), n && this.cssAnim(t(this.currentPage.section), "transform-origin", n)
        } else this.cssAnimation(this.currentPage.section.style, "Transform", i + "(0px) scale(1)")
    }, d.setCssWhenMove = function (e, n, i, r, o) {
        if (this.activePage) {
            var s = e ? "-" : "";
            this.cssAnim(t(this.activePage.section), "transform", n + "(" + s + (i - Math.abs(r)) + "px)"), o != p["上下惯性翻页"] && o != p["左右惯性翻页"] || this.cssAnim(t(this.currentPage.section), "transform", "scale(" + ((i - Math.abs(r)) / this.windowHeight).toFixed(3) + ")"), o != p["左右连续翻页"] && o != p["上下连续翻页"] || this.cssAnim(t(this.currentPage.section), "transform", n + "(" + r + "px)")
        }
    }, d.setCssWhenEnd = function (e, n, i, r) {
        if (r == p["上下惯性翻页"] || r == p["左右惯性翻页"]) this.cssAnim(t(this.currentPage.section), "transform", "scale(0.2)"); else if (r == p["左右连续翻页"] || r == p["上下连续翻页"]) {
            var o = n > 0 ? "" : "-";
            this.cssAnim(t(this.currentPage.section), "transform", e + "(" + o + i + "px)")
        } else this.cssAnim(t(this.currentPage.section), "transform", "scale(1)");
        this.cssAnim(t(this.activePage.section), "transform", e + "(0px)")
    }, d.cancelFlip = function () {
        var e = this;
        this._isDisableFlipPage = !0;
        var n;
        this.setScrollFn(), this._scrollMode != p["上下翻页"] && this._scrollMode != p["上下惯性翻页"] && this._scrollMode != p["立体翻页"] && this._scrollMode != p["交换翻页"] && this._scrollMode != p["上下连续翻页"] && this._scrollMode != p["掉落翻页"] || (n = this.moveDistanceY > 0 ? -this.windowHeight : this.windowHeight, this.cssAnim(t(this.activePage.section), "transform", "translateY(" + n + "px)"), this.cssAnim(t(this.currentPage.section), "transform", "translateY(0) scale(1)")), this._scrollMode != p["左右惯性翻页"] && this._scrollMode != p["左右连续翻页"] || (n = this.moveDistanceX > 0 ? -this.windowWidth : this.windowWidth, this.cssAnim(t(this.activePage.section), "transform", "translateX(" + n + "px)"), this.cssAnim(t(this.currentPage.section), "transform", "translateX(0) scale(1)")), setTimeout(function () {
            t(e.currentPage.section).attr("style", ""), t(e.activePage.section).attr("style", ""), e.activePage.deactive(), e._isDisableFlipPage = !1
        }, 500)
    }, d.scrollStart = function (e) {
        if (!this._isDisableFlipPage && (this.scrolling || (this.activePage = null), this.currentPage)) {
            this.isStart = !0, this.isNext = !1, this.isFirstTime = !0, this.moveDistanceX = 0, this.moveDistanceY = 0;
            var t = this.getCoord(e);
            t && (this.startX = t.x, this.startY = t.y), this.cssAnimation(this.currentPage.section.style, "Transition", "none"), this._scrollMode == p["掉落翻页"] && (this.currentPage.section.style.zIndex = 3)
        }
    }, d.enableScroll = function () {
        return this.isStart && this.pageList.length > 1 && !this.currentPage.hasCoverEffect
    }, d.scrollMove = function (e) {
        if (this.enableScroll()) {
            var t = this.getCoord(e);
            t && (this.moveDistanceX = t.x - this.startX, this.moveDistanceY = t.y - this.startY), this.setScrollFn(), this.doScrollMoveFn()
        }
    }, d.scrollEnd = function (e) {
        this.scrolling = !1, this.isStart && (this.isStart = !1, this.activePage && (this._isDisableFlipPage = !0, this.setScrollEndAnim(), this.setScrollFn(), this.doScrollEndFn()), this.canAutoFlip && this.startAutoFlip())
    }, d.setScrollFn = function () {
        var e = "";
        switch (this._scrollMode + "") {
            case p["上下翻页"]:
            case p["上下惯性翻页"]:
                e = "vertical";
                break;
            case p["左右翻页"]:
            case p["左右惯性翻页"]:
                e = "horizontal";
                break;
            case p["左右连续翻页"]:
                e = "single";
                break;
            case p["立体翻页"]:
                e = "cube";
                break;
            case p["卡片翻页"]:
                e = "card";
                break;
            case p["放大翻页"]:
                e = "scale";
                break;
            case p["交换翻页"]:
                e = "swap";
                break;
            case p["上下连续翻页"]:
                e = "verticalSingle";
                break;
            case p["掉落翻页"]:
                e = "fall";
                break;
            case p["淡入翻页"]:
                e = "fadeIn";
                break;
            case p["翻书翻页"]:
                e = "book";
                break;
            case p["上下推出翻页"]:
                e = "push";
                break;
            case p["左右推出翻页"]:
                e = "push";
                break;
            case p["折叠翻页"]:
                e = "flip";
                break;
            default:
                e = "vertical"
        }
        this.doScrollMoveFn = n.scroll[e + "Move"].bind(this), this.doScrollEndFn = n.scroll[e + "End"].bind(this)
    }, d.getCurAndActive = function (e) {
        if (this.scrolling)return this.activePage;
        var t = null, n = this.pageList.indexOf(this.currentPage), i = this.pageList.length - 1;
        return e ? n > 0 ? t = this.pageList[n - 1] : this.canLoop && (t = this.pageList[i]) : i > n ? t = this.pageList[n + 1] : this.canLoop && (t = this.pageList[0]), t
    }, d.setTransition = function (e, t, n) {
        e.style.webkitTransition = "-webkit-transform " + t + "s " + n, e.style.mozTransition = "-moz-transform " + t + "s " + n, e.style.transition = "transform " + t + "s " + n
    }, d.setScrollEndAnim = function () {
        var e;
        this._scrollMode != p["立体翻页"] && this._scrollMode != p["卡片翻页"] || (e = "cubic-bezier(0,0,0.99,1)"), e = this._scrollMode == p["掉落翻页"] ? "cubic-bezier(.17,.67,.87,.13)" : "linear", this._scrollMode != p["翻书翻页"] && (this.setTransition(this.currentPage.section, this.animTime, e), this.setTransition(this.activePage.section, this.animTime, e))
    }, d.setScrollMode = function (e) {
        n.DEBUG, this._scrollMode = e, this._scrollMode != p["放大翻页"] && this._scrollMode != p["交换翻页"] || (this.animTime = .7, this.flipEndTimeout = 800)
    }, d.startAutoFlip = function (e) {
        var t = this;
        e && this.setAutoFlipTime(e), this.pauseAutoFlip(), this.autoFlipIntervalId = setInterval(function () {
            t.goToNextPage()
        }, 1e3 * this.autoFlipInterval)
    }, d.pauseAutoFlip = function () {
        this.autoFlipIntervalId && clearInterval(this.autoFlipIntervalId)
    }, d.setAutoFlipTime = function (e) {
        e && (this.canAutoFlip = !0, this.autoFlipInterval = e)
    }, d.goToPageById = function (e) {
        if (!this._isDisableFlipPage) {
            this.scrolling = !0;
            var t, n = this.pageList.find(function (t) {
                return e == t.pageOptions.id
            });
            if (n) {
                t = n.pageOptions.num;
                var i = this.currentPage.pageOptions.num, r = this.pageList[t - 1];
                r && (this.activePage = r, i > t ? this.goToPrePage() : t > i && this.goToNextPage())
            }
        }
    }, d.goToPageByIndex = function (e) {
        var t = this.pageList[e];
        t && this.goToPageById(t.pageOptions.id)
    }, d.goToLastPage = function () {
        this.goToPageByIndex(this.pageList.length - 1)
    }, d.goToPrePage = function () {
        var e = this;
        this._scrollMode == p["翻书翻页"] && (this.startX = 0, this.startY = 0);
        var t = 0;
        this.scrollStart();
        var n = setInterval(function () {
            t += 2, u.isPageModeVertical(e._scrollMode) && (e.moveDistanceY = t), u.isPageModeHorizontal(e._scrollMode) && (e.moveDistanceX = t), e.scrollMove(), t >= 21 && (clearInterval(n), e.scrollEnd())
        }, 2)
    }, d.goToNextPage = function () {
        var e = this;
        this._scrollMode == p["翻书翻页"] && (this.startX = this._$app.width(), this.startY = this._$app.height());
        var t = 0;
        this.scrollStart();
        var n = setInterval(function () {
            t -= 2, u.isPageModeVertical(e._scrollMode) && (e.moveDistanceY = t), u.isPageModeHorizontal(e._scrollMode) && (e.moveDistanceX = t), e.scrollMove(), -21 >= t && (clearInterval(n), e.scrollEnd(), e.canLoop || e.activePage || clearInterval(e.autoFlipIntervalId))
        }, 2)
    }, d.setHandleFlip = function (e) {
        this.canHandleFlip = e
    }, d.disableHandleFlip = function () {
        this.setHandleFlip(!1)
    }, d.enableHandleFlip = function () {
        this.setHandleFlip(!0)
    }, d.setLoop = function (e) {
        this.canLoop = e
    }, d.disableLoop = function () {
        this.setLoop(!1)
    }, d.enableLoop = function () {
        this.setLoop(!0)
    };
    var f = null, v = n.scroll;
    v.App = i, v.create = r
}(window, $, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function e(t, n, i) {
    null === t && (t = Function.prototype);
    var r = Object.getOwnPropertyDescriptor(t, n);
    if (void 0 === r) {
        var o = Object.getPrototypeOf(t);
        return null === o ? void 0 : e(o, n, i)
    }
    if ("value" in r)return r.value;
    var s = r.get;
    if (void 0 !== s)return s.call(i)
};
!function (e, t, n) {
    var i = n.EqxPage, r = n.ENUM.ELEMENT_TYPE, o = n.ENUM.BG_CROP_TYPE, s = n.util, a = n.tpl.page, c = function (e) {
        function n(e, t) {
            _classCallCheck(this, n);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e, t)),
                a = e.properties.longPage, c = e.elements;
            i.isFullScreen = c.some(function (e) {
                var t = e.type, n = e.properties.croptype;
                return "EqxBackground" == r[t] && n == o["全屏背景模式"]
            }), i.scrollMode = s.isPageModeVertical(i.pageOptions.pageMode) ? "NS" : "WE";
            var l = 10 > a ? 486 * a : a;
            return i.pLen = -(l - 486), i
        }

        return _inherits(n, e), _createClass(n, [{
            key: "createSection", value: function () {
                var e = _get(Object.getPrototypeOf(n.prototype), "createSection", this).call(this);
                return this.addTouchEvent(), e
            }
        }, {
            key: "addArrow", value: function () {
                _get(Object.getPrototypeOf(n.prototype), "addArrow", this).call(this), "WE" == this.scrollMode && (this.bottomArrow = t(a.bottomArrow())[0], this.pageDiv.appendChild(this.bottomArrow))
            }
        }, {
            key: "active", value: function () {
                var e = _get(Object.getPrototypeOf(n.prototype), "active", this).call(this);
                return this.resetLongPage(), e
            }
        }]), n
    }(i);
    n.EqxLongPage = c;
    var l = c.prototype;
    l.resetLongPage = function () {
        this.touchPos = 0, this.doTransform(0, 0)
    }, l.addTouchEvent = function () {
        function e(e) {
            p.forEach(function (t) {
                var n = t.elementOptions.css.top || "";
                n = parseInt(n.toString().replace("px", ""));
                t.elementOptions.properties.anim || [];
                n > s && s > n + e && !t.displayed && t.eleShow()
            })
        }

        var i = this, r = this, o = this.pLen, s = this.height, a = this.pageDiv, c = this.ul, l = this.editDiv,
            u = this.scrollMode, p = this.elementList, h = this.isFullScreen, d = this.transformArea = h ? l : c;
        this.touchPos = 0;
        var f, v, g, m, y, b = 0, w = 0, x = 0;
        t(a).on("mousedown touchstart", function (e) {
            if (!r.hasCoverEffect) {
                e.stopPropagation(), f = !0, g = 0;
                var t = e.originalEvent, n = t.touches, i = n ? t.changedTouches[0] : null;
                v = i ? i.clientY : e.clientY, "WE" == u && (m = i ? i.clientX : e.clientX), w = r.touchPos, b = Date.now()
            }
        }), t(a).on("mousemove touchmove", function (t) {
            if (t.stopPropagation(), t.preventDefault(), f) {
                var s = t.originalEvent, a = s.touches, c = a ? a[0] : null;
                if (g = r.touchPos + (c ? c.clientY : t.clientY) - v, "WE" == u && (y = (c ? c.clientX : t.clientX) - m, Math.abs(y) > Math.abs(g - r.touchPos)))return y > 0 ? n.pageScroll.goToPrePage() : n.pageScroll.goToNextPage(), void(f = !1);
                if (g > 0 && "NS" == u && !i.pageOptions.forbidHandFlip)return n.pageScroll.goToPrePage(), f = !1, void(r.touchPos = 0);
                if (g > o && 0 > g) e(g), r.doTransform(g, 0); else if (o - 5 > g && "NS" == u && !i.pageOptions.forbidHandFlip)return n.pageScroll.goToNextPage(), f = !1, void(r.touchPos = o);
                x = Date.now(), x - b > 300 && (b = x, w = g)
            }
        }), t(a).on("mouseup touchend mouseleave", function () {
            if (f = !1, g > o && 0 > g) {
                var e = Date.now(), n = (g - w) / (e - b), i = Math.abs(n / .002), s = n * i / 2;
                g += s, g > 0 ? (i = (g - 0) / s * i, g = 0) : o > g && (i = (g - o) / s * i, g = o), r.doTransform(g, i), r.touchPos = g, t(r.bottomArrow).remove()
            }
        }), t(d).on("transitionend", function (t) {
            t.target == d && e(g)
        })
    }, l.doTransform = function (e, n) {
        var i = this, r = t(this.transformArea), o = r.find(".alock");
        if (this.transformEle(r, "translate3d(0," + e + "px,0)", n), o.length > 0) {
            var s, a, c = Array.prototype.slice.call(o);
            c.forEach(function (r) {
                s = r.style.transform.replace(/translate3d\(.*?\)/g, ""), s && (a = "translate3d(0," + -e + "px,0) " + s), i.transformEle(t(r), a, n)
            })
        }
    }, l.transformEle = function (e, t, n) {
        if (e.css({transition: "", "-webkit-transition": ""}), n) {
            var i = "transform " + n + "ms ease-out";
            e.css({transition: i, "-webkit-transition": "-webkit-" + i})
        }
        e.css({transform: t, "-webkit-transform": "-webkit-" + t})
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function t(e, n, i) {
    null === e && (e = Function.prototype);
    var r = Object.getOwnPropertyDescriptor(e, n);
    if (void 0 === r) {
        var o = Object.getPrototypeOf(e);
        return null === o ? void 0 : t(o, n, i)
    }
    if ("value" in r)return r.value;
    var s = r.get;
    if (void 0 !== s)return s.call(i)
};
!function (e, t, n) {
    var i = n.EqxPage, r = n.API.viewXBData, o = n.API.bigDataXBData, s = (n.HOST, function (e) {
        function t(e, n) {
            _classCallCheck(this, t);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e, n));
            return i.pv = 0, i
        }

        return _inherits(t, e), _createClass(t, [{
            key: "show", value: function () {
                _get(Object.getPrototypeOf(t.prototype), "show", this).call(this);
                var e = this.pageOptions.properties.xb;
                if (e && !this.pv) {
                    this.pv += 1;
                    var n = {task: e.taskId, order: e.orderId, promotionType: e.promotionType};
                    o(this.pageOptions.sceneId, "3", n), 1 == e.promotionType && r(e.orderId, e.taskId, e.sceneId)
                }
                return this
            }
        }]), t
    }(i));
    n.EqxXiuPage = s
}(window, jQuery, EQX), function (e, t, n) {
    var i = function r(e, t, n, i, o, s) {
        _classCallCheck(this, r), this.options = e, this.pageDiv = t, this.width = n, this.height = i, this.preCb = o, this.afterCb = s
    };
    n.EqxEffect = i
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.element = {};
    i.li = function (e) {
        var t = e.id, n = e.num, i = e.type;
        return '<li id="inside_' + t + '" num="' + n + '" ctype="' + i + '" ></li>'
    }, i.boxDiv = function () {
        return '<div class="element-box" style="width: 100%; height: 100%;"></div>'
    }, i.contentsDiv = function () {
        return '<div class="element-box-contents" style="width: 100%; height: 100%;"></div>'
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i, r = n.util, o = function () {
        function e(t, n) {
            _classCallCheck(this, e), this.colNumber = 3, this.$parEle = t.$parEle, this.canvas = {}, this.image = {}, this.requestId = 0, this.startTime = 0, this.array = [], this.callBackFn = n, this.param = t, this.init()
        }

        return _createClass(e, [{
            key: "init", value: function () {
                var e = this;
                if (this.$parEle.find("canvas").remove(), this.$canvas = t("<canvas></canvas>"), this.$parEle.prepend(this.$canvas), this.$canvas.css({
                        position: "absolute",
                        top: 0,
                        left: 0
                    }), this.canvas = this.$canvas[0], this.image.isLoaded = !1, this.canvas.width = this.$parEle.width(), this.canvas.height = this.$parEle.height(), this.canvas.ctx = this.canvas.getContext("2d"), "h" === this.param.type)return void setTimeout(function () {
                    canvg(e.canvas, e.$parEle.find(".element-box-contents")[0], {
                        ignoreMouse: !0,
                        ignoreAnimation: !0
                    }), e.calCanvas()
                }, 10);
                if (this.canvas && this.canvas.getContext) {
                    var n = new Image;
                    n.onload = function () {
                        var t = e.$parEle.find("img").width(), i = e.$parEle.find("img").height(), r = n.height / i,
                            o = n.width / t;
                        e.canvas.ctx.drawImage(n, e.param.top * o, e.param.left * r, o * e.canvas.width, r * e.canvas.height, 0, 0, e.canvas.width, e.canvas.height), e.calCanvas()
                    }, n.crossOrigin = "anonymous", n.src = this.param.imgUrl
                }
            }
        }, {
            key: "draw", value: function () {
                this.image.isLoaded ? this._draw() : setTimeout(this.draw.bind(this))
            }
        }, {
            key: "animate", value: function () {
                this.image.isLoaded ? this._animate(this.param.delay) : setTimeout(this.animate.bind(this))
            }
        }, {
            key: "_calculate", value: function (e) {
                for (var t = this.image.imgData.data, n = e.cols, i = e.rows, r = Math.round(this.canvas.width / n),
                         o = Math.round(this.canvas.height / i), s = 0, a = {},
                         c = 0; n > c; c++)for (var l = 0; i > l; l++)s = 4 * (l * o * this.canvas.width + c * r), t[s + 3] > 100 && (a = {
                    x0: e.startX,
                    y0: e.startY,
                    x1: this.param.imgX + c * r,
                    y1: this.param.imgY + l * o,
                    delay: l / 20,
                    currTime: 0,
                    count: 0,
                    duration: parseInt(e.duration / 16.66) + 1,
                    interval: parseInt(10 * Math.random() * e.interval),
                    ease: e.ease,
                    ratioX: e.ratioX,
                    ratioY: e.ratioY
                }, a.fillStyle = "rgba(" + t[s] + ", " + t[s + 1] + ", " + t[s + 2] + "," + t[s + 3] + ")", this.array.push(a))
            }
        }, {
            key: "_draw", value: function () {
                this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                for (var e = this.array.length, t = null,
                         n = 0; e > n; n++)t = this.array[n], this.canvas.ctx.fillStyle = t.fillStyle, this.canvas.ctx.fillRect(t.x1 - 1, t.y1 - 1, this.colNumber, this.colNumber)
            }
        }, {
            key: "_render", value: function () {
                var e = this;
                this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                for (var t, n, i = this.array, r = i.length, o = null, a = 0, c = 0, l = 0, u = 1, p = 1,
                         h = 0; r > h; h++)if (o = i[h], o.count++ > o.delay) {
                    if (this.canvas.ctx.fillStyle = o.fillStyle, a = o.currTime, c = o.duration, l = o.interval, 1 !== o.ratioX ? u = o.ratioX + 2 * Math.random() : 1, 1 !== o.ratioY ? p = o.ratioY + 2 * Math.random() : 1, i[r - 1].duration + i[r - 1].interval < .9 * i[r - 1].currTime)return cancelAnimationFrame(this.requestId),
                        this.$parEle.find("canvas").remove(), this.$parEle.find(".element-box").css("opacity", "1"), void setTimeout(function () {
                        e.callBackFn()
                    }, 300);
                    c + l > a ? a >= l && (t = s[o.ease]((a - l) * u, o.x0, (o.x1 - o.x0) * u, c), n = s[o.ease]((a - l) * p, o.y0, (o.y1 - o.y0) * p, c), this.canvas.ctx.fillRect(t - 1, n - 1, this.colNumber, this.colNumber)) : this.canvas.ctx.fillRect(o.x1 - 1, o.y1 - 1, this.colNumber, this.colNumber), o.currTime += Math.random() + .5
                }
                this.requestId = requestAnimationFrame(this._render.bind(this))
            }
        }, {
            key: "_animate", value: function (e) {
                var t = this;
                this.startTime + e < (new Date).getTime() ? this.requestId = requestAnimationFrame(this._render.bind(this)) : setTimeout(function () {
                    t._animate(e)
                })
            }
        }, {
            key: "calCanvas", value: function () {
                var e = this.param;
                this.image.imgData = this.canvas.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height), this.canvas.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this._calculate({
                    startX: e.startX || 0,
                    startY: e.startY || 0,
                    duration: e.duration || 0,
                    delay: e.delay || 0,
                    interval: e.interval || 0,
                    ease: e.ease,
                    ratioX: 1,
                    ratioY: 1,
                    cols: Math.ceil(this.canvas.width / this.colNumber) || 100,
                    rows: Math.ceil(this.canvas.height / this.colNumber) || 100
                }), this.image.isLoaded = !0, this.startTime = (new Date).getTime()
            }
        }]), e
    }(), s = (i = {
        easeInOutBack: function (e, t, n, i, r) {
            return void 0 == r && (r = 1.70158), (e /= i / 2) < 1 ? n / 2 * (e * e * (((r *= 1.525) + 1) * e - r)) + t : n / 2 * ((e -= 2) * e * (((r *= 1.525) + 1) * e + r) + 2) + t
        }, linear: function (e, t, n, i) {
            return n * e / i + t
        }, easeInOutQuad: function (e, t, n, i) {
            return e /= i / 2, 1 > e ? n / 2 * e * e + t : (e--, -n / 2 * (e * (e - 2) - 1) + t)
        }, easeOutQuad: function (e, t, n, i) {
            return e /= i, -n * e * (e - 2) + t
        }
    }, _defineProperty(i, "easeOutQuad", function (e, t, n, i) {
        return e /= i, -n * e * (e - 2) + t
    }), _defineProperty(i, "easeInCubic", function (e, t, n, i) {
        return e /= i, n * e * e * e + t
    }), _defineProperty(i, "easeOutCubic", function (e, t, n, i) {
        return e /= i, e--, n * (e * e * e + 1) + t
    }), _defineProperty(i, "easeInOutCubic", function (e, t, n, i) {
        return e /= i / 2, 1 > e ? n / 2 * e * e * e + t : (e -= 2, n / 2 * (e * e * e + 2) + t)
    }), _defineProperty(i, "easeInQuart", function (e, t, n, i) {
        return e /= i, n * e * e * e * e + t
    }), _defineProperty(i, "easeOutQuart", function (e, t, n, i) {
        return e /= i, e--, -n * (e * e * e * e - 1) + t
    }), _defineProperty(i, "easeInOutQuart", function (e, t, n, i) {
        return e /= i / 2, 1 > e ? n / 2 * e * e * e * e + t : (e -= 2, -n / 2 * (e * e * e * e - 2) + t)
    }), _defineProperty(i, "easeInQuint", function (e, t, n, i) {
        return e /= i, n * e * e * e * e * e + t
    }), _defineProperty(i, "easeOutQuint", function (e, t, n, i) {
        return e /= i, e--, n * (e * e * e * e * e + 1) + t
    }), _defineProperty(i, "easeInOutQuint", function (e, t, n, i) {
        return e /= i / 2, 1 > e ? n / 2 * e * e * e * e * e + t : (e -= 2, n / 2 * (e * e * e * e * e + 2) + t)
    }), _defineProperty(i, "easeInSine", function (e, t, n, i) {
        return -n * Math.cos(e / i * (Math.PI / 2)) + n + t
    }), _defineProperty(i, "easeOutSine", function (e, t, n, i) {
        return n * Math.sin(e / i * (Math.PI / 2)) + t
    }), _defineProperty(i, "easeInOutSine", function (e, t, n, i) {
        return -n / 2 * (Math.cos(Math.PI * e / i) - 1) + t
    }), _defineProperty(i, "easeInExpo", function (e, t, n, i) {
        return n * Math.pow(2, 10 * (e / i - 1)) + t
    }), _defineProperty(i, "easeOutExpo", function (e, t, n, i) {
        return n * (-Math.pow(2, -10 * e / i) + 1) + t
    }), i);
    r.Particles = o
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = i.loadTyped, o = n.util.Particles, s = i.canvas, a = n.HOST.FILE, c = {
        0: ["fadeIn"],
        1: ["fadeInLeft", "fadeInDown", "fadeInRight", "fadeInUp"],
        2: ["bounceInLeft", "bounceInDown", "bounceInRight", "bounceInUp"],
        3: ["bounceIn"],
        4: ["zoomIn"],
        5: ["rubberBand"],
        6: ["wobble"],
        7: ["rotateIn"],
        8: ["flip"],
        9: ["swing"],
        10: ["fadeOut"],
        11: ["flipOutY"],
        12: ["rollInRight", "rollInDown", "rollInLeft", "rollInUp"],
        13: ["lightSpeedInRight", "lightSpeedInDown", "lightSpeedInLeft", "lightSpeedInUp"],
        14: ["bounceOut"],
        15: ["rollOutRight", "rollOutDown", "rollOutLeft", "rollOutUp"],
        16: ["lightSpeedOutRight", "lightSpeedOutDown", "lightSpeedOutLeft", "lightSpeedOutUp"],
        17: ["fadeOutRight", "fadeOutDown", "fadeOutLeft", "fadeOutUp"],
        18: ["zoomOut"],
        19: ["bounceOutRight", "bounceOutDown", "bounceOutLeft", "bounceOutUp"],
        20: ["flipInY"],
        21: ["tada"],
        22: ["jello"],
        23: ["flash"],
        24: ["flipInX"],
        25: ["flipOutX"],
        26: ["twisterInDownRight", "twisterInDownDown", "twisterInDownLeft", "twisterInDownUp"],
        27: ["puffIn"],
        28: ["puffOut"],
        29: ["slideDown"],
        30: ["slideUp"],
        31: ["twisterInUpRight", "twisterInUpDown", "twisterInUpLeft", "twisterInUpUp"],
        32: ["hingeRight", "hingeLeft"],
        particles: ["particles"],
        typer: ["typer"]
    };
    n.util.addAnimationArr = function (e) {
        function n() {
            if (g++, g < i.length) {
                var u = i[g], h = u.type, m = u.direction, y = u.duration, b = u.linear, w = u.count, x = u.countNum,
                    E = void 0 === x ? 1 : x, P = u.delay, _ = b ? "linear" : "ease", C = c[h][m] || c[h][0],
                    T = w ? "infinite" : E;
                if (t(l).css({
                        "animation-name": "",
                        "animation-duration": "",
                        "animation-timing-function": "",
                        "animation-delay": "",
                        "animation-iteration-count": ""
                    }), "typer" === C) d.css({opacity: 0}), r().then(function () {
                    var r = i[g].interval, o = e.createContext(p), s = t(o),
                        a = {position: "absolute", "pointer-events": "none"};
                    e.elementOptions.css.writingMode && "vertical-rl" === e.elementOptions.css.writingMode ? a.left = "-30px" : a.top = "0px", s.attr("context-copy", 1).css(a), d.after(s), e.$contextCopy = s;
                    var c = function () {
                        e.$contextCopy = null, setTimeout(function () {
                            s.remove(), s = null, e.$contextCopy || d.css({opacity: 1}), n()
                        }, 100)
                    };
                    s.typed({
                        strings: [p.content],
                        contentType: "html",
                        showCursor: !1,
                        typeSpeed: 1e3 * r || 0,
                        startDelay: 1e3 * P || 0,
                        onFirstTyped: function () {
                            setTimeout(function () {
                                s && s.css({opacity: 1})
                            }, 0)
                        },
                        callback: function () {
                            clearInterval(s.data("typed").timeout), s.removeData("typed"), c()
                        },
                        resetCallback: function () {
                            c()
                        }
                    })
                }, function () {
                    d.css({opacity: 1})
                }); else if ("particles" === C) !function () {
                    var t = function () {
                        if ("number" == typeof T) {
                            if (1 == T)return void n();
                            T > 1 && i(), T--
                        } else i()
                    }, i = function r() {
                        var n = Math.abs(parseInt(f.find("img").css("marginLeft"))),
                            i = Math.abs(parseInt(f.find("img").css("marginTop")));
                        f.css("opacity", "0");
                        var r = new o({
                            type: e.elementOptions.type,
                            top: n,
                            left: i,
                            $parEle: v,
                            imgUrl: a + e.elementOptions.properties.src,
                            startX: -(e.elementOptions.css.width / 2),
                            startY: e.elementOptions.css.height / 2,
                            imgX: 0,
                            imgY: 0,
                            delay: 1e3 * P,
                            duration: 1e3 * y,
                            interval: 0,
                            ease: "easeInOutBack"
                        }, t);
                        r.animate()
                    };
                    v.remove("canvas"), "h" == e.elementOptions.type ? (f.css("opacity", "0"), s().then(function () {
                        i()
                    })) : i()
                }(); else {
                    var I = {
                        "animation-duration": y + "s",
                        "animation-timing-function": _,
                        "animation-delay": P + "s",
                        "animation-iteration-count": T,
                        "animation-fill-mode": "both",
                        "animation-name": C
                    }, O = Object.keys(I).map(function (e) {
                        return I[e]
                    }).join(" ");
                    t(l).css("animation", O), t(l).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                        n()
                    })
                }
            }
        }

        var i = e.anim, l = e.boxDiv, u = e.context, p = e.elementOptions, h = e.li;
        i || (i = []);
        var d = t(u), f = t(l), v = t(h), g = -1;
        n()
    }, n.util.stopAnimation = function (e) {
        if (t(e.boxDiv).css({animation: ""}), e.$contextCopy) {
            var n = e.$contextCopy.data("typed");
            n && n.reset()
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.element, r = n.util.addAnimationArr, o = n.util.stopAnimation, s = n.ENUM.RAW_EVENT,
        a = n.ENUM.EQX_EVENT, c = n.ENUM.INIT_EVENT, l = n.util.noop, u = n.eventManager,
        p = (n.util.resolveUrl, n.HOST, {1: "show", 2: "hide", 3: "random"}), h = function f(e, t) {
            _classCallCheck(this, f), this.elementOptions = e, this.type = this.elementOptions.type, this.eventMap = {}, this.displayed = !1, this.anim = this.elementOptions.properties.anim || [], this.eqxPage = t
        };
    n.EqxElement = h;
    var d = h.prototype;
    d.toString = function () {
        var e = this.elementOptions, t = e.pageId, n = e.id, i = e.num;
        return "page-" + t + "-ele-" + n + "-num-" + i
    }, d.getProp = function (e) {
        return this.elementOptions.properties[e]
    }, d.createElement = function () {
        var e = this.elementOptions.css;
        return this.li = this.createLi(), this.boxDiv = t(i.boxDiv()).css(e).css({
            width: "100%",
            height: "100%",
            transform: "none",
            opacity: 1,
            fontFamily: ""
        })[0], this.contentsDiv = t(i.contentsDiv())[0], this.context = this.createContext(this.elementOptions), this.contentsDiv.appendChild(this.context), this.boxDiv.appendChild(this.contentsDiv), this.li.appendChild(this.boxDiv), this.li
    }, d.addEventListeners = function () {
        var e = this.elementOptions.sound;
        this.bindAfterRenderEvent(this.li, this.elementOptions), this.bindTriggerEvent(), e && e.src && this.addSoundEvent(e), this.addAnimSoundEvent()
    }, d.createContext = function (e) {
    }, d.createLi = function () {
        var e = null;
        this.anim.length && (e = "none");
        var n = this.elementOptions, r = n.id, o = n.num, s = n.type, a = n.properties.lock, c = n.css, l = c.width,
            u = c.height, p = c.left, h = c.top, d = c.zIndex, f = c.bottom, v = c.transform, g = c.display,
            m = void 0 === g ? e : g, y = c.opacity, b = t(i.li({id: r, num: o, type: s}));
        a && b.addClass("alock"), b.css({
            width: l,
            height: u,
            left: p,
            top: h,
            zIndex: d,
            bottom: f,
            transform: v,
            display: m,
            opacity: y
        });
        var w = b[0];
        return this.addClassToLi(w), w
    }, d.addClassToLi = function (e) {
    }, d.bindTriggerEvent = function () {
        this.elementOptions.trigger && (this.addTriggerEventListener(), this.subscribeTriggerEvent())
    }, d.bindAfterRenderEvent = function (e, t) {
        return !1
    }, d.eleHide = function () {
        this.li && this.anim.length && (o(this), this.li.style.display = "none"), this.displayed = !1, this.sound && this.sound.stopPlay(), this.anim && this.anim.length && this.anim.forEach(function (e) {
            e.sound && e.soundAgent && e.soundAgent.stopPlay()
        })
    }, d.eleShow = function () {
        var e = this;
        this.anim.length && r(this), this.li && this.anim.length && (this.li.style.display = "block"), this.displayed = !0, this.preHandlers && this.preHandlers.forEach(function (t) {
            return t(e)
        }), this.preTriggerHandlers && this.preTriggerHandlers.forEach(function (e) {
            return e()
        })
    }, d.addSoundEvent = function (e) {
        e && (this.sound = new n.EqxEleSound(e, this.li, n.soundManager))
    }, d.addAnimSoundEvent = function () {
        var e = this.anim;
        e && e.length && e.forEach(function (e) {
            e.sound && (e.soundAgent = new n.EqxAnimSound(e.sound, n.soundManager))
        })
    }, d.startPlay = function () {
        this.sound && this.sound.startPlay()
    }, d.stopPlay = function () {
        this.sound && this.sound.stopPlay()
    }, d.addTriggerEventListener = function () {
        var e = this, n = this.elementOptions.trigger.sends, i = this.elementOptions, r = i.pageId, o = i.id,
            a = t(this.li);
        a.attr("data-event", "1120603"), n && "[object Array]" == toString.apply(n) && (n.forEach(function (t) {
            t.type == s.click && a.on("click", function (n) {
                t.handles.forEach(function (n) {
                    u.publish({pageId: r, type: n.type, senderId: o, sender: e, options: {delay: 1e3 * t.delay}})
                })
            })
        }), this.preTriggerHandlers = [], this.preTriggerHandlers.push(this.preTriggerHandler()))
    }, d.preTriggerHandler = function () {
        var e = this.elementOptions.trigger.initType, n = t(this.li);
        return function () {
            e == c.show ? n.show() : e == c.hide && n.hide()
        }
    }, d.subscribeTriggerEvent = function () {
        var e = this, t = this.elementOptions.trigger.receives, i = this.elementOptions.pageId;
        this.preHandlers = [], t && "[object Array]" == toString.apply(t) && t.forEach(function (t) {
            var r = t.ids;
            if (r.length) {
                var o = t.type, s = u.subscribe({pageId: i, type: o, ele: e}),
                    a = e.addTriggerPreHandler(o, e.elementOptions.trigger.initType);
                e.eventMap[s] && n.DEBUG && console.error("duplicate event receivers"), e.eventMap[s] = {
                    ids: r,
                    preHandler: a,
                    handler: e.addTriggerHandler(o)
                }, e.preHandlers.push(a)
            }
        })
    }, d.handleTriggerEvent = function (e) {
        var t = e.eventName, n = e.senderId, i = e.sender, r = e.options, o = this.eventMap[t];
        o && o.ids.includes(n) && o.handler(this, r, i)
    }, d.addTriggerPreHandler = function (e, i) {
        if (i != c["default"])return l;
        switch (e + "") {
            case a.show:
                return function (e) {
                    t(e.li).hide()
                };
            case a.hide:
                return function (e) {
                    t(e.li).show()
                };
            default:
                return n.DEBUG && console.error("No pre-handler! event type: " + p[e]), l
        }
    }, d.addTriggerHandler = function (e) {
        switch (e + "") {
            case a.show:
                return function (e, i) {
                    return !e instanceof h ? void(n.DEBUG && console.error("Invalid element type: " + e)) : void setTimeout(function () {
                        return t(e.li).show()
                    }, i.delay)
                };
            case a.hide:
                return function (e, i) {
                    return !e instanceof h ? void(n.DEBUG && console.error("Invalid element type: " + e)) : void setTimeout(function () {
                        return t(e.li).hide()
                    }, i.delay)
                };
            default:
                return n.DEBUG && console.error("No handler! event type: " + p[e] + " "), l
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        this.options = e, this.meta = this.options.meta, this.pageList = this.options.list, this.pages = [], this.currentPage = null
    }

    var r = n.util.mobilecheck, o = n.EqxPage, s = n.EqxLongPage, a = n.EqxXiuPage;
    n.API;
    n.EqxScene = i, i.prototype.renderPages = function (e, n) {
        this.ele = document.getElementById(e), r() && (this.ele.style.width = "100%", this.ele.style.height = "100%"), this.width = t(this.ele).width(), this.height = t(this.ele).height();
        var i = this.create(n);
        return i
    }, i.prototype.create = function (e) {
        var i = this, r = [], c = this.options, l = c.meta, u = l.bgAudio, p = l.pageMode, h = l.property, d = c.list,
            f = 0;
        if (n.bgm.init(u), e)for (var v = 0; v < d.length; v++)if (e == "" + d[v].id) {
            f = v;
            break
        }
        return d.forEach(function (e, n) {
            function c() {
                n === f && m.active().then(function () {
                    m.show()
                })
            }

            e.num = n + 1;
            var l = e.properties, u = l.longPage, v = l.xb, g = v ? a : u ? s : o;
            e.pageMode = p, e.forbidHandFlip = h.forbidHandFlip;
            var m = new g(e, i), y = m.createSection();
            0 === n && t(m.arrow).css("bottom", "30px"), n === f && (i.currentPage = m), d.length > 1 && !e.forbidHandFlip && m.addArrow(), i.ele.appendChild(y), i.pages.push(m);
            var b = m.addEffect().then(function () {
                c()
            })["catch"](function (e) {
                console.error(e), c()
            });
            r.push(b)
        }), r
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.action, r = n.util.mobilecheck, o = n.util.setUrlHistory, s = n.API.bigDataXBData;
    i.link = function (t, i) {
        s(scene.id, "4", {url: t}, "9", "组件链接"), Number.isInteger(+t) ? n.pageScroll.goToPageById(t) : (r() && o(i), e.open(t, "_blank"))
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.id, n = e.type;
        return '<div style="width: 100%; height: 100%" class="element" id="' + t + '" ctype="' + n + '"></div>'
    }

    function r(e) {
        var t = e.sceneId, n = e.pageNum, i = e.content, r = e.width, s = e.height;
        return '<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="' + o.YQC + "yqc/gg/gg.html?sceneId=" + t + "&pageNum=" + n + (i ? "&content=true" : "") + "&width=" + r + "&height=" + s + '"></iframe>'
    }

    var o = n.HOST;
    n.tpl.advertise = {compDiv: i, iframeDiv: r}
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function n(e, t, i) {
    null === e && (e = Function.prototype);
    var r = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === r) {
        var o = Object.getPrototypeOf(e);
        return null === o ? void 0 : n(o, t, i)
    }
    if ("value" in r)return r.value;
    var s = r.get;
    if (void 0 !== s)return s.call(i)
};
!function (e, t, n) {
    var i = n.tpl.advertise, r = n.HOST, o = n.EqxElement, s = function (e) {
        function n(e, t) {
            _classCallCheck(this, n);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e, t));
            return i.iframePromise = null, i.iframe = null, i
        }

        return _inherits(n, e), _createClass(n, [{
            key: "eleShow", value: function () {
                var e = this;
                _get(Object.getPrototypeOf(n.prototype), "eleShow", this).call(this);
                var t = this.eqxPage, i = this.eqxPage.eqxScene, o = i.meta.id, s = t.pageOptions.num;
                this.iframePromise.then(function () {
                    e.iframe && e.iframe.contentWindow.postMessage({
                        sceneId: o,
                        pageNum: s,
                        eventType: "pageShow"
                    }, r.YQC)
                })
            }
        }, {
            key: "createContext", value: function (e) {
                var n = e.id, o = e.type, s = e.content, a = e.css, c = a.width, l = a.height, u = this.eqxPage,
                    p = this.eqxPage.eqxScene, h = p.meta.id, d = u.pageOptions.num, f = t(i.compDiv({id: n, type: o})),
                    v = t(i.iframeDiv({sceneId: h, pageNum: d, content: s, width: c, height: l})),
                    g = this.iframe = v.get(0);
                return this.iframePromise = new Promise(function (e) {
                    g.onload = function () {
                        s && g.contentWindow.postMessage({
                            sceneId: h,
                            pageNum: d,
                            eventType: "adCode",
                            content: s
                        }, r.YQC), e()
                    }
                }), f.append(v), this.li.style.zIndex = 999, f[0]
            }
        }]), n
    }(o);
    n.EqxAdvertise = s
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, t) {
        this.type = 2, this.soundJson = e, this.manager = t, this.init(), this.addEventListeners(), this.register()
    }

    var r = n.util.resolveUrl, o = n.HOST;
    n.EqxAnimSound = i, i.prototype.register = function () {
        this.manager.add(this)
    }, i.prototype.init = function () {
        this.audio = new Audio, this.audio.src = r(o.FILE, this.soundJson.path), this.audio.loop = !0
    }, i.prototype.addEventListeners = function () {
        var e = this;
        t(e.audio).on("AnimSound.start", function (t, n) {
            e.startPlay(), e.manager.onPlay(e)
        }).on("AnimSound.end", function (t, n) {
            e.stopPlay(), e.manager.onEnd(e)
        })
    }, i.prototype.startPlay = function () {
        this.audio.paused && this.audio.play()
    }, i.prototype.stopPlay = function () {
        this.audio.paused || (this.audio.pause(), this.audio.currentTime = 0)
    }, i.prototype.down = function () {
        n.util.isIOS() ? this.audio.pause() : this.audio.volume = .1
    }, i.prototype.restore = function () {
        n.util.isIOS() ? this.audio.play() : this.audio.volume = 1
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.$bg = {};
    i.bgImg = function (e) {
        var t = e.id, n = e.src, i = e.height;
        return '\n                    <div style="width: 100%; height: ' + i + "; overflow: hidden; position: absolute;z-index: -1;\">\n                        <div class='bg' id=\"wrapper-background" + t + '"\n                                 style="width: 100%; height: 100%;position: absolute;z-index: -1;\n                                 background-image: url(' + n + '); background-size: cover; background-position: 50% 50%;\n                                 background-origin: content-box"\n                                 src="' + n + '">\n                            </div>\n                    </div>\n                  '
    }, i.bgGif = function (e) {
        var t = e.id, n = e.src, i = e.height;
        return '\n                    <div style="width: 100%; height: ' + i + "; overflow: hidden; position: absolute;z-index: -1;\">\n                         <img class='bg' id=\"wrapper-background" + t + '"\n                                 src="' + n + '" style="z-index: -1; width: 100%; position: absolute;">\n                            </img>\n                    </div>\n                  '
    }, i.bgColor = function (e) {
        var t = e.id, n = e.bgColor, i = e.height;
        return '\n                    <div style="width: 100%; height: ' + i + "; overflow: hidden;position: absolute;z-index: -1;\">\n                        <div class='bg' id=\"wrapper-background" + t + '" style="width: 100%; height: 100%; background-color: ' + n + ';position: absolute;z-index: -1;"></div>\n                    </div>\n                  '
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = (n.HOST, n.ENUM.BG_CROP_TYPE), r = (n.util.resolveUrl, n.util.mobilecheck), o = n.tpl.$bg,
        s = n.util.qiniuZoom, a = n.util.loadImg, c = {
            0: ["fadeIn"],
            1: ["fadeInLeft", "fadeInDown", "fadeInRight", "fadeInUp"],
            2: ["bounceInLeft", "bounceInDown", "bounceInRight", "bounceInUp"],
            3: ["bounceIn"],
            4: ["zoomIn"],
            5: ["rubberBand"],
            6: ["wobble"],
            7: ["rotateIn"],
            8: ["flip"],
            9: ["swing"],
            10: ["fadeOut"],
            11: ["flipOutY"],
            12: ["rollInRight", "rollInDown", "rollInLeft", "rollInUp"],
            13: ["lightSpeedInRight", "lightSpeedInDown", "lightSpeedInLeft", "lightSpeedInUp"],
            14: ["bounceOut"],
            15: ["rollOutRight", "rollOutDown", "rollOutLeft", "rollOutUp"],
            16: ["lightSpeedOutRight", "lightSpeedOutDown", "lightSpeedOutLeft", "lightSpeedOutUp"],
            17: ["fadeOutRight", "fadeOutDown", "fadeOutLeft", "fadeOutUp"],
            18: ["zoomOut"],
            19: ["bounceOutRight", "bounceOutDown", "bounceOutLeft", "bounceOutUp"],
            20: ["flipInY"],
            21: ["tada"],
            22: ["jello"],
            23: ["flash"],
            24: ["flipInX"],
            25: ["flipOutX"],
            26: ["twisterInDownRight", "twisterInDownDown", "twisterInDownLeft", "twisterInDownUp"],
            27: ["puffIn"],
            28: ["puffOut"],
            29: ["slideDown"],
            30: ["slideUp"],
            31: ["twisterInUpRight", "twisterInUpDown", "twisterInUpLeft", "twisterInUpUp"],
            32: ["hingeRight", "hingeLeft"]
        }, l = n.EqxElement, u = function (e) {
            function n(e) {
                return _classCallCheck(this, n), _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e))
            }

            return _inherits(n, e), _createClass(n, [{
                key: "createContext", value: function (e, n, c, l, u) {
                    var p = this;
                    this.container = n;
                    var h = e.id, d = e.css.opacity, f = e.properties, v = f.bgColor, g = f.croptype, m = f.imgSrc,
                        y = e.effect;
                    y = void 0 === y ? {} : y;
                    var b = y.type, w = "100%";
                    if (v) {
                        u && (w = (10 > u ? 486 * u : u) - 486 + (r() ? t(document).height() : 486) + "px");
                        var x = t(o.bgColor({id: h, bgColor: v, height: w}));
                        this.$bgEle = x, this.$bgEle.css({opacity: d}), this.container.insertBefore(x[0], this.container.firstChild), this.animate(b)
                    }
                    if (m) {
                        var E = m;
                        if (g == i["全屏背景模式"] ? (w = (10 > u ? 486 * u : u) - 486 + (r() ? t(document).height() : 486) + "px", E = s({
                                css: {
                                    width: 320,
                                    height: w
                                }
                            }, E)) : E = s({
                                css: {
                                    width: 320,
                                    height: 486
                                }
                            }, E), /.gif/.test(m))var P = a(E).then(function (e) {
                            var n, i = {};
                            return e.width / e.height >= c / l ? (i.width = e.width * (l / e.height), i.height = l, i.marginLeft = -(i.width - c) / 2) : (i.width = c, i.height = e.height * (c / e.width), i.marginTop = -(i.height - l) / 2), n = t(o.bgGif({
                                id: h,
                                src: E,
                                height: w
                            })), n.css(i), n
                        }); else P = Promise.resolve(t(o.bgImg({id: h, src: E, height: w})));
                        P.then(function (e) {
                            p.$bgEle = e, p.$bgEle.css({opacity: d}), p.container.insertBefore(e[0], p.container.firstChild), p.animate(b)
                        })
                    }
                }
            }, {
                key: "animate", value: function (e) {
                    if (e) {
                        var t = this.$bgEle.children(".bg");
                        if ("scaleUp" == e) t.css({
                            animation: "scaleUp 7s ease 1s",
                            "animation-fill-mode": "both"
                        }); else if ("scaleDown" == e) t.css({
                            animation: "scaleDown 7s ease 1s",
                            "animation-fill-mode": "both"
                        }); else if (-1 != e) {
                            var n = c[e][0];
                            t.css({
                                "animation-name": "",
                                "animation-duration": "",
                                "animation-timing-function": "",
                                "animation-delay": "",
                                "animation-iteration-count": ""
                            }), t.css({
                                "animation-name": n,
                                "animation-duration": "1s",
                                "animation-timing-function": "liner",
                                "animation-delay": "1s",
                                "animation-iteration-count": 1,
                                "animation-direction": "both",
                                "animation-fill-mode": "both",
                                "animation-play-state": "initial"
                            })
                        }
                    }
                }
            }, {
                key: "eleShow", value: function () {
                    var e = this, t = this.elementOptions.properties.imgSrc;
                    t && /.gif/.test(t) && this.$bgEle && setTimeout(function () {
                        var t = e.$bgEle.prop("src");
                        e.$bgEle.show().each(function () {
                            this.offsetHeight
                        }).prop("src", t)
                    }, 1)
                }
            }]), n
        }(l);
    n.EqxBackground = u
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = (n.util.mobilecheck, n.util), o = n.EqxElement, s = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), t
    }(o);
    n.EqxChart = s, s.prototype.createContext = function (e) {
        var n = this, r = t('<div class="create-chart" id="chart-' + e.id + '"></div>');
        this.perfectJson(e);
        var o = document.createElement("h5");
        o.setAttribute("class", "chart-title"), r.append(o);
        var s = document.createElement("canvas");
        s.id = e.id, s.setAttribute("ctype", e.type), r.append(s);
        var a = document.createElement("div");
        return a.id = "legend-" + e.id, r.append(a), i.loadChart().then(function () {
            n.initChart(a, s, o, e)
        })["catch"](function (e) {
            return console.error(e)
        }), r.get(0)
    }, s.prototype.perfectJson = function (e) {
        function t(e) {
            n(e), i(e), o(e)
        }

        function n(e) {
            e && e.chartTitle && (e.chartTitle = r.toGoodStr(e.chartTitle))
        }

        function i(e) {
            e && e.segments && e.segments.length && e.segments.forEach(function (e) {
                r.isBadStr(e.label) && (e.label = r.toGoodStr(e.label))
            })
        }

        function o(e) {
            e && e.lengends && e.lengends.length && e.lengends.forEach(function (t, n) {
                r.isBadStr(t) && (e.lengends[n] = r.toGoodStr(t))
            })
        }

        var s = e.properties;
        n(s), t(s.pieChart), t(s.barChart), t(s.lineChart)
    }, s.prototype.initChart = function (n, i, r, o) {
        var s, a = o.properties.chartType, c = i.getContext("2d"), l = parseFloat(o.css.width),
            u = parseFloat(o.css.height);
        t(i).css("width", l + "px"), t(i).css("height", u / 2 + "px"), i.width = parseInt(e.getComputedStyle(i).width), i.height = parseInt(e.getComputedStyle(i).height), "pie" == a ? s = this.createPieChart(c) : "bar" == a ? s = this.createBarChart(c) : "line" != a && "curve" != a || (s = this.createLineChart(c, a)), o.properties.chartTitle && (r.innerHTML = o.properties.chartTitle), "pie" == a && o.properties.pieChart && (s = this.setPieChartView(o, c, s), t(i).data("pieChart", s)), "bar" == a && o.properties.barChart && (s = this.setBarChartView(o, c, s), t(i).data("barChart", s)), "line" != a && "curve" != a || !o.properties.lineChart || (s = this.setLineChartView(o, c, s), t(i).data("lineChart", s)), n.innerHTML = s.generateLegend();
        var p = o.properties.legPosition;
        "position-align" == p ? t(n).addClass("position-align") : "position-right" == p ? t(n).addClass("position-right") : "position-none" == p && t(n).addClass("position-none")
    }, s.prototype.setLineChartView = function (e, t, n) {
        var i, r = e.properties.lineChart, o = [], s = "", a = "", c = "", l = [], u = [], p = [], h = [], d = [];
        n.datasets.forEach(function (e) {
            h.push(e.strokeColor), d.push(e.fillColor)
        });
        for (var f = 0; f < h.length; f++)"line" == r.chartType ? h[f] = r.fillColors[f] : d[f] = r.fillColors[f];
        for (var v = r.segments,
                 g = 0; g < v.length; g++)i = v[g], s = isNaN(i.value1) || i.value1 < 0 ? 0 : i.value1, a = isNaN(i.value2) || i.value2 < 0 ? 0 : i.value2, c = isNaN(i.value3) || i.value3 < 0 ? 0 : i.value3, (i.label || s || a || c) && (o.push(i.label), l.push(s), u.push(a), p.push(c));
        var m = {
            labels: o,
            datasets: [{
                label: r.lengends[0],
                fillColor: d[0],
                strokeColor: h[0],
                pointColor: h[0],
                pointStrokeColor: "#fff",
                data: l
            }, {
                label: r.lengends[1],
                fillColor: d[1],
                strokeColor: h[1],
                pointColor: h[1],
                pointStrokeColor: "#fff",
                data: u
            }, {
                label: r.lengends[2],
                fillColor: d[2],
                strokeColor: h[2],
                pointColor: h[2],
                pointStrokeColor: "#fff",
                data: p
            }]
        }, y = n.options;
        return r.options && r.options.scaleFontColor && (y.scaleFontColor = r.options.scaleFontColor), n.destroy(), n = new Chart(t).Line(m, y), n.datasets.forEach(function (e) {
            var t = !0;
            e.points.forEach(function (e) {
                e.value && (t = !1)
            }), t ? e.points.length = 0 : e.points.forEach(function (e) {
                e.value || (e.value = 0)
            })
        }), n.update(), n
    }, s.prototype.setBarChartView = function (e, t, n) {
        for (var i, r = n.options, o = e.properties.barChart, s = [], a = "", c = "", l = "", u = [], p = [], h = [],
                 d = o.segments,
                 f = 0; f < d.length; f++)i = d[f], a = isNaN(i.value1) || i.value1 < 0 ? "" : i.value1, c = isNaN(i.value2) || i.value2 < 0 ? "" : i.value2, l = isNaN(i.value3) || i.value3 < 0 ? "" : i.value3, (i.label || a || c || l) && (s.push(i.label), u.push(a), p.push(c), h.push(l));
        var v = {
            labels: s,
            datasets: [{
                fillColor: o.fillColors[0],
                strokeColor: "rgba(0,0,0,0)",
                data: u,
                label: o.lengends[0]
            }, {
                fillColor: o.fillColors[1],
                strokeColor: "rgba(0,0,0,0)",
                data: p,
                label: o.lengends[1]
            }, {fillColor: o.fillColors[2], strokeColor: "rgba(0,0,0,0)", data: h, label: o.lengends[2]}]
        };
        return o.options && o.options.scaleFontColor && (r.scaleFontColor = o.options.scaleFontColor), n.destroy(), new Chart(t).Bar(v, r)
    }, s.prototype.setPieChartView = function (e, t, n) {
        var i = n.options, r = "#000", o = e.properties.pieChart;
        o.options && o.options.scaleFontColor && (r = o.options.scaleFontColor), i.scaleFontColor = r, i.onAnimationComplete = function () {
            var e = this.chart.ctx, t = this.segments;
            e.textAlign = "start", e.textBaseline = "middle";
            for (var n = 0, i = 0; i < t.length; i++)n += parseFloat(t[i].value);
            e.fillText(n, e.width / 2 - 20, e.height / 2, 100);
            for (var i = 0; i < t.length; i++) {
                var o = t[i].startAngle + (t[i].endAngle - t[i].startAngle) / 2,
                    s = (t[i].outerRadius - t[i].innerRadius) / 1.5 + t[i].innerRadius, a = t[i].x + Math.cos(o) * s,
                    c = t[i].y + Math.sin(o) * s;
                e.textAlign = "center", e.textBaseline = "middle", e.fillStyle = r, e.font = "normal 12px Helvetica", e.fillText(t[i].value, a, c)
            }
        };
        var s = o;
        o.segments && (s = o.segments);
        for (var a = 0; a < s.length; a++)(isNaN(s[a].value) || s[a].value < 0) && (s[a].value = "");
        return n.destroy(), new Chart(t).Pie(s, i)
    }, s.prototype.getPixelRatio = function (t) {
        var n = t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1,
            i = (e.devicePixelRatio || 1) / n;
        return i
    }, s.prototype.createPieChart = function (e) {
        var t = [{value: 300, color: "#57c7d4", label: "1月"}, {value: 150, color: "#3aa99e", label: "2月"}, {
            value: 100,
            color: "#f2a654",
            label: "3月"
        }, {value: 140, color: "#f96868", label: "4月"}, {value: 120, color: "#926dde", label: "5月"}], n = {
            segmentShowStroke: !1,
            showTooltips: !1,
            scaleFontColor: "#000",
            legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',
            animation: !1,
            onAnimationComplete: function () {
                var e = this.chart.ctx, t = this.segments;
                e.textAlign = "start", e.textBaseline = "middle";
                for (var n = 0, i = 0; i < t.length; i++)n += parseFloat(t[i].value);
                e.fillText(n, e.width / 2 - 20, e.height / 2, 100);
                for (var i = 0; i < t.length; i++) {
                    var r = t[i].startAngle + (t[i].endAngle - t[i].startAngle) / 2,
                        o = (t[i].outerRadius - t[i].innerRadius) / 1.5 + t[i].innerRadius,
                        s = t[i].x + Math.cos(r) * o, a = t[i].y + Math.sin(r) * o;
                    e.textAlign = "center", e.textBaseline = "middle", e.fillStyle = "#000", e.font = "normal 12px Helvetica", e.fillText(t[i].value, s, a)
                }
            }
        }, i = new Chart(e).Pie(t, n);
        return i
    }, s.prototype.createBarChart = function (e) {
        var t = {
            labels: ["1月", "2月", "3月", "4月", "5月"],
            datasets: [{
                fillColor: "#62a8ea",
                strokeColor: "rgba(0,0,0,0)",
                data: [60, 70, 80, 56, 40],
                label: "图例1"
            }, {
                fillColor: "#926dde",
                strokeColor: "rgba(0,0,0,0)",
                data: [80, 56, 40, 93, 112],
                label: "图例2"
            }, {fillColor: "#f2a654", strokeColor: "rgba(0,0,0,0)", data: [160, 86, 140, 123, 23], label: "图例3"}]
        }, n = {
            showTooltips: !1,
            scaleShowLabels: !0,
            scaleShowGridLines: !1,
            scaleBeginAtZero: !0,
            legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',
            animation: !1,
            onAnimationComplete: function () {
                var e = this.chart.ctx;
                e.fillStyle = this.scale.textColor, e.font = "normal 12px Helvetica", e.textAlign = "center", e.textBaseline = "bottom", this.datasets.forEach(function (t) {
                    t.bars.forEach(function (t) {
                        e.fillText(t.value, t.x, t.y)
                    })
                })
            }
        }, i = new Chart(e).Bar(t, n);
        return i
    }, s.prototype.createLineChart = function (e, t) {
        var n = ["rgba(255,255,255,0)", "rgba(255,255,255,0)", "rgba(255,255,255,0)"],
            i = ["rgba(146,109,222,1)", "rgba(87,199,212,1)", "rgba(242,166,84,1)"], r = !1,
            o = '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>';
        "curve" == t && (n = ["rgba(146, 109, 222,0.2)", "rgba(87,199,212,0.2)", "rgba(242,166,84,0.2)"], r = !0, o = '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>');
        var s = {
            labels: ["1月", "2月", "3月", "4月", "5月"],
            datasets: [{
                label: "图例1",
                fillColor: n[0],
                strokeColor: i[0],
                pointColor: i[0],
                pointStrokeColor: "#fff",
                data: [28, 24, 40, 19, 27]
            }, {
                label: "图例2",
                fillColor: n[1],
                strokeColor: i[1],
                pointColor: i[1],
                pointStrokeColor: "#fff",
                data: [123, 132, 146, 118, 189]
            }, {
                label: "图例3",
                fillColor: n[2],
                strokeColor: i[2],
                pointColor: i[2],
                pointStrokeColor: "#fff",
                data: [201, 232, 256, 215, 278]
            }]
        }, a = {
            showTooltips: !1,
            scaleShowLabels: !0,
            scaleShowGridLines: !1,
            scaleBeginAtZero: !0,
            bezierCurve: r,
            legendTemplate: o,
            animation: !1,
            onAnimationComplete: function () {
                var e = this.chart.ctx;
                e.font = this.scale.font, e.fillStyle = this.scale.textColor, e.textAlign = "center", e.textBaseline = "bottom";
                this.datasets.forEach(function (t) {
                    t.points.forEach(function (n, i) {
                        0 == i ? e.fillText(n.value, n.x + 10, n.y - 5) : i == t.points.length - 1 ? e.fillText(n.value, n.x - 10, n.y - 5) : e.fillText(n.value, n.x, n.y - 5)
                    })
                })
            }
        }, c = new Chart(e).Line(s, a);
        return c
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util, r = i.dateFormat, o = n.tpl.comment = {}, s = n.util.resolveUrl, a = n.HOST.PROJECT_HOST,
        c = i.autoProtocol;
    o.compDiv = function (e) {
        var t = e.id, n = e.type, i = e.style, r = void 0 === i ? "default" : i;
        return '\n<div class="element-box-contents" style="width: 100%; height: 100%;">\n    <div id="' + t + '" class="element boards-' + r + '" ctype="' + n + '">\n    </div>\n</div>'
    }, o.emptyBoards = function () {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? "default" : arguments[0],
            t = s(a, "images/comment/", e + "_boards.png");
        return '<div class="empty-boards"><img style="margin-top:-20px;" src="' + t + '"></div>'
    }, o.tool = function (e) {
        var t = e.meslabel, n = e.morelabel;
        return '<div class="tool"><a class="replay">' + t + '</a><a class="more">' + n + "</a></div>"
    }, o.headImgUser = function (e) {
        return e = c(e), '<div class="headimg" style="background-image:url(' + e + ')"></div>'
    }, o.headImgEqxView = function () {
        return '<div class="headimg headimg-bg"><div class="logo-scale"><em class="eqf-logo"></em></div></div>'
    }, o.headImgEqxEditor = function () {
        return '<div class="headimg headimg-bg"><div class="logo"><em class="eqf-logo"></em></div></div>'
    }, o.record = function (e) {
        var t = e.url, n = e.name, i = e.content, s = e.createTime, a = e.isEditor,
            c = t ? o.headImgUser(t) : a ? o.headImgEqxEditor() : o.headImgEqxView();
        if ((new Date).getTime() - s < 6e4)var l = "刚刚"; else l = r(new Date(s), "MM月dd日 hh:mm");
        return '\n<div class="record">\n    ' + c + '\n    <div class="name">' + n + '</div>\n    <div class="mes">' + i + '</div>\n    <div class="time">' + l + "</div>\n</div>"
    }, o.panel = function (e) {
        var t = (e.isMobile, e.style), n = void 0 === t ? "default" : t;
        return '\n<div class="boards-panel boards-' + n + '">\n    <div class="boards-top">\n        <div class="head">留言板<em class="eqf-wrong"></em></div>\n        <div class="boards-form">\n            <textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea>\n            <span class="content-tip">0/140</span>\n            <a class="record-btn" data-event="11207">提交留言</a>\n        </div>\n        <div class="spline-con">\n            <span>更多留言</span>\n            <span class="spline"></span>\n        </div>\n    </div>\n    <div class="boards-con ios-boards-con">\n        <div class="list">\n            <div class="more-mes">查看更多</div>\n        </div>\n    </div>\n</div>';
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    function i(e, t) {
        return JSON.stringify(e) == JSON.stringify(t)
    }

    var r = n.API, o = function () {
        function e(t) {
            _classCallCheck(this, e), this.sceneId = t, this.comments = [], this.lastTime = 0, this.registers = []
        }

        return _createClass(e, [{
            key: "getComments", value: function () {
                return this.comments.sort(function (e, t) {
                    return t.createTime - e.createTime
                }), this.comments
            }
        }, {
            key: "postComment", value: function (e) {
                var t = this;
                return r.postComment(e).then(function (e) {
                    var n = e.obj;
                    return t.addComment(n), t.publish(), n
                })
            }
        }, {
            key: "publish", value: function () {
                this.registers.forEach(function (e) {
                    return e.updateComments()
                })
            }
        }, {
            key: "addComment", value: function (e) {
                return this.comments.find(function (t) {
                    return i(t, e)
                }) ? !1 : (this.comments.push(e), !0)
            }
        }, {
            key: "loadMoreComments", value: function () {
                var e = this;
                return r.getCommentList({sceneId: this.sceneId, time: this.lastTime}).then(function (t) {
                    var n = t.list;
                    return n.length ? (e.lastTime = n[n.length - 1].createTime, n) : Promise.reject()
                }).then(function (t) {
                    return t = t.filter(function (t) {
                        return e.addComment(t)
                    }), e.publish(), t
                })
            }
        }, {
            key: "register", value: function (e) {
                return !e instanceof n.EqxComment ? void(n.DEBUG && console.error("Invalid Comment Type")) : void(this.registers.includes(e) || this.registers.push(e))
            }
        }]), e
    }(), s = null;
    n.commentManager = {
        init: function (e) {
            return s || (s = new o(e)), s
        }, get: function () {
            return s ? s : void(n.DEBUG && console.error("No Comment Manager initialized"))
        }
    }
}(window, jQuery, EQX), function (e, t) {
    var n = EQX.util, i = n.mobilecheck(), r = n.isWeixin(), o = EQX.tpl.comment, s = EQX.commentManager,
        a = EQX.util.setUrlHistory, c = EQX.API.bigDataXBData, l = EQX.EqxElement, u = function (e) {
            function t(e) {
                _classCallCheck(this, t);
                var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return n.commentManager = s.get(), n.commentManager.register(n), n.disEvent = !1, n
            }

            return _inherits(t, e), t
        }(l);
    EQX.EqxComment = u;
    var p = u.prototype;
    p.createContext = function (e) {
        var n = e.id, r = e.type, s = e.properties, a = s.meslabel, c = s.morelabel, l = s.style,
            u = this.$ele = t(o.compDiv({id: n, type: r, style: l})), p = this.$boards = u.find(".boards-" + l);
        p.append(o.tool({meslabel: a || "", morelabel: c || ""})), this.$trigger = p.find(".tool a");
        var h = this.$panel = t(o.panel({isMobile: i, style: l}));
        if (this.$close = h.find(".eqf-wrong"), this.$contentText = h.find(".content-text"), this.$contentTip = h.find(".content-tip"), this.$submit = h.find(".record-btn"), this.$more = h.find(".more-mes"), this.$panelList = h.find(".list"), this.maxLength = this.$contentText.attr("maxLength"), this.disEvent) {
            var d = (new Date).getTime(), f = [1, 2, 3].map(function (e) {
                return o.record({content: "赞一个！好多新功能哦~", name: "匿名用户", createTime: d + 1e4 * e, isEditor: !0})
            });
            p.append(f)
        }
        return u[0]
    }, p.addClassToLi = function (e) {
        e.classList.add("wsite-boards"), t(e).attr("min-h", 60).attr("min-w", 230)
    }, p.updateComments = function () {
        this.$boards && this.$panel && this.eleShow()
    }, p.eleShow = function () {
        l.prototype.eleShow.call(this), this.$panel.parent().length || (this.$panel.hide(), this.$panel.insertBefore(t(this.li).parent().parent()));
        var e = this.elementOptions.properties.style,
            n = this.commentManager.getComments().slice(0, 5).map(function (e) {
                return o.record(e)
            });
        n.length ? (this.$boards.find(".empty-boards").length && this.$boards.find(".empty-boards").remove(), this.$boards.find(".record").remove(), this.$boards.prepend(n)) : this.$boards.append(o.emptyBoards(e))
    }, p.refresh$board = function () {
    }, p.eleHide = function () {
        l.prototype.eleHide.call(this), this.$boards.find(".record").remove(), this.$boards.find(".empty-boards").remove(), this.$panel.hide()
    }, p.bindAfterRenderEvent = function (e, n) {
        function i() {
            var e = d.commentManager.getComments().map(function (e) {
                return o.record(e)
            });
            d.$panelList.find(".record").remove(), d.$panelList.prepend(e), d.$panel.show(), f()
        }

        var s = this, l = n.sceneId, u = n.pageId, p = EQX.weChatUtils.getWeChatUser(), h = EQX.API.getUserWxInfo;
        if (this.disEvent)return !1;
        var d = this, f = function () {
            s.commentManager.loadMoreComments().then(function (e) {
                var t = e.map(function (e) {
                    return o.record(e)
                });
                s.$more.before(t)
            })["catch"](function () {
                s.$more.html("没有更多"), s.$more.unbind("click")
            })
        };
        this.$trigger.on("click", function () {
            r && !p.nickname ? h().then(function (e) {
                e.obj ? (EQX.weChatUtils.setWeChatUser(e.obj), i()) : (a(u), EQX.init.hrefToWxAuth())
            })["catch"](function () {
                i()
            }) : i()
        }), this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove", function (e) {
            e.stopPropagation()
        }), this.$contentText.on("input", function (e) {
            var t = e.target.value, n = t.length;
            console.log("content:" + t.length), s.$contentTip.html(n + "/" + s.maxLength)
        });
        var v = !1;
        return this.$submit.on("click", function () {
            if (c(scene.id, 4, null, 26, "留言板留言"), !v) {
                v = !0, s.$submit.addClass("submit-disabled");
                var e = t.trim(s.$contentText.val()) || s.$contentText.attr("placeholder"),
                    n = e.length + e.split("\n").length - 1;
                n > s.maxLength && (e = e.slice(0, s.maxLength));
                var i = {sceneId: l, content: e, url: p.headimgurl || "", name: p.nickname || "匿名用户"};
                s.commentManager.postComment(i).then(function (e) {
                    alert("留言成功，谢谢参与！"), s.$contentText.val("");
                    var t = o.record(e);
                    s.$panelList.parent().scrollTop(0), s.$panelList.prepend(t), s.$contentTip.html("0/" + s.maxLength)
                })["catch"](function (e) {
                    alert("提交失败，请重新提交")
                })["finally"](function () {
                    var e = 10, t = function n() {
                        e ? (s.$submit.text("提交留言(" + e + "秒)"), e--, setTimeout(function () {
                            n()
                        }, 1e3)) : (s.$submit.text("提交留言"), s.$submit.removeClass("submit-disabled"), v = !1)
                    };
                    t()
                })
            }
        }), this.$close.on("click", function () {
            s.$panel.hide(), s.eleShow()
        }), this.$more.on("click", function () {
            return f()
        }), !0
    }
}(window, jQuery), function (e, t, n) {
    function i(e) {
        var n = e.id, i = e.layout, c = e.size, l = e.type, u = e.icon, p = e.color, h = e.imgSrc, d = e.css;
        d.minWidth = d.width, d.width = "auto";
        var f = a.color(p), v = h ? o(h) : r(u), g = h ? 1120609 : s(u);
        if ("counter-tb" === i)if (h) m = "counter-l" == c ? 77 : "counter-m" == c ? 71 : 66; else var m = "counter-l" == c ? 40 : "counter-m" == c ? 30 : 20;
        var y = '\n<div class="element comp_counter not-voted editable-text ' + i + " " + c + '" id="' + n + '" ctype="' + l + '"\n     name="eq[f_' + n + ']">\n    <div class="counter-container" data-event="' + g + '" style="' + f + '">' + v + '<span class="counter-elem counter-number" data-counter-number="0">0</span>\n    </div>\n</div>\n',
            b = t(y).css(d);
        return b.find(".counter-container").css("margin-top", -m), b
    }

    function r(e) {
        return '<i class="counter-elem counter-icon ' + e + '" ></i>'
    }

    function o(e) {
        return '<img class="counter-elem counter-icon"\n             style="width: 115px; height: 115px; margin: 0 auto;" src="' + e + '">'
    }

    function s(e) {
        var t = {"eqf-love": 1120605, "eqf-good": 1120606, "eqf-flower2": 1120607, "eqf-vote": 1120608};
        return t[e]
    }

    n.tpl.count = {$compDiv: i};
    var a = n.tpl
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.util.fixedNum, o = n.tpl.count, s = n.EqxElement, a = n.util.qiniuZoom,
        c = n.API.bigDataXBData, l = function (e) {
            function t(e) {
                return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
            }

            return _inherits(t, e), t
        }(s);
    n.EqxCount = l, l.prototype.createContext = function (e) {
        var i = e.id, s = e.type, c = e.properties, l = c.layout, u = c.imgSrc, p = c.color, h = c.icon, d = c.size,
            f = e.css, v = f.width, g = f.lineHeight, m = f.height;
        u && (u = a({css: {width: v, height: m}}, u));
        var y = o.$compDiv({
            id: i,
            layout: l,
            size: d,
            type: s,
            icon: h,
            color: p,
            imgSrc: u,
            css: {width: v, height: m, lineHeight: g}
        });
        n.init.getCounterValues().then(function (e) {
            var t = r(e[i]) || 0;
            y.find(".counter-number").attr("data-counter-number", e[i]).html(t)
        });
        var b = {width: "auto", "min-width": e.css.width};
        return y.css(b), t(this.li).css(b), y[0]
    }, l.prototype.bindAfterRenderEvent = function (e, o) {
        var s = this, a = o.id, l = o.sceneId, u = o.pageId, p = t(e).find(".comp_counter"),
            h = p.find(".counter-number"), d = "rating-l";
        return p.click(function () {
            if (s.elementOptions.properties) {
                var t, o, f = s.elementOptions.properties.icon;
                switch (f) {
                    case"eqf-love":
                        t = 15, o = "互动计数喜欢";
                        break;
                    case"eqf-good":
                        t = 16, o = "互动计数顶起";
                        break;
                    case"eqf-flower2":
                        t = 17, o = "互动计数送花";
                        break;
                    case"eqf-vote":
                        t = 18, o = "互动计数投票";
                        break;
                    default:
                        t = 19, o = "互动计数自定义"
                }
                c(scene.id, 4, null, t, o)
            }
            s.elementOptions.properties && s.elementOptions.properties.clickFarmer ? n.util.isWeixin() ? i.postCount({
                sceneId: l,
                elementId: a,
                pageId: u
            }).then(function () {
                p.unbind("click").removeClass("not-voted");
                var e = Number.parseInt(h.attr("data-counter-number"), 10) || 0, t = e + 1;
                h.attr("data-counter-number", t).text(r(t))
            })["catch"](function (t) {
                120504 === t.code ? n.tpl.btn.modal(e, d, !1, null, "请到微信中打开使用") : 120505 === t.code ? n.tpl.btn.modal(e, d, !1, null, "请不要重复提交") : alert("服务器异常!")
            }) : n.tpl.btn.modal(e, d, !1, null, "请到微信中打开使用") : i.postCount({
                sceneId: l,
                elementId: a,
                pageId: u
            }).then(function () {
                p.unbind("click").removeClass("not-voted");
                var e = Number.parseInt(h.attr("data-counter-number"), 10) || 0, t = e + 1;
                h.attr("data-counter-number", t).text(r(t))
            })["catch"](function () {
                alert("服务器异常!")
            })
        }), !0
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.dropDownList = {};
    i.compDiv = function (e) {
        var t = e.id, n = e.type, r = e.required, o = e.showText, s = r ? 'required="required"' : "",
            a = i.button({id: t, showText: o}), c = i.select({id: t, type: n});
        return '<div class="element-box-contents" style="width: 100%; height: 100%;">\n                    <div style="width:100%;height:100%" id="' + t + '" ctype="' + n + '" ' + s + ">\n                           " + a + "\n                           " + c + "\n                    </div>\n                </div>"
    }, i.select = function (e) {
        var t = e.id, n = e.type;
        return '<select style="width:100%;height:100%;" name="eq[f_' + t + ']" ctype="' + n + '" data-event="11210"></select>'
    }, i.button = function (e) {
        var t = e.id, n = e.showText;
        return '<button type="button" class="btn dropdown-toggle btn-default"\n                    style="width:100%;height:100%;background-color:#ffffff;\n                    color:#666;padding-top: 0px;border: 1px solid rgb(8,161,239);\n                    font-family: Open Sans, sans-serif;\n                    font-weight: 400;font-size: 16px;\n                    border-top-left-radius: 0px;border-bottom-left-radius: 0px;\n                    border-top-right-radius: 0px;border-bottom-right-radius: 0px;\n                    position:absolute;top:0px;left:0px;pointer-events:none;\n                    padding-bottom: 0px;padding-right:0px;padding-left:0px;overflow: hidden"\n                    data-toggle="dropdown" aria-expanded="false">\n                    <span class="filter-option pull-left"\n                          style="margin-left: 8px;float:left;\n                          width:calc(100% - 42px);width:-moz-calc(100% - 42px);width:-webkit-calc(100% - 42px);overflow:hidden;text-align: left;"\n                          id="selectedSpan' + t + '">' + n + '</span>\n                    &nbsp;\n                    <span class="bs-caret" style="float:right;margin-right:10px;">\n                        <span class="caret" style="display: inline-block;width: 0px;height: 0px;vertical-align: middle;border-top:4px dashed;border-right: 4px solid transparent;border-left: 4px solid transparent;margin-left: 0px;">\n                        </span>\n                    </span>\n                </button>'
    }, i.option = function (e) {
        var t = e.selected, n = e.label, i = t ? "selected" : "";
        return '<option value="' + n + '" ' + i + ">" + n + "</option>"
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.tpl.dropDownList, r = n.formManager, o = n.API.bigDataXBData, s = n.EqxElement, a = function (e) {
        function t(e) {
            _classCallCheck(this, t);
            var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
            return r.add(n), n
        }

        return _inherits(t, e), _createClass(t, [{
            key: "check", value: function () {
                var e = this.$select.val(), t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && e == this.placeholder && (t.success = !1, t.message = "下拉框 '" + this.showText + "' 为必选项"), t
            }
        }]), t
    }(s);
    n.EqxDropDownList = a, a.prototype.createContext = function (e) {
        var n = e.id, r = e.pageId, o = e.type, s = e.required, a = e.choices.options, c = void 0 === a ? [] : a,
            l = e.placeholderText, u = e.showText;
        this.name = "eq[f_" + n + "]", this.required = s, this.placeholder = l, this.showText = u, this.pageId = r;
        var p = t(i.compDiv({id: n, type: o, required: s, showText: u})), h = this.$select = p.find("select"),
            d = p.find("#selectedSpan" + n), f = [{label: l}].concat(_toConsumableArray(c)).map(function (e) {
                var t = e.label;
                return i.option({selected: t == u, label: t})
            });
        return h.append(f).change(function () {
            return d.text(h.val())
        }), p[0]
    }, a.prototype.bindAfterRenderEvent = function () {
        return t(this.li).bind("touchstart mousedown", function (e) {
            o(scene.id, 4, null, 29, "下拉列表"), e.stopPropagation()
        }), !0
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.input = {}, r = n.tpl.form;
    i.input = function (e) {
        var t = e.id, n = e.type, i = e.required, o = e.placeholder, s = r.required(i), a = r.placeholder(o);
        return '<textarea id="' + t + '" ctype="' + n + '"\n                  class="element comp_input editable-text"\n                  maxlength="300" ' + s + " " + a + '\n                  name="eq[f_' + t + ']"\n                  style="width: 100%;width:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;"></textarea>'
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.input, r = n.formManager, o = n.util.mobilecheck, s = n.util.isAndroidPhone, a = n.EqxElement,
        c = function (e) {
            function t(e) {
                _classCallCheck(this, t);
                var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return r.add(n), n
            }

            return _inherits(t, e), t
        }(a);
    n.EqxInput = c;
    var l = c.prototype;
    l.check = function () {
        var e = t(this.li).find("#" + this.id).val(), n = {success: !0, pageId: this.pageId, key: this.name, value: e};
        return this.required && !e && (n.success = !1, n.message = this.placeholder + " 为必填项"), n
    }, l.createContext = function (e) {
        var n = e.id, r = e.pageId, o = e.type, s = e.css, a = s.width, c = s.height, l = e.properties, u = l.required,
            p = l.placeholder;
        return this.required = u, this.name = "eq[f_" + n + "]", this.pageId = r, this.placeholder = p, this.id = n, t(i.input({
            id: n,
            type: o,
            required: u,
            placeholder: p
        })).css({width: a, height: c})[0]
    }, l.bindAfterRenderEvent = function (e, n) {
        var i = o();
        return this.touchStartMouseDownStopPropagation(t(e).find("textarea")), this.onFocusBlurWhenFlip(t(e).find("textarea")), i && parseFloat(n.css.top) >= 200 && s && t(e).find("textarea").click(function (e) {
            setTimeout(function () {
                e.target.scrollIntoViewIfNeeded()
            }, 500)
        }), !0
    }, l.touchStartMouseDownStopPropagation = function (e) {
        t(e).bind("touchstart mousedown", function (e) {
            e.stopPropagation()
        })
    }, l.onFocusBlurWhenFlip = function (e) {
        e.focus(function (e) {
            n.pageScroll.pauseAutoFlip()
        }).blur(function (e) {
            t(document).trigger("startAutoFlip")
        })
    }, l.addClassToLi = function (e) {
        e.classList.add("wsite-input")
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function i(e, t, n) {
    null === e && (e = Function.prototype);
    var r = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === r) {
        var o = Object.getPrototypeOf(e);
        return null === o ? void 0 : i(o, t, n)
    }
    if ("value" in r)return r.value;
    var s = r.get;
    if (void 0 !== s)return s.call(n)
};
!function (e, t, n) {
    var i = n.EqxInput, r = n.util.isEmail, o = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), _createClass(t, [{
            key: "check", value: function () {
                var e = _get(Object.getPrototypeOf(t.prototype), "check", this).call(this);
                return e.success ? (e.value && !r(e.value) && (e.success = !1, e.message = this.placeholder + " 格式不对"), e) : e
            }
        }]), t
    }(i);
    n.EqxInputEmail = o
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function r(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var o = Object.getPrototypeOf(e);
        return null === o ? void 0 : r(o, t, n)
    }
    if ("value" in i)return i.value;
    var s = i.get;
    if (void 0 !== s)return s.call(n)
};
!function (e, t, n) {
    var i = n.EqxInput, r = n.util.isPhoneNumber, o = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), _createClass(t, [{
            key: "check", value: function () {
                var e = _get(Object.getPrototypeOf(t.prototype), "check", this).call(this);
                return e.success ? (e.value && !r(e.value) && (e.success = !1, e.message = this.placeholder + " 格式不对"), e) : e
            }
        }]), t
    }(i);
    n.EqxInputPhone = o
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.form, r = n.tpl.score = {};
    r.$compDiv = function (e) {
        var n = e.id, r = e.type, o = e.title, s = e.required, a = e.css, c = i.required(s),
            l = '\n<div class="element comp_rating editable-text" ' + c + '\n     id="' + n + '" ctype="' + r + '" title="' + o + '" name="eq[f_' + n + ']">\n    <div class="rating-title">' + o + '</div><div class="rating-icons"></div><input type="hidden" name="eq[f_' + n + ']" value="">\n</div>';
        return t(l).css(a)
    }, r.icon = function (e) {
        var t = e.icon, n = e.size, i = e.color;
        return '<i class="' + n + " " + t + '-line" style="color: ' + i + ';"></i>'
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.tpl.score, r = n.formManager, o = n.API.bigDataXBData, s = n.EqxElement, a = function (e) {
        function t(e) {
            _classCallCheck(this, t);
            var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
            return r.add(n), n
        }

        return _inherits(t, e), _createClass(t, [{
            key: "check", value: function () {
                var e = this.$score.val(), t = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (t.success = !1, t.message = "评分项: " + this.title + " 为必填项"), t
            }
        }]), t
    }(s);
    n.EqxScore = a, a.prototype.createContext = function (e) {
        var t = e.id, n = e.pageId, r = e.type, o = e.title, s = e.properties, a = s.required, c = s.icon, l = s.size,
            u = s.color, p = e.css.width, h = i.$compDiv({id: t, type: r, title: o, required: a, css: {width: p}});
        this.required = a, this.title = o, this.name = "eq[f_" + t + "]", this.pageId = n;
        var d = [1, 2, 3, 4, 5].map(function () {
            return i.icon({icon: c, size: l, color: u})
        });
        return h.find(".rating-icons").append(d), this.$score = h.find('input[type="hidden"]'), h[0]
    }, a.prototype.bindAfterRenderEvent = function (e, n) {
        function i(e) {
            s.each(function (n, i) {
                t(i).removeClass(c).addClass(c + "-line"), e >= n && t(i).removeClass(c + "-line").addClass(c)
            })
        }

        var r = t(e), s = r.find("i"), a = r.find("input"), c = n.properties.icon;
        return s.each(function (e, n) {
            t(n).attr("data-event", "11211"), t(n).bind("click", function (t) {
                i(e), a.val(e + 1)
            }).bind("mouseenter", function (t) {
                return i(e)
            })
        }), r.find(".rating-icons").bind("mouseleave", function (e) {
            return i(~~a.val() - 1)
        }).bind("touchstart mousedown", function (e) {
            o(scene.id, 4, null, 30, "评分"), e.stopPropagation()
        }), !0
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.checkbox = {};
    i.$compDiv = function (e) {
        var n = e.id, i = e.required, r = e.title, o = e.type, s = e.css, a = i ? 'required="required"' : "",
            c = '<div class="element comp_radio editable-text" id="' + n + '" ctype="' + o + '" ' + a + ' title="' + r + '"\n                name="eq[f_' + n + ']">\n                <div class="radio-title">' + r + '(可多选)</div>\n                <div class="options"></div></div>';
        return t(c).css(s)
    }, i.option = function (e) {
        var t = e.compId, n = e.index, i = e.optionId, r = e.optionLabel, o = "" + t + n;
        return '<div class="option-group">\n            <label class="option-label" for="' + o + '" data-event="11209">\n                <input class="option" id="' + o + '" type="checkbox"\n                       name="eq[f_' + t + ']" value="' + i + '" data-event="11209">' + r + "</label>\n        </div>"
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.radio = {};
    i.$compDiv = function (e) {
        var n = e.id, i = e.required, r = e.title, o = e.type, s = e.css, a = i ? 'required="required"' : "",
            c = '<div class="element comp_radio editable-text" id="' + n + '" ctype="' + o + '" ' + a + ' title="' + r + '"\n                name="eq[f_' + n + ']">\n                <div class="radio-title">' + r + '</div>\n                <div class="options"></div></div>';
        return t(c).css(s)
    }, i.option = function (e) {
        var t = e.compId, n = e.index, i = e.optionId, r = e.optionLabel, o = "" + t + n;
        return '<div class="option-group">\n            <label class="option-label" for="' + o + '" data-event="11208">\n                <input class="option" id="' + o + '" type="radio"\n                       name="eq[f_' + t + ']" value="' + i + '" data-event="11208">' + r + "</label>\n        </div>"
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.formManager, r = n.EqxElement, o = n.API.bigDataXBData, s = function (e) {
        function n(e) {
            _classCallCheck(this, n);
            var t = _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e));
            return t.tpl = null, i.add(t), t
        }

        return _inherits(n, e), _createClass(n, [{
            key: "check", value: function () {
                var e = this.$options.find("input.option[name]").toArray().filter(function (e) {
                    return e.checked
                }).map(function (e) {
                    return t(e).val()
                }).filter(function (e) {
                    return !!e
                }).join(","), n = {success: !0, pageId: this.pageId, key: this.name, value: e};
                return this.required && !e && (n.success = !1, n.message = this.title + " 为必填项"), n
            }
        }, {
            key: "createContext", value: function (e) {
                var n = this, i = e.id, r = e.pageId, o = e.type, s = e.properties, a = s.required, c = s.titleStyle,
                    l = void 0 === c ? {} : c, u = s.optionStyle, p = void 0 === u ? {} : u, h = e.title, d = e.choices,
                    f = e.css, v = f.height, g = f.width;
                this.title = h, this.pageId = r, this.name = "eq[f_" + i + "]", this.required = a;
                var m = this.tpl.$compDiv({id: i, required: a, title: h, type: o, css: {height: v, width: g}});
                m.find(".radio-title").css(l);
                var y = this.$options = m.find(".options"), b = d.options.length - 1;
                return d.options.forEach(function (e, r) {
                    var o = t(n.tpl.option({compId: i, index: r, optionId: e.id, optionLabel: e.label}));
                    b > r && o.css(p), y.append(o)
                }), m[0]
            }
        }, {
            key: "bindAfterRenderEvent", value: function () {
                var e = this;
                return t(this.li).find("label").bind("touchstart mousedown", function (n) {
                    "radio" == t(e).find("input").attr("type") ? o(scene.id, 4, null, 27, "单选") : o(scene.id, 4, null, 28, "多选"), n.stopPropagation()
                }), !0
            }
        }]), n
    }(r);
    n.EqxSelect = s
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.EqxSelect, r = function (e) {
        function t(e) {
            _classCallCheck(this, t);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
            return i.tpl = n.tpl.checkbox, i
        }

        return _inherits(t, e), t
    }(i);
    n.EqxCheckbox = r
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.EqxSelect, r = function (e) {
        function t(e) {
            _classCallCheck(this, t);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
            return i.tpl = n.tpl.radio, i
        }

        return _inherits(t, e), t
    }(i);
    n.EqxRadio = r
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl, r = i.btn = {};
    r.$btn = function (e) {
        var n = e.id, i = e.type, r = e.title, o = e.css, s = r.replace(/ /g, "&nbsp;"),
            a = '<button id="' + n + '" ctype="' + i + '" class="element comp_button editable-text" data-event="11201">' + s + "</button>",
            c = t(a);
        return c.css(o)
    }, r.wrapper = function (e) {
        var n = e.layout, i = e.hasLink, r = e.src, o = e.text, s = e.link,
            a = t('<div class="feedback-content"><span>' + o + "</span></div>"),
            c = t('<div class="feedback-btn"></div>');
        return "rating-m" === n ? a.prepend('<img class="up" src="' + r + '"/>') : "rating-s" === n ? a.append('<img class="down" src="' + r + '"/>') : "rating-l" === n && a.prepend('<img class="up ico" src="' + r + '"/>'), i ? c.append('<a class="feedback-close left">关闭</a><a class="right" href="' + s + '">查看详情</a>').addClass("line") : c.append('<a class="feedback-close">关闭</a>'), t('<div class="feedback-box">').append(t('<div class="feedback-form">').append(a, c))
    }, r.modal = function (e, n, i, o, s, a) {
        var c = r.wrapper({layout: n, hasLink: i, src: o, text: s, link: a}).insertBefore(t(e).parent().parent()),
            l = c.find(".feedback-form"), u = c.find(".feedback-close"), p = -Number.parseInt(l.height() + 80) / 2;
        l.css({marginTop: p + "px"}), u.on("click", function () {
            c.animate({opacity: 0}, {
                duration: 300, complete: function (e) {
                    return c.remove()
                }
            })
        })
    }
}(window, jQuery, EQX), function (e, t) {
    var n = EQX.API, i = EQX.tpl.btn, r = EQX.EqxElement, o = EQX.formManager, s = EQX.util, a = s.qiniuZoom,
        c = s.isWeixin, l = EQX.API.viewXBData, u = EQX.API.bigDataXBData, p = EQX.util.resolveUrl,
        h = EQX.HOST.PROJECT_HOST, d = function (e) {
            function t(e, n) {
                _classCallCheck(this, t);
                var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return i.pageOptions = n.pageOptions, i
            }

            return _inherits(t, e), t
        }(r);
    EQX.EqxSubmitButton = d;
    var f = d.prototype;
    f.createContext = function (e) {
        var t = e.id, n = e.pageId, r = e.type, o = e.properties.title, s = e.css, a = s.width, c = s.height;
        return this.pageId = n, i.$btn({id: t, type: r, title: o, css: {width: a, height: c}})[0]
    }, f.bindAfterRenderEvent = function (e, r) {
        var s = this;
        t(e).click(function () {
            var t = o.check(), d = r.sceneId, f = r.id, v = r.pageId, g = r.properties, m = g.layout,
                y = void 0 === m ? "rating-l" : m, b = g.imgSrc, w = g.text, x = g.link, E = g.checkedLink,
                P = g.clickFarmer, _ = g.endTime, C = new Promise(function () {
                });
            if (u(scene.id, 4, null, 1, "提交表单"), o.submited) C = Promise.reject({code: 120505}); else if (_ && _ < Date.now()) C = Promise.reject({code: 120602}); else if (P && !c()) C = Promise.reject({code: 120504}); else if (t.success) {
                for (var T in t)t.hasOwnProperty(T) && !t[T] && delete t[T];
                var I = s.pageOptions.properties.xb, O = I && 3 == I.promotionType;
                O ? (t.sceneId = d, C = n.submitXiuForm(I.orderId, t, r.id).then(function () {
                    var e = {task: I.taskId, order: I.orderId, promotionType: I.promotionType};
                    l(I.orderId, I.taskId, I.sceneId), u(s.pageOptions.sceneId, "11", e)
                })) : (_ && (t.form.endTime = _), C = n.submitForm(t.form, d, v, f))
            } else if (t.pageId && s.pageId != t.pageId) {
                var A = confirm(t.message + " 是否前往修改？");
                A && EQX.pageScroll.goToPageById(t.pageId)
            } else C = Promise.reject({msg: t.message});
            C.then(function () {
                o.submited = !0;
                var t = !!E, n = b ? a({css: {width: 240, height: 240}}, b) : p(h, "images/ok.svg");
                w = w ? w.trim() : "谢谢您的参与！", i.modal(e, y, t, n, w, x)
            })["catch"](function (e) {
                120505 === e.code ? alert("请不要重复提交！") : 120504 === e.code ? alert("请到微信中打开使用！") : 120602 === e.code ? alert("当前表单已截止提交！") : alert(e.msg)
            })
        })
    }, f.addClassToLi = function (e) {
        e.classList.add("wsite-input")
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.gravity = {}, r = function () {
        function n(e, t, i, r, o, s) {
            _classCallCheck(this, n), this.id = e, this.bgHeight = 0, this.bgWidth = 0, this.offsetLeft = r, this.offsetTop = i, this.screenHeight = s, this.screenWidth = o, this.isFirst = !0, this.firstGamma = 0, this.firstBeta = 0, this.lastGama = 0, this.lastBeta = 0, this.targetLeft = 0, this.targetTop = 0, this.bg = t
        }

        return _createClass(n, [{
            key: "init", value: function () {
                var e = this;
                e.targetLeft = e.nowLeft = e.offsetLeft, e.targetTop = e.nowTop = e.offsetTop, e.bindEvent(), e.requestAnimationFrame = e.requestAnimationFrame.bind(this), e.raf = requestAnimationFrame(e.requestAnimationFrame)
            }
        }, {
            key: "bindEvent", value: function () {
                var n = this;
                t(e).on("deviceorientation." + n.id, function (e) {
                    var t = e.originalEvent;
                    t.g = t.gamma, t.b = t.beta, n.isFirst && (n.bgHeight = n.bg.height(), n.bgWidth = n.bg.width(), n.nowGama = n.lastGama = n.firstGamma = t.g, n.nowBeta = n.lastBeta = n.firstBeta = t.b, n.isFirst = !1), (Math.abs(t.g - n.lastGama) > 3 || Math.abs(t.b - n.lastBeta) > 3) && (n.targetLeft = Math.round(n.offsetLeft + (n.firstGamma - t.g) * n.bgWidth / 180), n.targetTop = Math.round(n.offsetTop + (t.b - n.firstBeta) * n.bgHeight / 180), n.nowBeta = n.lastBeta = t.b, n.nowGama = n.lastGama = t.g, n.targetLeft >= 0 ? n.targetLeft = 0 : n.targetLeft < n.screenWidth - n.bgWidth && (n.targetLeft = n.screenWidth - n.bgWidth), n.targetTop >= 0 ? n.targetTop = 0 : n.targetTop < n.screenHeight - n.bgHeight && (n.targetTop = n.screenHeight - n.bgHeight))
                })
            }
        }, {
            key: "requestAnimationFrame", value: function (e) {
                function t() {
                    return e.apply(this, arguments)
                }

                return t.toString = function () {
                    return e.toString()
                }, t
            }(function () {
                var e = 0, t = 0, n = this;
                n.isFirst || (e = .1 * (n.targetLeft - n.nowLeft), t = .1 * (n.targetTop - n.nowTop), n.nowLeft += +e.toFixed(5), n.nowTop += +t.toFixed(5), n.bg.css({
                    transform: "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)",
                    "-ms-transform": "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)",
                    "-webkit-transform": "translate3d(" + n.nowLeft + "px," + n.nowTop + "px,0)"
                })), n.raf = requestAnimationFrame(n.requestAnimationFrame)
            })
        }, {
            key: "destroy", value: function () {
                e.cancelAnimationFrame(this.raf), t(e).off("deviceorientation." + this.id)
            }
        }]), n
    }();
    i.Gravity = r
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.gravity = {};
    i.bgImg = function (e) {
        var t = e.id, n = e.src;
        return '\n            <div id="wrapper-gravity' + t + '"\n                 style="position: absolute;z-index: 0;width: 100%;height:100%;">\n                 <div class="layer" data-depth="0.5">\n                 <img src="' + n + '" alt=""  style="position:absolute;"/>\n                 </div>\n            </div>'
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, n, i) {
        console.log("重力感应函数开始执行");
        var r = t("#wrapper-gravity" + e.id)[0], o = e.css.width, s = e.css.height, a = {
            calibrateX: !0,
            calibrateY: !0,
            invertX: !0,
            invertY: !0,
            limitX: parseInt(o) - parseInt(n),
            limitY: parseInt(s) - parseInt(i),
            scalarX: 100,
            scalarY: 100,
            frictionX: 1,
            frictionY: 1,
            originX: .5,
            originY: .5
        };
        new Parallax(r, a)
    }

    n.gravity.parallax = i
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function o(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var r = Object.getPrototypeOf(e);
        return null === r ? void 0 : o(r, t, n)
    }
    if ("value" in i)return i.value;
    var s = i.get;
    if (void 0 !== s)return s.call(n)
};
!function (e, t, n) {
    var i = n.HOST, r = n.tpl.gravity, o = n.gravity, s = o.Gravity, a = o.parallax, c = n.util.loadImg,
        l = n.util.mobilecheck, u = n.API.loadParallax, p = n.EqxElement, h = function (e) {
            function n(e) {
                return _classCallCheck(this, n), _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e))
            }

            return _inherits(n, e), _createClass(n, [{
                key: "eleHide", value: function () {
                    var e = this;
                    _get(Object.getPrototypeOf(n.prototype), "eleHide", this).call(this), l() && this.gravityP && this.gravityP.then(function () {
                        e.gravity.destroy()
                    })
                }
            }, {
                key: "eleShow", value: function () {
                    var e = this;
                    _get(Object.getPrototypeOf(n.prototype), "eleShow", this).call(this), l() && this.gravityP && this.gravityP.then(function () {
                        e.gravity.init()
                    })
                }
            }, {
                key: "createContext", value: function (e, n, o, p) {
                    var h = this;
                    this.container = n;
                    var d = e.id, f = e.properties.imgSrc, v = e.css, g = v.top, m = v.left, y = v.width, b = v.height;
                    if (f) {
                        var w = f;
                        w = i.FILE + w, this.gravityP = c(w).then(function () {
                            var n = t(r.bgImg({id: d, src: w}));
                            return h.$bgEle = n, n.find("img").css({
                                transform: "translate3d(" + m + "px," + g + "px,0)",
                                width: y,
                                height: b
                            }), h.container.insertBefore(n[0], h.container.firstChild), l() ? void(h.gravity = new s(d, t(n.find("img")), g, m, o, p)) : u().then(function () {
                                a(e, o, p)
                            })
                        })
                    }
                }
            }]), n
        }(p);
    n.EqxGravity = h
}(window, jQuery, EQX), function (e, t, n) {
    function i(t) {
        var n = t.id, i = t.type, r = t.src, s = t.filterType, a = void 0 === s ? a[0].value : s, c = "filter-" + n,
            l = (e.location.href + "#" + c, o.find(function (e) {
                return e.value === a
            }) || a[0]), u = l.path;
        return '\n<div id="' + n + '" ctype="' + i + '" class="element comp_image editable-image">\n<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="' + r + '"\n               filter="url(#' + c + ')"  draggable="false"></image>\n        <defs>\n            <filter id="' + c + '">\n                <feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix"\n                               values="' + u + '"></feColorMatrix>\n            </filter>\n        </defs>\n    </g>\n</svg>\n</div>\n'
    }

    function r(e) {
        var t = e.id, n = e.type, i = e.src;
        return '<img id="' + t + '" ctype="' + n + '" class="element comp_image editable-image" draggable="false" src="' + i + '">'
    }

    n.tpl.image = {img: r, filterImg: i};
    var o = [{value: 1, path: "1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"}, {
        value: 2,
        path: "2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"
    }, {value: 3, path: "1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"}, {
        value: 4, path: "1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"
    }, {value: 5, path: "1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"}, {
        value: 6,
        path: "0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"
    }, {value: 7, path: "0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"}, {
        value: 8,
        path: "0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"
    }, {value: 9, path: "0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"}, {
        value: 10,
        path: "0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"
    }, {value: 11, path: "4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function s(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var r = Object.getPrototypeOf(e);
        return null === r ? void 0 : s(r, t, n)
    }
    if ("value" in i)return i.value;
    var o = i.get;
    if (void 0 !== o)return o.call(n)
};
!function (e, t, n) {
    function i(e) {
        o.push(e), s || r()
    }

    function r() {
        if (s = !0, o.length > 0) {
            var e = o.shift();
            e().then(function () {
                r()
            })
        } else s = !1
    }

    var o = [], s = !1, a = n.tpl.image, c = n.action, l = n.util.isWeixin, u = n.util.qiniuZoom, p = n.EqxElement,
        h = n.API.bigDataXBData, d = function (e) {
            function n(e) {
                return _classCallCheck(this, n), _possibleConstructorReturn(this, Object.getPrototypeOf(n).call(this, e))
            }

            return _inherits(n, e), _createClass(n, [{
                key: "createContext", value: function (e) {
                    var n = e.id, i = e.type, r = e.properties, o = r.src, s = r.filter;
                    s = void 0 === s ? {} : s;
                    var c = s.type;
                    if (o = u(e, o), Number.isInteger(c))var l = t(a.filterImg({
                        id: n,
                        type: i,
                        src: o,
                        filterType: c
                    })); else l = t(a.img({id: n, type: i, src: o}));
                    return e.properties.imgStyle && l.css(e.properties.imgStyle), l[0]
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, n) {
                    var i = n.properties.url, r = n.pageId;
                    return i && t(e).click(function () {
                        return c.link(i, r)
                    }), !!i
                }
            }, {
                key: "eleShow", value: function () {
                    var e = this.elementOptions.properties.src, i = t(this.context);
                    e && /.gif/.test(e) && setTimeout(function () {
                        var e = i.prop("src");
                        i.show().each(function () {
                            this.offsetHeight
                        }).prop("src", e)
                    }, 1), _get(Object.getPrototypeOf(n.prototype), "eleShow", this).call(this)
                }
            }]), n
        }(p), f = function (r) {
            function o(e) {
                _classCallCheck(this, o);
                var t = _possibleConstructorReturn(this, Object.getPrototypeOf(o).call(this, e));
                return t.wxJssdk = n.init.getWxJSSDK(), t
            }

            return _inherits(o, r), _createClass(o, [{
                key: "createContext", value: function (e) {
                    var n = this, r = e.serverId,
                        s = _get(Object.getPrototypeOf(o.prototype), "createContext", this).call(this, e);
                    return s.setAttribute("data-event", "1120611"), r && l() && (t(s).css("display", "none"), i(function () {
                        return new Promise(function (e, t) {
                            n.wxJssdk.then(function () {
                                wx.downloadImage({
                                    serverId: r, success: function (t) {
                                        n.responsiveImage(t.localId), e()
                                    }
                                })
                            })
                        })
                    })), s
                }
            }, {
                key: "bindAfterRenderEvent", value: function (e, n) {
                    var i = this;
                    return l() ? t(e).click(function () {
                        h(scene.id, 4, null, 22, "互动微信照片"), i.uploadImage()
                    }) : t(e).click(function () {
                        h(scene.id, 4, null, 22, "互动微信照片"), alert("请在微信中点击我")
                    }), !0
                }
            }, {
                key: "uploadImage", value: function () {
                    var e = this;
                    this.wxJssdk.then(function () {
                        wx.chooseImage({
                            count: 1,
                            sizeType: ["original", "compressed"],
                            sourceType: ["album", "camera"],
                            success: function (t) {
                                var i = t.localIds, r = i.toString();
                                console.log("chooseImage localIds", t.localIds), setTimeout(function () {
                                    wx.uploadImage({
                                        localId: r, isShowProgressTips: 1, success: function (t) {
                                            e.responsiveImage(r);
                                            var i = t.serverId;
                                            n.weChatUtils.generateUserKey(), n.weChatUtils.saveWxCompData(e.elementOptions.id, i)
                                        }
                                    })
                                }, 100)
                            }
                        })
                    })
                }
            }, {
                key: "responsiveImage", value: function (t) {
                    var n = this;
                    e.__wxjs_is_wkwebview ? this.wxJssdk.then(function () {
                        console.log("responsiveImage getLocalImgData start", t), wx.getLocalImgData({
                            localId: t,
                            fail: function (e) {
                                console.error("responsiveImage getLocalImgData Error", e)
                            },
                            success: function (e) {
                                console.log("responsiveImage getLocalImgData");
                                var t = e.localData;
                                n._responsiveImage(t)
                            }
                        })
                    }) : n._responsiveImage(t)
                }
            }, {
                key: "_responsiveImage", value: function (e) {
                    var n = this, i = new Image;
                    i.onload = function () {
                        var r, o, s = parseInt(n.elementOptions.css.width), a = parseInt(n.elementOptions.css.height);
                        i.width / i.height >= s / a ? (r = s, o = i.height * (s / i.width)) : (o = a, r = i.width * (a / i.height)), t(n.context).css({
                            display: "block",
                            width: r + "px",
                            height: o + "px",
                            "margin-top": (parseInt(t(n.li).height()) - o) / 2 + "px",
                            "margin-left": (parseInt(t(n.li).width()) - r) / 2 + "px"
                        }).attr("src", e)
                    }, i.src = e
                }
            }]), o
        }(d);
    n.EqxImage = d, n.EqxWXImage = f
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.id, i = e.type, r = e.title, o = void 0 === r ? "" : r, s = e.imgSrc, a = void 0 === s ? "" : s,
            c = e.width, l = void 0 === c ? 0 : c, u = e.height, p = void 0 === u ? 0 : u;
        l = n.util.addSuffixPx(l), p = n.util.addSuffixPx(p);
        var h = o.replace(/ /g, "&nbsp;"), d = a ? '<img style="width: 100%; height: 100%;" src="' + a + '">' : h;
        return '<a id="' + t + '" ctype="' + i + '" class="element comp_anchor editable-text" style="cursor: default; width: ' + l + "; height: " + p + '" data-event="1120601">' + d + "</a>"
    }

    n.tpl.link = {compDiv: i}
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.link, r = n.action, o = n.util.qiniuZoom, s = n.API.viewXBData, a = n.API.bigDataXBData,
        c = n.EqxElement, l = function (e) {
            function t(e, n) {
                _classCallCheck(this, t);
                var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return i.pageOptions = n.pageOptions, i
            }

            return _inherits(t, e), t
        }(c);
    n.EqxLink = l, l.prototype.createContext = function (e) {
        var n = e.id, r = e.type, s = e.properties, a = s.imgSrc, c = s.title, l = e.css, u = l.width, p = l.height;
        return a && (a = o({css: {width: u, height: p}}, a)), t(i.compDiv({
            id: n,
            type: r,
            imgSrc: a,
            title: c,
            width: u,
            height: p
        }))[0]
    }, l.prototype.bindAfterRenderEvent = function (e, n) {
        var i = this, o = n.id, c = n.properties.url, l = n.pageId, u = this.pageOptions.properties.xb;
        return c && t(e).find("#" + o).click(function () {
            if (a(scene.id, 4, null, 10, "互动链接"), u && 2 == u.promotionType && s(u.orderId, u.taskId, u.sceneId), u) {
                var e = {task: u.taskId, order: u.orderId, promotionType: u.promotionType};
                a(i.pageOptions.sceneId, "4", e)
            }
            r.link(c, l)
        }), !!c
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.id, n = e.type;
        return '\n<div id="' + t + '" ctype="' + n + '" class="element"></div>\n'
    }

    n.tpl.map = {compDiv: i}
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.map, r = n.API.loadQQMap, o = n.HOST, s = n.util.resolveUrl, a = n.API.bigDataXBData,
        c = n.EqxElement, l = function (e) {
            function t(e) {
                return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
            }

            return _inherits(t, e), t
        }(c);
    n.EqxMap = l, l.prototype.createContext = function (e) {
        var n = this, o = e.id, s = e.type, a = e.content, c = e.properties, l = c.lat,
            u = void 0 === l ? 39.916527 : l, p = c.lng, h = void 0 === p ? 116.397128 : p, d = c.zoom,
            f = void 0 === d ? 11 : d, v = e.css, g = v.width, m = v.height, y = t(i.compDiv({id: o, type: s})).css({
                width: g,
                height: m
            }).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend", function (e) {
                e.stopPropagation()
            });
        return r().then(function () {
            n.initQQMap({$ele: y, content: a, lat: u, lng: h, zoom: f})
        }), y[0]
    }, l.prototype.initQQMap = function (e) {
        var t = e.$ele, n = e.content, i = e.lat, r = e.lng, a = e.zoom, c = new qq.maps.LatLng(i, r),
            l = {disableDefaultUI: !0, center: c, zoom: parseFloat(a)}, u = new qq.maps.Map(t[0], l);
        n && new qq.maps.Label({position: c, map: u, content: n});
        var p = new qq.maps.Point(25, 5), h = new qq.maps.Size(34, 34), d = new qq.maps.Point(0, 0),
            f = new qq.maps.MarkerImage(s(o.PROJECT_HOST, "images/marker.png"), h, d, p),
            v = new qq.maps.Marker({map: u, position: u.getCenter()});
        v.setIcon(f), t.data("marker", v)
    }, l.prototype.bindAfterRenderEvent = function (e) {
        var n = t(e);
        n.click(function () {
            a(scene.id, 4, null, 13, "互动地图")
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.id, n = e.type, i = e.bgColor, r = o.bgColor(i);
        return '<div id="' + t + '" class="slider element" ctype="' + n + '" style="' + r + '"></div>'
    }

    function r(e) {
        return '<img src="' + e + '">'
    }

    var o = n.tpl;
    n.tpl.pictures = {compDiv: i, img: r}
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? c[0].value : arguments[0];
        return c.find(function (t) {
            var n = t.value;
            return n === e
        })
    }

    function r(e) {
        var t = e.imgW, n = e.imgH, i = e.containerW, r = e.containerH, o = {}, s = t / n, a = i / r;
        return s > a ? (o.width = i, o.height = i / s) : (o.height = r, o.width = r * s), o.margin = (r - n) / 2 + "px " + (i - t) / 2 + "px", o
    }

    var o = n.tpl.pictures, s = n.API.loadFlux, a = n.util.qiniuZoom,
        c = [{value: 1, desc: "轮播", name: "slide"}, {value: 2, desc: "下落", name: "bars"}, {
            value: 3,
            desc: "百页窗",
            name: "blinds"
        }, {value: 4, desc: "消隐", name: "blocks"}, {value: 5, desc: "渐变", name: "blocks2"}, {
            value: 9,
            desc: "梳理",
            name: "zip"
        }, {value: 11, desc: "翻转", name: "bars3d"}, {value: 13, desc: "立方体", name: "cube"}, {
            value: 14,
            desc: "棋盘",
            name: "tiles3d"
        }, {value: 16, desc: "飞出", name: "explode"}], l = n.EqxElement, u = function (e) {
            function t(e) {
                _classCallCheck(this, t);
                var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return n.intervalObj = {}, n
            }

            return _inherits(t, e), t
        }(l);
    n.EqxImageSlider = u, u.prototype.createContext = function (e) {
        var n = e.id, i = e.type, s = e.properties;
        s = void 0 === s ? {} : s;
        var c = s.children, l = void 0 === c ? [] : c, u = s.bgColor, p = e.css, h = p.width, d = p.height,
            f = t(o.compDiv({id: n, type: i, bgColor: u})), v = l.map(function (n) {
                var i = n.width, s = n.height, c = n.src, l = r({imgW: i, imgH: s, containerW: h, containerH: d});
                return c = a(e, c), t(o.img(c)).css(l)
            });
        return f.append(v), this.deleteInterval(n), f.get(0)
    }, u.prototype.bindAfterRenderEvent = function (e, n) {
        var r = this, o = n.id, a = n.properties, c = a.autoPlay, l = a.interval, u = a.picStyle, p = n.css,
            h = p.width, d = p.height, f = p.bgColor;
        return t(e).closest(".page_tpl_container ").length ? !1 : (t(e).find(".element-box").css("overflow", "visible"), this.deleteInterval(o), s().then(function () {
            r.myFlux = new flux.slider(t(e).find("#" + o), {
                autoplay: c,
                delay: l,
                pagination: !1,
                transitions: [i(u).name],
                width: h,
                height: d,
                bgColor: f,
                onStartEnd: function (e) {
                    return r.addInterval(o, e)
                }
            })
        }), !0)
    }, u.prototype.addInterval = function (e, t) {
        this.intervalObj[e] = t
    }, u.prototype.deleteInterval = function (e) {
        this.intervalObj[e] && (clearInterval(this.intervalObj[e]), delete this.intervalObj[e])
    }, u.prototype.clearInterval = function () {
        for (var e in this.intervalObj)this.deleteInterval(e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var n = e.id, i = e.type, o = e.layout, s = e.size, a = e.icon, c = e.color, l = e.css, u = r.color(c);
        "counter-tb" === o && (l.marginTop = -("counter-l" == s ? 40 : "counter-m" == s ? 30 : 20));
        var p = '\n<div class="element comp_counter editable-text ' + o + " " + s + '" id="' + n + '" ctype="' + i + '">\n    <div class="counter-container" >\n        <i class="counter-elem counter-icon ' + a + '" style="' + u + '"></i><span class="counter-elem counter-number" style="' + u + '">0</span>\n    </div>\n</div>';
        return t(p).css(l)
    }

    n.tpl.pv = {$compDiv: i};
    var r = n.tpl
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.util.fixedNum, o = n.tpl.pv, s = n.API.bigDataXBData, a = n.EqxElement, c = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), t
    }(a);
    n.EqxPv = c, c.prototype.createContext = function (e) {
        var t = e.id, n = e.type, i = e.properties, r = i.layout, s = i.size, a = i.icon, c = i.color, l = i.width,
            u = i.height, p = e.css.lineHeight, h = o.$compDiv({
                id: t,
                type: n,
                layout: r,
                size: s,
                icon: a,
                color: c,
                css: {width: l, height: u, lineHeight: p}
            });
        return this.getPvCount(), h[0]
    }, c.prototype.getPvCount = function () {
        var e = this;
        return i.getPvCount(this.elementOptions.sceneId).then(function (e) {
            return r(e) || 0
        }).then(function (n) {
            t(e.li).find(".counter-number").text(n)
        })
    }, c.prototype.eleShow = function () {
        a.prototype.eleShow.call(this), this.getPvCount()
    }, c.prototype.bindAfterRenderEvent = function (e) {
        t(e).click(function () {
            s(scene.id, 4, null, 20, "统计阅读量")
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.random = {}, r = n.HOST;
    i.compDiv = function (e) {
        var t = e.id, n = e.type, r = e.pics, o = r.map(function (e) {
            return i.img(e.path)
        }).join("");
        return '\n<div id="' + t + '" class="random-event element comp_image editable-image" ctype="' + n + '"\n     style="width: 100%; height: 100%;">\n     ' + o + "\n</div>"
    }, i.img = function (e) {
        return '<img src="' + (r.FILE + e) + '" style="width: 100%; height: 100%; display: none;">'
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function a(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var r = Object.getPrototypeOf(e);
        return null === r ? void 0 : a(r, t, n)
    }
    if ("value" in i)return i.value;
    var o = i.get;
    if (void 0 !== o)return o.call(n)
};
!function (e, t, n) {
    var i = n.EqxElement, r = n.tpl.random, o = n.ENUM.EQX_EVENT, s = n.util.noop, a = n.util.random, c = function (e) {
        function i(e) {
            _classCallCheck(this, i);
            var t = _possibleConstructorReturn(this, Object.getPrototypeOf(i).call(this, e));
            return t.randomIndex = -1, t.busy = !1, t
        }

        return _inherits(i, e), _createClass(i, [{
            key: "addTriggerPreHandler", value: function (e) {
                return e == o.random ? s : _get(Object.getPrototypeOf(i.prototype), "addTriggerPreHandler", this).call(this, e)
            }
        }, {
            key: "addTriggerHandler", value: function (e) {
                return e == o.random ? function (e, r) {
                    return !e instanceof i ? (n.DEBUG && console.error("Expect EqxRandom, Invalid element type: " + e), s) : void(e.busy || (e.busy = !0, setTimeout(function (n) {
                        var i = t(e.context).find("img");
                        i.css("display", "none");
                        var r = e.randomIndex;
                        if (1 != e.randomMax) {
                            do r = a(e.randomMax); while (r == e.randomIndex)
                        } else r = 0;
                        t(i[r]).css("display", "block"), e.randomIndex = r, e.busy = !1
                    }, r.delay)))
                } : _get(Object.getPrototypeOf(i.prototype), "addTriggerHandler", this).call(this, e)
            }
        }]), i
    }(i);
    n.EqxRandom = c;
    var l = c.prototype;
    l.createContext = function (e) {
        var n = e.id, i = e.type, o = e.properties.pics;
        return this.randomMax = o.length, t(r.compDiv({id: n, type: i, pics: o}))[0]
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.shape = {}, r = "http://www.w3.org/2000/svg";
    i.g = function (e) {
        var t = e.color, n = e.id, i = e.path;
        return '<g fill="' + t + '" id="path_' + n + '">' + i + "</g>"
    }, i.svg = function (e) {
        var t = e.id, n = e.viewBox, i = e.content, o = void 0 === i ? "" : i;
        return '\n<svg id="' + t + '" class="element svg-element" xmlns="' + r + '" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="' + n + '">\n    ' + o + "\n</svg>"
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        for (var t = []; e.length >= 2;)t.push(e.shift() + "," + e.shift());
        return t.join(" ")
    }

    function r(e, t) {
        var n = document.createElementNS(m, "rect");
        return n.setAttribute("width", e), n.setAttribute("height", t), n
    }

    function o(e, t) {
        var n = document.createElementNS(m, "ellipse");
        return n.setAttribute("rx", e / 2), n.setAttribute("ry", t / 2), n.setAttribute("cx", e / 2), n.setAttribute("cy", t / 2), n
    }

    function s(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([e / 2, 0, e, t, 0, t])), n
    }

    function a(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([0, 0, e, 0, e / 2, t])), n
    }

    function c(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([0, t / 2, e, 0, e, t])), n
    }

    function l(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([e, t / 2, 0, t, 0, 0])), n
    }

    function u(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([.5 * e, 0, e, .5 * t, .7 * e, .5 * t, .7 * e, t, .3 * e, t, .3 * e, .5 * t, 0, .5 * t, .5 * e, 0])), n
    }

    function p(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([.5 * e, t, e, .5 * t, .7 * e, .5 * t, .7 * e, 0, .3 * e, 0, .3 * e, .5 * t, 0, .5 * t, .5 * e, t])), n
    }

    function h(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([e, .3 * t, .5 * e, .3 * t, .5 * e, 0, 0, .5 * t, .5 * e, t, .5 * e, .7 * t, e, .7 * t, e, .3 * t])), n
    }

    function d(e, t) {
        var n = document.createElementNS(m, "polygon");
        return n.setAttribute("points", i([0, .3 * t, .5 * e, .3 * t, .5 * e, 0, e, .5 * t, .5 * e, t, .5 * e, .7 * t, 0, .7 * t])), n
    }

    function f(e, t, n) {
        var r = document.createElementNS(m, "polygon"), o = [];
        if (3 === n) o = [e / 2, 0, e, t, 0, t]; else if (n > 3)for (var s = e / 2, a = t / 2, c = 0; n > c; c++) {
            var l = s + s * Math.cos(2 * Math.PI * c / n), u = a + a * Math.sin(2 * Math.PI * c / n);
            l = Math.round(10 * l) / 10, u = Math.round(10 * u) / 10, o.push(l), o.push(u)
        }
        return r.setAttribute("points", i(o)), r
    }

    function v(e, t) {
        return f(e, t, 4)
    }

    function g(e, t) {
        return f(e, t, 8)
    }

    n.tpl.path = {
        rect: r,
        ellipse: o,
        circle: o,
        triangleUp: s,
        triangleDown: a,
        triangleLeft: c,
        triangleRight: l,
        arrowUp: u,
        arrowDown: p,
        arrowLeft: h,
        arrowRight: d,
        diamond: v,
        octagon: g
    };
    var m = "http://www.w3.org/2000/svg"
}(window, jQuery, EQX);
var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
    return typeof e
} : function (e) {
    return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e
};
!function (e, t, n) {
    function i(e) {
        var t = l[e];
        return t ? Promise.resolve(t) : (t = r.getSymbol(e).then(function (t) {
            return /^<path.*>$/.test(t) ? l[e] = t : Promise.reject(e + " does not match <path />")
        }), l[e] = t, t)
    }

    var r = n.API, o = n.tpl.path, s = n.tpl.shape, a = n.action, c = "http://www.w3.org/2000/svg", l = {},
        u = n.EqxElement, p = function (e) {
            function t(e) {
                return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
            }

            return _inherits(t, e), t
        }(u);
    n.EqxShape = p, p.prototype.createContext = function (e) {
        this.contentsDiv.style.position = "relative";
        var n = e.id, a = e.properties, l = a.viewBox, u = void 0 === l ? "0 0 64 64" : l, p = a.type,
            h = void 0 === p ? "" : p, d = a.src, f = a.items, v = e.css.color, g = void 0 === v ? "#555" : v;
        if (d) {
            var m = function () {
                var i = document.createElementNS(c, "svg");
                return i.setAttribute("class", "element svg-element"), r.getSvg(d).then(function (r) {
                    var o = r.getElementsByTagName("svg"), s = parseFloat(t(o).attr("width")),
                        a = parseFloat(t(o).attr("height")), c = t(o).find("[fill], [style*='fill']") || [];
                    if (f)if (c.length == f.length)for (var l = 0; l < f.length; l++)c.eq(l).css({fill: f[l].fill}); else t.each(c, function (e, t) {
                        for (var n = 0; n < f.length; n++)for (var i = f[n].elements,
                                                                   r = 0; r < i.length; r++)e == i[r] && ("" != f[n].fill ? c.eq(e).css({fill: f[n].fill}) : c.eq(e).css({fill: "none"}))
                    }); else {
                        var u = [], p = {};
                        t.each(c, function (e, n) {
                            var i = t(n).attr("style");
                            if (i) {
                                for (var r = i.split(";") || [], o = 0,
                                         s = r.length; s > o; o++)if (r[o].includes("fill:")) {
                                    u.push(r[o].split(":")[1]);
                                    break
                                }
                            } else u.push(t(n).attr("fill"))
                        });
                        for (var h = 0; h < u.length; h++)p[u[h]] || (p[u[h]] = 1, "none" != u[h] ? f.push({
                            fill: u[h],
                            svgFill: u[h]
                        }) : f.push({fill: "", svgFill: "none"}));
                        for (var d = 0; d < f.length; d++) {
                            var v = [];
                            t.each(c, function (e, n) {
                                var i, r = t(n).attr("style");
                                if (r) {
                                    for (var o = r.split(";"), s = 0,
                                             a = o.length; a > s; s++)if (o[s].includes("fill:")) {
                                        i = o[s].split(":")[1];
                                        break
                                    }
                                } else i = t(n).attr("fill");
                                i == f[d].svgFill && v.push(e)
                            }), f[d].elements = v
                        }
                        e.properties.items = f
                    }
                    var g = "0 0 " + s + " " + a, m = i.parentNode;
                    m.removeChild(i), i = o[0], m.appendChild(i), i.setAttribute("viewBox", g), i.setAttribute("preserveAspectRatio", "none"), i.setAttribute("width", "100%"), i.setAttribute("height", "100%"), i.id = n, i.setAttribute("class", "element svg-element")
                })["catch"](function () {
                    var e;
                    return (e = console).error.apply(e, arguments)
                }), {v: i}
            }();
            if ("object" === ("undefined" == typeof m ? "undefined" : _typeof(m)))return m.v
        }
        var y = u.split(" "), b = y[2] || 64, w = y[3] || 64;
        if (h.includes("symbols")) {
            var x = function () {
                var e = t(s.svg({id: n, viewBox: u}))[0];
                return i(h.replace(/^symbols\-/, "")).then(function (t) {
                    return e.innerHTML = s.g({id: n, color: g, path: t})
                })["catch"](function () {
                    var e;
                    return (e = console).error.apply(e, arguments)
                }), {v: e}
            }();
            if ("object" === ("undefined" == typeof x ? "undefined" : _typeof(x)))return x.v
        }
        var E = h.replace(/-([a-z])/g, function (e, t) {
            return t.toUpperCase()
        });
        if (o[E]) {
            var P = t(o[E](b, w)).attr("fill", g);
            return t(s.svg({id: n, viewBox: u, content: P[0].outerHTML}))[0]
        }
        console.error("shape#" + n + " does not match any!")
    }, p.prototype.bindAfterRenderEvent = function (e, n) {
        var i = n.properties.url, r = n.pageId;
        return i && t(e).click(function () {
            return a.link(i, r)
        }), !!i
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.sound = {};
    i.$compDiv = function (e) {
        var n = e.id, i = e.type, r = e.imgSrc, o = e.title, s = e.css;
        if (r)var a = '<img style="width: 100%; height: 100%;" src="' + r + '"></a>';
        o && (a = o.replace(/ /g, "&nbsp;"));
        var c = '\n<div class="element-box-contents" style="width: 100%; height: 100%;">\n    <a id="' + n + '" ctype="' + i + '"\n       class="element comp_anchor editable-text"\n       style="cursor: default; " data-event="1120604">\n       ' + a + "\n</div>\n",
            l = t(c);
        return l.find("a").css(s), l
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, t, n) {
        this.soundObj = e, this.audio = "", this.li = t, this.type = 1, this.manager = n, this.init(), this.addEventListeners(), this.register()
    }

    var r = n.util.resolveUrl, o = n.HOST;
    n.EqxEleSound = i, i.prototype.register = function () {
        this.manager.add(this)
    }, i.prototype.init = function () {
        this.audio = new e.Audio, this.audio.src = r(o.FILE, this.soundObj.src)
    }, i.prototype.addEventListeners = function () {
        var e = n.util.mobilecheck() ? "touchend" : "click";
        this.li.addEventListener(e, function () {
            this.audio.paused ? this.startPlay() : this.stopPlay()
        }.bind(this)), this.audio.addEventListener("ended", function () {
            this.manager.onEnd(this)
        }.bind(this))
    }, i.prototype.startPlay = function () {
        this.audio.paused && (this.audio.play(), this.manager.onPlay(this))
    }, i.prototype.stopPlay = function () {
        this.audio.paused || (this.audio.pause(), this.manager.onEnd(this))
    }, i.prototype.reset = function () {
        this.audio.currentTime = 0
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.sound, r = n.util.qiniuZoom, o = n.EqxElement, s = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), t
    }(o);
    n.EqxSound = s, s.prototype.createContext = function (e) {
        var t = e.id, n = e.type, o = e.properties, s = o.imgSrc, a = o.title, c = e.css, l = c.height, u = c.width;
        return s && (s = r(e, s)), i.$compDiv({id: t, type: n, imgSrc: s, title: a, css: {height: l, width: u}})[0]
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return e.imgSrc ? o(e) : r(e)
    }

    function r(e) {
        var t = e.id, n = e.number, i = e.title, r = e.type;
        return i = i.replace(/ /g, "&nbsp;"), '<a id="' + t + '" ctype="' + r + '"\n           class="element comp_anchor editable-text"\n           href="tel:' + n + '"\n           style="cursor: default; width: 100%;" data-event="1120602">' + i + "</a>"
    }

    function o(e) {
        var t = e.id, n = e.number, i = e.imgSrc, r = e.type;
        return '<a id="' + t + '" ctype="' + r + '" class="element comp_anchor editable-text" href="tel:' + n + '"\n        style="cursor: default; width: 100%;">\n        <img style="width: 100%; height: 100%;" src="' + i + '"></a>'
    }

    n.tpl.telephone = {compDiv: i}
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.tpl.telephone, o = n.util.isPhoneNumber, s = n.util.qiniuZoom, a = n.API.viewXBData,
        c = n.API.bigDataXBData, l = n.EqxElement, u = function (e) {
            function t(e, n) {
                _classCallCheck(this, t);
                var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return i.pageOptions = n.pageOptions, i
            }

            return _inherits(t, e), t
        }(l);
    n.EqxTelephone = u, u.prototype.createContext = function (e) {
        var n = e.id, i = e.properties, o = i.number, a = i.title, c = i.imgSrc, l = e.css, u = l.width, p = l.height,
            h = e.type;
        return c && (c = s(this.elementOptions, c)), t(r.compDiv({
            id: n,
            number: o,
            title: a,
            type: h,
            imgSrc: c
        })).css({width: u, height: p})[0]
    }, u.prototype.bindAfterRenderEvent = function (e, n) {
        var r = this, s = n.id, l = n.sceneId, u = n.properties.number, p = o(u), h = this.pageOptions.properties.xb;
        return p && t(e).find("#" + s).click(function () {
            if (c(scene.id, 4, null, 11, "互动电话"), h && 2 == h.promotionType && a(h.orderId, h.taskId, h.sceneId), h) {
                var e = {task: h.taskId, order: h.orderId, promotionType: h.promotionType};
                c(r.pageOptions.sceneId, "4", e)
            }
            i.addDialRecord({id: l, num: u})
        }), p
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl, r = i.text = {}, o = n.util;
    r.$compDiv = function (e) {
        var i = e.id, r = e.type, s = e.css, a = e.content, c = void 0 === a ? "" : a;
        s.cursor = "default", c && c.length > 0 && o.isBadStr(c) && (c = o.toGoodStr(c));
        var l = '\n<div id="' + i + '" ctype="' + r + '" \nclass="element comp_paragraph editable-text" style="cursor: default;">\n' + c + "\n</div>";
        return s.fontSize && (s.fontSize = n.util.addSuffixPx(s.fontSize)), t(l).css(s)
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.report = {};
    i.reportPanel = function (e) {
        var t = e.imgSrc, n = e.reasonList, r = n.map(function (e, t) {
            return i.reason({reason: e, active: 0 == t})
        }).join("");
        return '\n<div id="report0">\n    <div id="report1">\n        <div id="report2">\n            <p><img src="' + t + '" width="50px;"></p>\n            <h1>请选择举报原因</h1>\n        </div>\n        <div id="report3">\n            <ul id="reportList">\n                ' + r + '\n            </ul>\n        </div>\n        <div id="report4">\n            <a id="reportSubmit" data-event="11203">提交举报</a>\n        </div>\n    </div>\n</div>'
    }, i.reason = function (e) {
        var t = e.reason, n = e.active, i = t.id, r = t.name, o = (t.value, n ? 'class="active"' : "");
        return '<li value="' + i + '" ' + o + "><span>" + r + "</span></li>"
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, t, n, i, r) {
        return "url('" + o.FONT + "fonts/" + e + "_" + t + "/" + n + "." + i + "') format('" + r + "')"
    }

    function r(e) {
        var t = e.fontFamily, n = e.sceneId, r = e.publishTime;
        if (t && !u[t]) {
            var o = [i(n, r, t, "woff", "woff"), i(n, r, t, "ttf", "truetype")].join(", "),
                a = "@font-face{font-family: '" + t + "'; src: " + o + ";}";
            s(a), u[t] = !0
        }
    }

    var o = n.HOST, s = n.util.addGlobalStyle, a = n.tpl.text, c = n.action, l = n.EqxElement,
        u = {defaultFont: !0, moren: !0, "null": !0, undefined: !0}, p = function (e) {
            function t(e) {
                return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
            }

            return _inherits(t, e), t
        }(l);
    n.EqxText = p, p.prototype.createContext = function (e) {
        var n = e.id, i = e.type, o = e.content, s = e.sceneId, c = e.publishTime, l = e.css, u = l.fontSize,
            p = l.width, h = l.height, d = l.writingMode, f = e.properties.anim, v = void 0 === f ? [] : f,
            g = {fontSize: u, width: p, height: h, textRendering: "optimizeLegibility"};
        d && (g.writingMode = d, g["-webkit-writing-mode"] = d);
        var m = a.$compDiv({id: n, type: i, content: o, css: g});
        return m.find("*").toArray().map(function (e) {
            return t(e).css("font-family")
        }).forEach(function (e) {
            return r({fontFamily: e, sceneId: s, publishTime: c})
        }), v[0] && "typer" == v[0].type && m.css({opacity: 0}), m[0]
    }, p.prototype.bindAfterRenderEvent = function (e, n) {
        var i = n.pageId;
        return "x" == n.type && n.properties.url ? t(e).click(function () {
            var e = n.properties.url;
            c.link(e, i)
        }) : [].concat(_toConsumableArray(t(e).find("a[href]"))).forEach(function (e) {
            var n = t(e).attr("href");
            t(e).removeAttr("href").css("cursor", "pointer").on("touchstart mousedown", function () {
                return c.link(n, i)
            })
        }), !0
    }, p.prototype.addClassToLi = function (e) {
        e.classList.add("wsite-text")
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = (n.HOST, n.util.addGlobalStyle, n.tpl.text), r = n.API, o = n.EqxText, s = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), t
    }(o);
    n.EqxDeepShare = s, s.prototype.createContext = function (t) {
        var n = t.id, o = t.type, s = t.content, a = t.sceneId, c = t.css, l = c.fontSize, u = c.width, p = c.height,
            h = i.$compDiv({id: n, type: o, content: s, css: {fontSize: l, width: u, height: p}}), d = e.scene,
            f = d.isTemplate, v = d.sourceId, g = {sceneId: a};
        return f && (g.isTemplate = f), v && (g.sourceId = v), r.loadMLink().then(function () {
            var e = {
                mlink: "AK00",
                button: document.querySelector("a.deepShareHref"),
                autoLaunchApp: !1,
                autoRedirectToDownloadUrl: !0,
                downloadWhenUniversalLinkFailed: !1,
                inapp: !1,
                params: g
            };
            console.log("mlink", e), new Mlink(e)
        }), h[0]
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.API, r = n.util.resolveUrl, o = n.HOST, s = n.tpl.report, a = n.EqxText, c = n.API.bigDataXBData, l = [],
        u = [{id: 14258, name: "内容涉及违规", value: 1}, {id: 14259, name: "诱导浏览者分享", value: 2}, {
            id: 14260,
            name: "场景内容侵权",
            value: 3
        }, {id: 14302, name: "内容夸大宣传", value: 4}, {id: 14303, name: "违背易企秀用户协议", value: 5}, {
            id: 14304,
            name: "其它原因",
            value: 6
        }], p = function (e) {
            function t(e) {
                _classCallCheck(this, t);
                var n = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e));
                return n.$report = null, n
            }

            return _inherits(t, e), t
        }(a);
    n.EqxReport2 = p;
    var h = p.prototype;
    h.bindAfterRenderEvent = function (e, n) {
        var i = this;
        t(e).on("click", function (e) {
            e.stopPropagation(), c(scene.id, 4, null, 6, "举报"), i.openReportModal()
        })
    }, h.openReportModal = function () {
        var e = this;
        if (this.$report)return this.$report.show();
        var n = this.elementOptions.sceneId;
        this.getSelectOption().then(function (a) {
            var c = t(s.reportPanel({imgSrc: r(o.PROJECT_HOST, "images/report/jubao_03.png"), reasonList: a}));
            e.$report = c;
            var l = t(e.li).parent();
            c.appendTo(l), c.find("li").click(function (e) {
                e.stopPropagation(), t(this).siblings().removeClass("active"), t(this).addClass("active")
            }), t("#reportSubmit").click(function (t) {
                t.stopPropagation();
                var r = c.find("li.active").val();
                i.postReport({sceneId: n, type: r}).then(function () {
                    return alert("举报成功！")
                })["finally"](function () {
                    return e.hide()
                })
            }), l.on("click", function (t) {
                var n = c.find(t.target).length > 0;
                n || e.hide()
            })
        })
    }, h.getSelectOption = function () {
        return new Promise(function (e, t) {
            return l.length ? e(l) : i.getReportOptions().then(function (n) {
                l = n.list, l.length ? e(l) : t()
            })["catch"](function () {
                return l = u, e(l)
            })
        })
    }, h.eleHide = function () {
        a.prototype.eleHide.call(this), this.hide()
    }, h.hide = function () {
        this.$report && this.$report.hide()
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.EqxElement, r = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), _createClass(t, [{
            key: "createContext", value: function (e) {
                var t = document.createElement("div");
                return t.id = e.id, t.setAttribute("ctype", e.type), t.setAttribute("class", "element editable-text comp_paragraph"), t
            }
        }]), t
    }(i);
    n.EqxCountTime = r
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.EqxCountTime, r = n.API, o = r.formatTime, s = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), _createClass(t, [{
            key: "bindAfterRenderEvent", value: function (e, n) {
                var i = this, s = (new Date).getTime(), a = n.properties, c = a.endTime, l = a.arriveTips,
                    u = a.arriveTipsContent;
                r.getServiceTime().then(function (e) {
                    return s = e.obj
                }, function () {
                    return s = (new Date).getTime()
                }).then(function (n) {
                    var r = setInterval(function () {
                        n += 1e3, e || clearInterval(r), n >= c ? (l ? i.context.textContent = u || t.defaultArriveTipsContent : i.context.textContent = o(n, n), clearInterval(r)) : i.context.textContent = o(c, n)
                    }, 1e3)
                })
            }
        }]), t
    }(i);
    s.defaultArriveTipsContent = "开始啦!", n.EqxDownTime = s
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.EqxCountTime, r = n.API, o = r.formatTime, s = function (e) {
        function t(e) {
            return _classCallCheck(this, t), _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, e))
        }

        return _inherits(t, e), _createClass(t, [{
            key: "bindAfterRenderEvent", value: function (e, n) {
                var i = this, s = (new Date).getTime(), a = n.properties, c = a.startTime, l = a.arriveTips,
                    u = a.arriveTipsContent;
                r.getServiceTime().then(function (e) {
                    return s = e.obj
                }, function () {
                    return s = (new Date).getTime()
                }).then(function (n) {
                    var r = setInterval(function () {
                        n += 1e3, e || clearInterval(r), c >= n ? l ? i.context.textContent = u || t.defaultArriveTipsContent : i.context.textContent = o(n, n) : i.context.textContent = o(n, c)
                    }, 1e3)
                })
            }
        }]), t
    }(i);
    s.defaultArriveTipsContent = "还没开始!", n.EqxUpTime = s
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.id, n = e.type;
        return '<a class="element video_area" id="' + t + '" ctype="' + n + '"></a>'
    }

    function r(e) {
        return '\n<div class="video_mask page_effect lock" id="mask_' + e + '">\n</div>'
    }

    function o(e) {
        return '<a class="close_mask eqf-wrong" id="close_' + e + '"></a>'
    }

    function s(e) {
        var t = e.id, n = e.type, i = e.cover, r = e.playImgSrc;
        return '<div class="inline-video" id="' + t + '" ctype="' + n + '">\n    <img class="cover" src="' + i + '"\n         alt="video-cover">\n    <img class="center play" src="' + r + '" alt="video-play-button">\n</div>'
    }

    n.tpl.video = {popVideoHtml: i, videoDiv: r, close: o, inlineVideoHtml: s}
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function c(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var r = Object.getPrototypeOf(e);
        return null === r ? void 0 : c(r, t, n)
    }
    if ("value" in i)return i.value;
    var o = i.get;
    if (void 0 !== o)return o.call(n)
};
!function (e, t, n) {
    var i = n.tpl.video;
    n.EqxVideo = p;
    var r = n.API.bigDataXBData, o = n.util.qiniuZoom, s = n.util.resolveUrl, a = n.HOST, c = n.util.mobilecheck,
        l = {POP: 0, INLINE: 1}, u = n.EqxElement, p = function (u) {
            function p(e) {
                _classCallCheck(this, p);
                var t = _possibleConstructorReturn(this, Object.getPrototypeOf(p).call(this, e));
                return t.bgm = n.bgm.get(), t.$close = null, t.$video = null, t
            }

            return _inherits(p, u), _createClass(p, [{
                key: "eleHide", value: function () {
                    _get(Object.getPrototypeOf(p.prototype), "eleHide", this).call(this), this.hide()
                }
            }, {
                key: "createContext", value: function () {
                    var e = this.elementOptions, n = e.id, r = e.type, c = e.properties.cover, l = e.css, u = l.height,
                        p = l.width;
                    if (c) {
                        c = o({css: {width: p, height: u}}, c);
                        var h = s(a.PROJECT_HOST, "images/play.svg"),
                            d = t(i.inlineVideoHtml({id: n, type: r, cover: c, playImgSrc: h}))
                    } else d = t(i.popVideoHtml({id: n, type: r}));
                    return d.css({height: u, width: p}), d[0]
                }
            }, {
                key: "bindAfterRenderEvent", value: function (i, o) {
                    var s = this, a = o.properties, c = a.src, u = a.style, p = t(i);
                    return p.click(function () {
                        r(scene.id, 4, null, 2, "视频播放");
                        var t = (/src=["']([^\s]*)["']/.exec(c) || [])[1], i = /https?:\/\/v\.qq\.com/,
                            o = /https?:\/\/player\.youku\.com/, a = !1;
                        if (/^https/.test(location.href) && (a = !0, t && (i.test(t) ? (c = c.replace(i, "https://v.qq.com"), a = !1) : o.test(t) ? (c = c.replace(o, "https://player.youku.com"), a = !1) : a = !0)), a)return void e.open(t, "_blank");
                        switch (s._isPlayingVideo = !0, s.bgm.hide(), n.soundManager.stopAll(), u) {
                            case l.INLINE:
                                s.initInlineVideo(c);
                                break;
                            case l.POP:
                            default:
                                s.initPopVideo(c)
                        }
                    }), !0
                }
            }, {
                key: "initInlineVideo", value: function (e) {
                    var n = this.elementOptions.css;
                    e = e.replace(/('|")?allowfullscreen\1(=('|")?\3)?/, "");
                    var i = this.$iframe = t(e).css({
                        width: n.width,
                        height: n.height,
                        zIndex: 3,
                        position: "fixed",
                        top: 0
                    });
                    t(this.context).find("img").css("display", "none"), t(this.li).find(".inline-video").append(i)
                }
            }, {
                key: "initPopVideo", value: function (e) {
                    var n = this, r = this.elementOptions.id, o = t(this.li);
                    o.hide();
                    var s = o.parent().css("transform").match(/-?[\d\.]+/g), a = 0;
                    s && (a = -parseInt(s[5]));
                    var l = this.$video = t(i.videoDiv(r));
                    c() || l.css("position", "absolute");
                    var u = this.$close = t(i.close(r)), p = t(e).css({
                        position: "absolute",
                        top: "20%",
                        width: "100%",
                        minHeight: "45%",
                        maxHeight: "100%"
                    }).removeAttr("height");
                    l.append(p), o.parent().append(l, u), l.css({top: a}), u.css({top: a + 15}), u.bind("click", function () {
                        n.hide()
                    })
                }
            }, {
                key: "hide", value: function () {
                    if (this._isPlayingVideo) {
                        this._isPlayingVideo = !1, this.bgm.show(), n.soundManager.restoreAll();
                        var e = this.elementOptions.properties.style;
                        switch (e) {
                            case l.INLINE:
                                t(this.context).find("img").css("display", "block"), this.$iframe && (this.$iframe.remove(), this.$iframe = null);
                                break;
                            case l.POP:
                                this.closeMode();
                                break;
                            default:
                                this.closeMode()
                        }
                    }
                }
            }, {
                key: "closeMode", value: function () {
                    this.$close && (this.$close.unbind("click"), t(this.li).show(), this.$video.remove(), this.$close.remove(), this.$video = null, this.$close = null)
                }
            }, {
                key: "addClassToLi", value: function (e) {
                    e.classList.add("wsite-video")
                }
            }]), p
        }(u);
    n.EqxVideo = p
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl, r = i.vote = {};
    r.textVoteTpl = function (e) {
        var t = e.id, n = e.type, i = e.title, r = e.selectType;
        return '<div  id="' + t + '" ctype="' + n + '" class="vote-view">\n        <div class="vote-view-title">' + i + "（" + r + "）</div>\n    </div>"
    }, r.alertTpl = function () {
        return '<div class="vote-alert">\n              <span>投票成功，谢谢参与！</span>\n            </div>'
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}(), _get = function l(e, t, n) {
    null === e && (e = Function.prototype);
    var i = Object.getOwnPropertyDescriptor(e, t);
    if (void 0 === i) {
        var r = Object.getPrototypeOf(e);
        return null === r ? void 0 : l(r, t, n)
    }
    if ("value" in i)return i.value;
    var o = i.get;
    if (void 0 !== o)return o.call(n)
};
!function (e, t, n) {
    var i = n.util.isWeixin, r = n.API, o = n.tpl.vote, s = n.EqxElement, a = function (n) {
        function s(e, t) {
            _classCallCheck(this, s);
            var n = _possibleConstructorReturn(this, Object.getPrototypeOf(s).call(this, e, t));
            return n.intervalObj = {}, n.descIds = [], n
        }

        return _inherits(s, n), _createClass(s, [{
            key: "createContext", value: function () {
                var e = this;
                this.descArr = [];
                var n = this.elementOptions, i = n.id, r = n.type, s = n.css.width, a = n.properties;
                a = void 0 === a ? {} : a;
                var c = a.title, l = a.selectType, u = a.children, p = void 0 === u ? [] : u, h = a.bgColor;
                l = "single" == l ? "单选" : "多选";
                var d = t('<div id="' + i + '" ctype="' + r + '" class="vote-img"></div>').css("background-color", h);
                if (p.length) {
                    var f = [];
                    p.forEach(function (n) {
                        var i = n.src, r = n.desc, o = n.id;
                        f.push(t('<div style="background-image:url(' + HOST.FILE + i + '); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>')), e.descArr.push(t('<li id="' + o + '">' + r + "</li>"))
                    }), d.append('<div class="vote-img-prev-title"><h1>' + c + '</h1><span class="vote-img-sing-double">(' + l + ")</span></div>"), this.$slider = t('<div class="slides" style="width: ' + s + 'px"></div>');
                    var v = t('<ul class="vote-img-desc"></ul>');
                    v.append(this.descArr), this.$slider.append(f), this.initSlider(v), d.append(this.$slider), this.$submit = t('<a class="btn-main">提交</a>'), d.append(this.$submit);
                    var g = o.alertTpl();
                    this.$tpl = t(g).appendTo(d)
                }
                return d[0]
            }
        }, {
            key: "initSlider", value: function (e) {
                var n = this;
                this.$em = t('<span class="eqf-glyphicon-ok"></span>'), r.loadSliders().then(function () {
                    n.$slider.slidesjs({
                        width: 300, height: 329, navigation: {active: !1}, callback: {
                            loaded: function () {
                                e.children().css({display: "none"}), n.descArr[0].css({display: "inline-block"}), n.$slider.append(e), n.$slider.find(".slidesjs-container").append(n.$em)
                            }, start: function (t) {
                                t = t === n.descArr.length ? 0 : t, e.children().css({display: "none"}), n.descArr[t].css({display: "inline-block"});
                                var i = n.descArr[t].attr("id");
                                -1 == n.descIds.indexOf(i) ? n.$em.removeClass("active") : n.$em.addClass("active")
                            }, complete: function (e) {
                            }
                        }
                    }), n.plugin = n.$slider.data("plugin_slidesjs")
                })
            }
        }, {
            key: "bindAfterRenderEvent", value: function (e, t) {
                var n = this;
                return i() ? this.isVoted().then(function () {
                    n.$em.on("click", function (e) {
                        var i = n.descArr[n.plugin.data.current].attr("id");
                        -1 == n.descIds.indexOf(i) ? "single" == t.properties.selectType && 1 == n.descIds.length ? (n.descIds[0] = i, n.$em.addClass("active")) : "multi" == t.properties.selectType && n.descIds.length == t.properties.selectCount ? n.alertTpl("最多选择" + t.properties.selectCount + "项") : (n.descIds.push(i), n.$em.addClass("active")) : (n.descIds.splice(n.descIds.indexOf(i), 1), n.$em.removeClass("active"))
                    }), n.$submit.on("click", function (e) {
                        var i = t.sceneId, o = t.pageId;
                        n.descIds.length ? r.postVote(i, t.id, {
                            pageId: o,
                            data: JSON.stringify(n.descIds)
                        }).then(function (e) {
                            e.success && n.alertTpl("投票成功，谢谢参与！").then(function () {
                                n.showVoted(e.map), n.$em.off(), n.$submit.off()
                            })
                        }) : n.alertTpl("请至少选择一项")
                    })
                }) : this.$submit.css({backgroundColor: "#f0f3f4", color: "#a3afb7"}).text("请在微信中投票"), !1
            }
        }, {
            key: "showVoted", value: function (e) {
                var n = this;
                this.descIds = [], this.$em.remove(), this.plugin.stop(), this.$slider.remove();
                var i = {}, r = [], o = 0;
                this.elementOptions.properties.children.forEach(function (t) {
                    var s = t.id, a = t.desc;
                    i[s] = a, r.push({id: s, count: e[s] || 0}), o += e[s] || 0, e[s] && n.descIds.push(s)
                });
                var s = t('<ul class="vote-img-ul"></ul>');
                r.forEach(function (e) {
                    s.append(t("<li id = '" + e.id + '\' class="vote-img-li"><em style="float: right">' + e.count + " (" + (e.count / o * 100).toFixed(2) + " %)</em> " + i[e.id] + "</li>"))
                }), s.insertBefore(this.$submit), this.$submit.css({
                    backgroundColor: "#f0f3f4",
                    color: "#a3afb7"
                }).text("你已投票")
            }
        }, {
            key: "alertTpl", value: function (t) {
                var n = this;
                return new Promise(function (i, r) {
                    n.$tpl.find("span").text(t), n.$tpl.css({opacity: 1, zIndex: 1001}), e.setTimeout(function () {
                        n.$tpl.css({opacity: 0, zIndex: -2}), i()
                    }, 2e3)
                })
            }
        }, {
            key: "isVoted", value: function () {
                var e = this;
                return new Promise(function (t, n) {
                    if (e.elementOptions.properties.endTime && new Date(e.elementOptions.properties.endTime) < new Date && e.$submit.css({
                            backgroundColor: "#f0f3f4",
                            color: "#a3afb7"
                        }).text("投票已过期"), i()) {
                        var o = e.elementOptions, s = o.sceneId, a = o.pageId, c = o.id;
                        r.isVoted(c, {sceneId: s, pageId: a}).then(function (i) {
                            i.obj ? (e.showVoted(i.map), n()) : t()
                        })
                    } else n()
                })
            }
        }, {
            key: "startPlay", value: function () {
                var e = this;
                this.playInterval = setInterval(function () {
                    e.plugin && e.plugin.next()
                }, 5e3)
            }
        }, {
            key: "stopPlay", value: function () {
                this.playInterval && (clearInterval(this.playInterval), this.playInterval = null)
            }
        }, {
            key: "eleHide", value: function () {
                _get(Object.getPrototypeOf(s.prototype), "eleHide", this).call(this), this.stopPlay()
            }
        }, {
            key: "eleShow", value: function () {
                _get(Object.getPrototypeOf(s.prototype), "eleShow", this).call(this), this.startPlay()
            }
        }]), s
    }(s);
    n.EqxImgVote = a
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.util.isWeixin, r = n.API, o = n.tpl.vote, s = n.EqxElement, a = function (n) {
        function s(e) {
            _classCallCheck(this, s);
            var t = _possibleConstructorReturn(this, Object.getPrototypeOf(s).call(this, e));
            return t.ids = [], t
        }

        return _inherits(s, n), _createClass(s, [{
            key: "createContext", value: function (e) {
                var n = e.id, i = e.type, r = e.properties, s = r.title, a = r.selectType, c = r.children,
                    l = void 0 === c ? [] : c;
                a = "single" == a ? "单选" : "多选";
                var u = o.textVoteTpl({id: n, type: i, title: s, selectType: a}), p = t(u);
                if (l.length) {
                    this.$options = t('<ul class="vote-view-options"></ul>');
                    var h = l.map(function (e) {
                        var n = e.id, i = e.label;
                        return t('<li class="vote-view-option" id="' + n + '"><span><em class="eqf-yes2" style="display: none"></em></span><div class="vote-view-text">' + i + "</div></li>")
                    });
                    this.$submit = t('<div class="vote-view-button">投票</div>'), this.$options.append(h), p.append(this.$options), p.append(this.$submit);
                    var d = o.alertTpl();
                    this.$tpl = t(d).appendTo(p)
                }
                return p[0]
            }
        }, {
            key: "bindAfterRenderEvent", value: function (e, n) {
                var o = this;
                i() ? this.isVoted().then(function () {
                    o.$options.children().on("click", function (e) {
                        var i = t(e.currentTarget).find(".eqf-yes2");
                        i.is(":hidden") ? "single" == n.properties.selectType && 1 == o.ids.length ? (o.$options.find(".eqf-yes2").hide(), o.ids[0] = e.currentTarget.id, i.show()) : "multi" == n.properties.selectType && o.ids.length == n.properties.selectCount ? o.alertTpl("最多选择" + n.properties.selectCount + "项") : (i.show(), o.ids.push(e.currentTarget.id)) : (i.hide(), o.ids.splice(o.ids.indexOf(e.currentTarget.id), 1))
                    }), o.$submit.on("click", function () {
                        var e = n.sceneId, t = n.pageId;
                        o.ids.length ? r.postVote(e, n.id, {pageId: t, data: JSON.stringify(o.ids)}).then(function (e) {
                            e.success && o.alertTpl("投票成功，谢谢参与！").then(function () {
                                o.showVoted(e.map), o.$submit.off(), o.$options.children().off()
                            })
                        }) : o.alertTpl("请至少选择一项")
                    })
                }) : this.$submit.css({backgroundColor: "#f0f3f4", color: "#a3afb7"}).text("请在微信中投票")
            }
        }, {
            key: "alertTpl", value: function (t) {
                var n = this;
                return new Promise(function (i, r) {
                    n.$tpl.find("span").text(t), n.$tpl.css({opacity: 1, zIndex: 2}), e.setTimeout(function () {
                        n.$tpl.css({opacity: 0, zIndex: -2}), i()
                    }, 2e3)
                })
            }
        }, {
            key: "showVoted", value: function (e) {
                var n = this;
                this.ids = [], this.$options.find(".eqf-yes2").hide();
                var i = [], r = 0;
                this.elementOptions.properties.children.forEach(function (t) {
                    var o = t.id;
                    i.push({id: o, count: e[o] || 0}), r += e[o] || 0, e[o] && n.ids.push(o)
                }), i.forEach(function (e) {
                    t('<em style="float:right">' + e.count + "  (" + (e.count / r * 100).toFixed(2) + " %)</em>").prependTo(n.$options.find("#" + e.id))
                }), this.li.style.height = "", this.$submit.css({
                    backgroundColor: "#f0f3f4",
                    color: "#a3afb7"
                }).text("你已投票")
            }
        }, {
            key: "isVoted", value: function () {
                var e = this;
                return new Promise(function (t, n) {
                    if (e.elementOptions.properties.endTime && new Date(e.elementOptions.properties.endTime) < new Date && e.$submit.css({
                            backgroundColor: "#f0f3f4",
                            color: "#a3afb7"
                        }).text("投票已过期"), i()) {
                        var o = e.elementOptions, s = o.sceneId, a = o.pageId, c = o.id;
                        r.isVoted(c, {sceneId: s, pageId: a}).then(function (i) {
                            i.obj ? (e.showVoted(i.map), n()) : t()
                        })
                    } else n()
                })
            }
        }]), s
    }(s);
    n.EqxTextVote = a
}(window, jQuery, EQX), function (e, t) {
    e.wapShare = function () {
        function n(n) {
            p = n, p.property && (p.property = JSON.stringify(p.property)), d = n.code;
            var i = e.location.href.split("?")[0];
            t("#sceneLink").text(i), t(".fillShare img").attr("src", EQX.HOST.SOURCE + EQX.HOST.H5_VIEW_PATH + "images/APP.svg"), t(".app img").attr("src", EQX.HOST.SOURCE + EQX.HOST.H5_VIEW_PATH + "images/APP.svg")
        }

        function i() {
            var e = t("#sceneName").val();
            if (null !== e || void 0 !== e) {
                p.name = e;
                var n = {name: p.name, id: p.id, status: 1, code: p.code, cover: p.cover};
                t.ajax({
                    type: "POST",
                    url: EQX.HOST.SERVER_0 + "m/scene/saveSettings",
                    contentType: "text/plain; charset=UTF-8",
                    data: JSON.stringify(n),
                    xhrFields: {withCredentials: !0},
                    success: function (e) {
                    }
                }), EQX.util.isWeixin() && EQX.weChatUtils.shareWidthSDK(p.name, p.description, location.href.split("?")[0], "", p.cover)
            } else alert("你还没有填写作品名称！")
        }

        function r() {
            e.location.href = EQX.HOST.EQX + "/site/mobile/fillHome.html?edit=true&id=" + h
        }

        function o() {
            e.location.href = EQX.HOST.EQX + "/site/mobile/fillHome.html?"
        }

        function s() {
            t("#wapShareSet").hide(), t("#shareFooter").show()
        }

        function a() {
            EQX.util.isWeixin() && (t("#wechatShare").css({display: "block"}), t("#backPreview").css({"float": "left"}))
        }

        function c() {
            var e = EQX.util.getUrlParam("id"), n = EQX.HOST.EQX + "/site/mobile/fillHome.html?edit=true&id=" + e;
            EQX.util.getUrlParam("preview") && t('<div id="shareFooter" style="background-color: rgba(51, 51, 51, 0.4);border-top: 2px solid rgba(8, 161, 239, 0.4);padding: 10px;position: fixed;bottom: 0;left: 0;right: 0;overflow: scroll;z-index: 10000;height:40px"><div  style="float: left;margin-top: 12px;margin-left: 12px;color:#FFFFFF"><laber ><a style="color:#FFFFFF" href="' + n + '">编辑</a></laber></div><div style="float: right;margin-right: 15px;margin-top:2px;"><button style="width: 80px;height: 32px;background-color: #44cb83;border: 0px;border-radius: 2px;color: #FFFFFF;"><a style="color:#FFFFFF" onclick="wapShare.wapTitleSet();">分享</a></button></div></div>').appendTo(".nr")
        }

        function l() {
            t.get(EQX.HOST.EQX + EQX.HOST.H5_VIEW_PATH + "wapShare.html", function (e) {
                t("#wapShareSet").show(), t("#wapShareSet").html(e), t("#shareFooter").hide(), wapShare.init(scene)
            })
        }

        function u(e) {
            n(e), h = e.id, t("#sceneName").focus(function () {
                t(this).val().length > 0 && t(this).select()
            }), t("#sceneName").blur(function () {
                t(this).val().length > 0 && i()
            }), a()
        }

        var p = {}, h = "", d = "";
        return {init: u, editScene: r, createAnotherScene: o, backToPreview: s, addPreviewFooter: c, wapTitleSet: l}
    }()
}(window, jQuery), function (e, t, n) {
    function i(e, t) {
        if (w = n.init.getWxJSSDK(), f = "", v = e.obj.name, g = C.FILE + e.obj.cover, I = e.obj.description || "", b = e.obj.property, m = e.obj.dsAppId || "", y = t, b.shareDes && "string" == typeof b.shareDes) {
            var i = b.shareDes;
            b.shareDes = {description: {type: "position", description: i}}
        }
        if (b.shareDes) {
            b.shareDes.avatar && (g = O.headimgurl);
            var o = e.obj.id;
            r(b.shareDes, o).then(function () {
                return c()
            })["catch"](function (e) {
                return console.error(e)
            })
        } else c()
    }

    function r(e, t) {
        var n = function () {
            return Promise.resolve(null)
        }, i = function () {
            return Promise.resolve(null)
        };
        return e.title && e.title.type && (n = function () {
            return s(e.title, t).then(function (e) {
                v = e
            })
        }), e.description && e.description.type && (i = function () {
            return s(e.description, t).then(function (e) {
                I = e
            })
        }), n().then(function () {
            return i()
        })
    }

    function o(e) {
        return new Promise(function (t, n) {
            x ? t(x) : _.getPvCount(e).then(function (e) {
                x = e, t(x)
            })
        })
    }

    function s(e, t) {
        var n = "";
        return new Promise(function (i, r) {
            switch (e.type) {
                case"myself":
                    n += "我是" + O.nickname + "," + e.description, i(n);
                    break;
                case"position":
                    o(t).then(function (t) {
                        n += "我是第" + t + "位" + e.description, i(n)
                    });
                    break;
                case"selfAndPosition":
                    o(t).then(function (t) {
                        n += "我是" + O.nickname + ", 我是第" + t + "位 " + e.description, i(n)
                    })
            }
        })
    }

    function a() {
        f = Date.now() + "" + Math.floor(1e5 * Math.random()), y = P("userKey", f, y), c()
    }

    function c() {
        w && w.then(function () {
            var e = E("toPage", y), t = m ? DS.linkChange(e) : e;
            wx.onMenuShareTimeline({
                title: v, link: t, imgUrl: g, success: function () {
                    m && DS.sendRepost("appMessage"), l()
                }, cancel: function () {
                }
            }), wx.onMenuShareAppMessage({
                title: v, desc: I, link: e, imgUrl: g, success: function () {
                    m && DS.sendRepost("appMessage"), l(), T(scene.id, 4, null, 7, "浏览完毕转发操作")
                }, cancel: function () {
                }
            }), wx.onMenuShareQQ({
                title: v, desc: I, link: e, imgUrl: g, success: function () {
                }, cancel: function () {
                }
            }), wx.onMenuShareWeibo({
                title: v, desc: I, link: e, imgUrl: g, success: function () {
                }, cancel: function () {
                }
            }), wx.onMenuShareQZone({
                title: v, desc: I, link: e, imgUrl: g, success: function () {
                }, cancel: function () {
                }
            })
        })
    }

    function l() {
        if (f) {
            var e = {userKey: f};
            O && O.headimgurl && (A.shareUserHeader = O.headimgurl), O && O.nickname && (A.shareUserName = O.nickname), e.data = JSON.stringify(A), _.postWxComp(e)["catch"](function (e) {
                return alert(JSON.stringify(e))
            })
        }
    }

    function u(e) {
        Object.assign(O, e)
    }

    function p() {
        return O
    }

    function h(e) {
        A = e
    }

    function d(e, t) {
        A[e] = t
    }

    var f, v, g, m, y, b, w, x, E = n.util.removeUrlParam, P = n.util.addUrlParam, _ = n.API, C = n.HOST,
        T = n.API.bigDataXBData, I = "", O = {}, A = {};
    return n.weChatUtils = {
        initWeChat: i,
        shareWidthSDK: c,
        setWeChatUser: u,
        getWeChatUser: p,
        setWxCompData: h,
        saveWxCompData: d,
        generateUserKey: a
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        o.call(this, e), this.wxJssdk = n.init.getWxJSSDK(), this.soundKey = e.id.substring(3), l[this.soundKey] = l[this.soundKey] || {}, l[this.soundKey].wxpId = e.id
    }

    function r(e) {
        o.call(this, e), this.wxJssdk = n.init.getWxJSSDK(), this.soundKey = e.id.substring(3), l[this.soundKey] = l[this.soundKey] || {}, l[this.soundKey].wxrId = e.id
    }

    var o = n.EqxElement, s = n.util.resolveUrl, a = n.HOST.PROJECT_HOST, c = n.util.isWeixin, l = {},
        u = n.API.bigDataXBData;
    n.EqxWXSound = i, n.EqxWXRecord = r, i.prototype = Object.create(o.prototype), i.prototype.constructor = i, i.prototype.createContext = function (e) {
        var n = document.createElement("a");
        return n.innerHTML = '<span style="font-size:16px;" class="eqf-nosy"></span>', n.id = e.id, n.setAttribute("class", "element comp_wechat_play"), n.setAttribute("ctype", e.type), t(n).css({
            width: e.css.width,
            height: e.css.height
        }), n
    }, i.prototype.bindAfterRenderEvent = function (e) {
        var n = this;
        return t(e).on("mousedown touchstart", function (e) {
            u(scene.id, 4, null, 23, "互动微信声音"), event.stopPropagation(), e.preventDefault(), c() ? n.soundPlay() : n.playDefaultSound()
        }), !0
    }, i.prototype.soundPlay = function () {
        var e = this;
        if (n.soundManager.onPlay({type: 4}), l[this.soundKey].soundId) {
            var t = l[this.soundKey].soundId;
            e.wxJssdk.then(function () {
                wx.playVoice({localId: t})
            })
        } else this.elementOptions.serverId ? e.wxJssdk.then(function () {
            var t = this;
            wx.downloadVoice({
                serverId: e.elementOptions.serverId, success: function (t) {
                    var n = t.localId;
                    wx.playVoice({localId: n}), l[e.soundKey].soundId = n
                }, error: function () {
                    t.playDefaultSound()
                }
            })
        }) : this.playDefaultSound();
        e.wxJssdk.then(function () {
            wx.onVoicePlayEnd({
                success: function () {
                    n.soundManager.onEnd({type: 4})
                }
            })
        })
    }, i.prototype.playDefaultSound = function () {
        this.defaultSound || (this.defaultSound = document.createElement("audio"), this.defaultSound.src = s(a, "audio/wxSound.mp3")), this.defaultSound.paused ? (this.defaultSound.play(), n.soundManager.onPlay({type: 4}), t(this.defaultSound).bind("ended", function () {
            n.soundManager.onEnd({type: 4})
        })) : (this.defaultSound.pause(), n.soundManager.onEnd({type: 4}))
    }, r.prototype = Object.create(o.prototype), r.prototype.constructor = r, r.prototype.createContext = function (e) {
        var n = document.createElement("a");
        return n.innerHTML = e.properties.title, n.id = e.id, n.setAttribute("class", "element comp_wechat_hear"), n.setAttribute("ctype", e.type), n.setAttribute("data-event", "1120612"), t(n).css({
            width: e.css.width,
            height: e.css.height
        }), n
    }, r.prototype.bindAfterRenderEvent = function (e) {
        var n = this;
        return t(e).on("mousedown touchstart", function (e) {
            return event.stopPropagation(), e.preventDefault(), c() ? void n.soundRecord() : (alert("请在微信中点我！"), !0)
        }).on("mouseup touchend", function () {
            c() && n.calculateTime && n.soundStopRecord()
        }), !0
    }, r.prototype.soundRecord = function () {
        var e = this;
        this.wxJssdk.then(function () {
            wx.startRecord({
                success: function () {
                    n.soundManager.stopAll(), e.second = 0, e.openPlayState()
                }
            }), t(e.context).addClass("recording").text("松开 结束")
        })
    }, r.prototype.openPlayState = function () {
        var e = this,
            n = "<div class='voice-panel'><span class='icon eqf-voice'></span><div class='voice-tip'>松开手指 停止录音</div></div>";
        this.voicePanel = t(n).prependTo(this.li.parentNode), this.calculateTime = setInterval(function () {
            e.second++, e.second >= 50 && t(e.voicePanel).text(60 - e.second), 60 == e.second && e.soundStopRecord()
        }, 1e3)
    }, r.prototype.soundStopRecord = function () {
        var e = this;
        clearInterval(this.calculateTime), this.calculateTime = null, t(this.context).removeClass("recording").text("按住 说话"), t(this.voicePanel).remove(), wx.stopRecord({
            success: function (t) {
                e.second = 0, n.soundManager.restoreAll(), e.wechatUploadVoice(t.localId)
            }
        })
    }, r.prototype.wechatUploadVoice = function (e) {
        var t = this;
        l[this.soundKey].soundId = e, wx.uploadVoice({
            localId: e, isShowProgressTips: 1, success: function (e) {
                var i = e.serverId;
                n.weChatUtils.generateUserKey(), n.weChatUtils.saveWxCompData(l[t.soundKey].wxpId, i)
            }
        })
    }
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = function () {
        function e() {
            var t = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
            _classCallCheck(this, e), this.fns = t
        }

        return _createClass(e, [{
            key: "addFns", value: function (e) {
                var t = this;
                return e.forEach(function (e) {
                    return t.addFn(e)
                }), this
            }
        }, {
            key: "addFn", value: function (e) {
                return this.fns.includes(e) || this.fns.push(e), this
            }
        }, {
            key: "removeFn", value: function (e) {
                var t = this.fns.indexOf(e);
                return t > -1 && this.fns.splice(t, 1), this
            }
        }, {
            key: "clearFns", value: function () {
                return this.fns.length = 0, this
            }
        }, {
            key: "start", value: function () {
                return this
            }
        }]), e
    }(), r = function (e) {
        function t(e) {
            var n = arguments.length <= 1 || void 0 === arguments[1] ? [] : arguments[1];
            _classCallCheck(this, t);
            var i = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, n));
            return i.data = e, i
        }

        return _inherits(t, e), _createClass(t, [{
            key: "start", value: function (e) {
                var t = this;
                return this.fns.forEach(function (n) {
                    return n.call(null, t.data, e)
                }), this
            }
        }]), t
    }(i), o = function (e) {
        function t(e) {
            var i = arguments.length <= 1 || void 0 === arguments[1] ? [] : arguments[1];
            _classCallCheck(this, t);
            var r = _possibleConstructorReturn(this, Object.getPrototypeOf(t).call(this, i));
            return Array.isArray(e) || (n.DEBUG ? console.error("Invalid Array") : e = []), r.list = e, r
        }

        return _inherits(t, e), _createClass(t, [{
            key: "start", value: function () {
                for (var e = this, t = arguments.length, n = Array(t), i = 0; t > i; i++)n[i] = arguments[i];
                return this.fns.forEach(function (t) {
                    return e.list.forEach(function (e) {
                        return t.call.apply(t, [null, e].concat(n))
                    })
                }), this
            }
        }]), t
    }(i);
    n.init.ObjAdaptor = r, n.init.ListAdaptor = o
}(window, jQuery, EQX);
var _createClass = function () {
    function e(e, t) {
        for (var n = 0; n < t.length; n++) {
            var i = t[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
        }
    }

    return function (t, n, i) {
        return n && e(t.prototype, n), i && e(t, i), t
    }
}();
!function (e, t, n) {
    var i = n.init, r = i.ObjAdaptor, o = i.ListAdaptor, s = function () {
        function e(t) {
            _classCallCheck(this, e), this.options = {
                scene: t,
                meta: t.meta,
                list: t.list
            }, this.metaAdaptor = new r(t.meta), this.pageAdaptor = new o(t.list), this.eleAdptorList = t.list.map(function (e) {
                return e.elements || (e.elements = []), new o(e.elements)
            })
        }

        return _createClass(e, [{
            key: "addMetaFn", value: function (e) {
                return this.metaAdaptor.addFn(e), this
            }
        }, {
            key: "addPageFn", value: function (e) {
                return this.pageAdaptor.addFn(e), this
            }
        }, {
            key: "addEleFn", value: function (e) {
                return this.eleAdptorList.forEach(function (t) {
                    return t.addFn(e)
                }), this
            }
        }, {
            key: "start", value: function () {
                var e = this;
                this.metaAdaptor.start(this.options), this.pageAdaptor.start(this.options), this.eleAdptorList.forEach(function (t, n) {
                    return t.start(e.options, e.options.list[n])
                })
            }
        }]), e
    }();
    n.init.SceneAdaptor = s
}(window, jQuery, EQX), function (e, t, n) {
    n.init.perfectScene = function (e) {
        return e.map = e.map || {}, e.list = e.list || [], e
    }
}(window, jQuery, EQX), function (e, t, n) {
    n.init.perfectTrigger = function (e, t) {
        var i = e.trigger;
        if (i) {
            var r = i.sends, o = i.receives;
            i.initType = i.initType || 0, Array.isArray(r) && (r.forEach(function (e) {
                return e.handles = e.handles.filter(function (e) {
                    return e.ids.length
                })
            }), i.sends = r.filter(function (e) {
                return e.handles.length
            })), Array.isArray(o) && (i.receives = o.filter(function (e) {
                return e.ids.length
            })), n.DEBUG
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.init, r = n.ENUM.ELEMENT_TYPE, o = [];
    i.counterValueIterator = function (e) {
        var t = r[e.type];
        "EqxCount" != t || o.includes(e.id) || o.push(e.id)
    }, i.getFieldIds = function () {
        return o.join(",")
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return !!r[e]
    }

    var r = {};
    Object.keys(n.ENUM.ELEMENT_TYPE).forEach(function (e) {
        r[e] = 0
    }), n.init.ELEMENT_COUNTER = r, n.init.elementCounterIterator = function (e) {
        Number.isInteger(r[e.type]) && (r[e.type] += 1)
    }, n.init.hasMapComp = function () {
        return i("m")
    }, n.init.hasChartComp = function () {
        return i("t")
    }, n.init.hasCommentComp = function () {
        return i("b")
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.ELEMENT_TYPE, r = n.ENUM.BG_CROP_TYPE;
    n.init.perfectBg = function (e) {
        var t = e.type, n = e.properties, o = n.cropSize, s = n.croptype;
        "Background" == i[t] && o && !s && (e.properties.croptype = r["固定背景模式"])
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.ELEMENT_TYPE;
    n.init.perfectChoice = function (e) {
        var t = i[e.type];
        "EqxCheckbox" != t && "EqxDropDownList" != t && "EqxRadio" != t || ("string" == typeof e.choices && (e.choices = JSON.parse(e.choices) || {}), e.choices = e.choices || {options: []})
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.init.perfectTrigger;
    n.init.perfectEle = function (e, t, n) {
        var r = e.properties = e.properties || {};
        e.css = e.css || {}, e.sceneId = n.sceneId, 0 == e.css.boxShadowSize && (e.css.boxShadow = "0px 0px 0px rgba(0,0,0,0.5)"), r.anim ? (Array.isArray(r.anim) || (r.anim = [r.anim]), r.anim = r.anim.filter(function (e) {
            return -1 != e.type && null !== e.type && void 0 !== e.type
        })) : r.anim = [], i(e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    n.init.perfectInput = function (e) {
        if (["6", "601"].includes("" + e.type)) {
            var t = e.properties;
            t.imgSrc = t.imgSrc || t.src, delete t.src
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = JSON.stringify(e), n = 0;
        if (0 === t.length)return n;
        for (var i = 0; i < t.length; i++) {
            var r = t.charCodeAt(i);
            n = (n << 5) - n + r, n &= n
        }
        return n
    }

    var r = n.ENUM.ELEMENT_TYPE;
    n.init.perfectText = function (e, t, n) {
        var o = r[e.type];
        if ("EqxText" == o) {
            if (n.isActivity) n.publishTime || (n.publishTime = i(n)), e.publishTime = n.publishTime; else {
                var s = t.meta.publishTime;
                e.publishTime = s
            }
            e.css && e.css.content && delete e.css.content
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.util.noop, r = n.util.isWeixin;
    n.init.wxAdaptor = function (e, t) {
        return r() || t || e.map.wxComponent ? function (i) {
            var r = i.type, o = i.id, s = i.properties.type;
            if (t) {
                var a = t.headimgurl, c = t.nickname;
                "201" == r && "own" == s && (i.content = c), "401" == r && "own" == s && (i.properties.src = a, delete i.properties.imgStyle)
            }
            var l = e.map.wxComponent, u = void 0 === l ? {shareUserName: "", shareUserHeader: ""} : l,
                p = u.shareUserName, h = u.shareUserHeader;
            (p || h) && ("201" == r && "share" == s && p && (i.content = p), "401" == r && "share" == s && h && (i.properties.src = h, delete i.properties.imgStyle)), "201" != r && "401" != r || "share" != s || n.weChatUtils.generateUserKey(), u[o] && (i.serverId = u[o])
        } : i
    }
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.ENUM.AD_TYPE;
    n.init.adTypeAdaptor = function (e) {
        var t = e.property, r = e.createTime, o = e.hideEqAd, s = e.eqAdType, a = e.isAdvancedUser, c = e.bottomLabel;
        switch (14165028e5 > r | o | 99 == s && (t.eqAdType = i["无尾页无底标"], delete t.createTime, delete t.hideEqAd), a && (t.ad = 2, c && c.id ? t.eqAdType = i["品牌联合底标"] : t.eqAdType = i["技术支持底标"], delete t.isAdvancedUser), t.eqAdType = "" + t.eqAdType, t.eqAdType) {
            case i["无尾页无底标"]:
                t.ad = 0;
                break;
            case i["技术支持尾页"]:
                t.ad = 1;
                break;
            case i["技术支持底标"]:
            case i["品牌联合底标"]:
                t.ad = 2;
                break;
            case i["deepshare尾页"]:
                t.ad = 4;
                break;
            default:
                n.DEBUG && console.error("Invalid eqAdType : " + t.eqAdType), t.eqAdType = i["技术支持尾页"], t.ad = 1
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.property;
        if ("string" == typeof t.shareDes && (t.shareDes = {
                description: {
                    type: "position",
                    description: t.shareDes
                }
            }), !t.wxAuth) {
            var n = !1;
            if (t.wxCount > 0 || 1 == t.clickFarmerStatus || 2 == t.clickFarmerStatus) n = !0; else {
                var i = t.shareDes;
                i && (i.description && ["myself", "selfAndPosition"].includes(i.description.type) || i.title && ["myself", "selfAndPosition"].includes(i.title.type) || i.avatar) && (n = !0)
            }
            t.wxAuth = n
        }
    }

    var r = n.ENUM.PAGE_MODE;
    n.init.perfectMeta = function (e) {
        switch (e.ext || (e.ext = {}), "string" == typeof e.property && (e.property = JSON.parse(e.property) || {}), "string" == typeof e.bgAudio && (e.bgAudio = JSON.parse(e.bgAudio) || null), e.description = e.description || "我用易企秀做了一个超酷炫的H5，快来看看吧。", e.property = e.property || {}, e.pageMode + "") {
            case"2":
                e.pageMode = r["上下翻页"]
        }
        void 0 === r[e.pageMode] && (n.DEBUG && console.error("Invalid Page Mode: " + e.pageMode), e.pageMode = r["上下翻页"]), e.pageMode = parseInt(e.pageMode), e.property.hasOwnProperty("triggerLoop") || (e.property.triggerLoop = !0), i(e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e + "Effect";
        r.includes(t) || r.push(t)
    }

    var r = [];
    n.init.effectAdapter = function (e) {
        var t = e.properties || {};
        if (t.image || t.scratch)return i("scratch"), t.effect = Object.assign({name: "scratch"}, t.image || t.scratch), void(t.image ? delete t.image : delete t.scratch);
        if (t.finger)return i("finger"), t.effect = Object.assign({name: "finger"}, t.finger), void delete t.finger;
        if (t.fallingObject)return i("fallingObject"), t.effect = Object.assign({name: "fallingObject"}, t.fallingObject), void delete t.fallingObject;
        if (t.effect) {
            var r = t.effect.name;
            i(r), "money" == r && n.DEBUG && (t.effect.seconds = 2)
        }
    }, n.init.effectArr = r
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        e.elements = e.elements.filter(function (e) {
            var t = e.type;
            if ("h" == t) {
                var n = e.properties;
                n = void 0 === n ? {} : n;
                var i = n.type, r = n.src;
                if (r)return !0;
                if (!i)return console.log("invalid svg", e), !1;
                if (i.includes("symbols"))return !0;
                var o = i.replace(/-([a-z])/g, function (e, t) {
                    return t.toUpperCase()
                });
                return o ? !0 : (console.log("invalid svg", e), !1)
            }
            return !0
        })
    }

    var r = n.init.perfectTrigger;
    n.init.perfectLastPage = function (e, t) {
        e.properties = e.properties || {}, e.isActivity || (e.sceneId = t.meta.id), e.elements = e.elements || [], e.elements.forEach(function (t) {
            t.pageId = e.id
        }), r(e.properties, "page-" + e.id), i(e)
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return a.isBadStr(e) || /(\$|eval|jQuery|onerror)/gi.test(e)
    }

    function r(t, n, r, o) {
        if (console.debug(t), i(t))var s = 10; else s = 0;
        var a = {
            type: "h5view.xss",
            priority: s,
            content: t,
            ext: {ua: e.navigator.userAgent, href: e.location.href, sceneId: n.meta.id, sceneCode: n.meta.code}
        };
        r && (a.ext.pageId = r.id, a.ext.pageNum = r.num), o && (a.ext.eleId = o.id, a.ext.eleNum = o.num, a.ext.eleType = o.type), u.add(a)
    }

    function o() {
        console.info("compCount " + c + ", xssCount " + l), l ? u.emit("h5view.xss", 10) : u.remove("h5view.xss")
    }

    var s = n.ENUM.ELEMENT_TYPE, a = n.util, c = 0, l = 0, u = a.clientReport;
    n.init.xssFilter = function (e) {
        function t(e) {
            e && a.isInvalidAudio(e) && x("XSS invalid audio: " + e)
        }

        function n(e) {
            e && a.isInvalidVideoIFrameSrc(e) && x("XSS invalid video: " + e)
        }

        function i(e) {
            e && a.isInvalidUrl(e) && x("XSS invalid url: " + e)
        }

        function u(e) {
            e && a.isInvalidTel(e) && x("XSS invalid number: " + e)
        }

        function p(e) {
            e && a.isInvalidCompId(e) && x("XSS invalid compId: " + e)
        }

        function h(e) {
            e && a.isInvalidNum(e) && x("XSS invalid id: " + e)
        }

        function d(e) {
            e && a.isInvalidImg(e) && x("XSS invalid image src: " + e)
        }

        function f(e) {
            e && a.isInvalidStr(e) && x("XSS invalid text: " + e)
        }

        function v(e) {
            function t(e) {
                n(e), i(e), r(e)
            }

            function n(e) {
                e && e.chartTitle && f(e.chartTitle)
            }

            function i(e) {
                e && e.segments && e.segments.length && e.segments.forEach(function (e) {
                    f(e.label)
                })
            }

            function r(e) {
                e && e.lengends && e.lengends.length && e.lengends.forEach(function (e) {
                    f(e)
                })
            }

            var o = e.properties;
            n(o), t(o.pieChart), t(o.barChart), t(o.lineChart)
        }

        var g = e.meta, m = g.name, y = g.description, b = g.cover, w = g.bgAudio, x = function (t) {
            l++, r(t, e)
        };
        f(m), f(y), d(b), w && t(w.url), e.list.forEach(function (t) {
            var o = null;
            x = function (n) {
                l++, r(n, e, t, o)
            }, t.elements.forEach(function (e) {
                o = e, c++;
                var t = e.id, r = e.title, a = e.properties, l = s[e.type];
                if (f(r), p(t), "EqxBackground" == l || "EqxGravity" == l) {
                    var g = a.imgSrc;
                    d(g)
                }
                if ("EqxImage" == l || "EqxWXImage" == l) {
                    var m = a.src;
                    d(m)
                }
                if ("EqxTelephone" == l) {
                    var y = a.number, b = a.title, w = a.imgSrc;
                    u(y), d(w), f(b)
                }
                if ("EqxComment" == l) {
                    var x = a.meslabel, E = a.morelabel;
                    f(x), f(E)
                }
                if ("EqxSubmitButton" == l) {
                    var P = a.title, _ = a.imgSrc, C = a.text, T = a.link;
                    f(P), f(C), i(T), d(_)
                }
                if ("EqxInput" == l || "EqxInputPhone" == l || "EqxInputEmail" == l) {
                    var I = a.placeholder;
                    f(I)
                }
                if ("EqxCheckbox" == l || "EqxRadio" == l) {
                    var O = e.choices.options, A = void 0 === O ? [] : O;
                    A.forEach(function (e) {
                        var t = e.label;
                        f(t)
                    })
                }
                if ("EqxDropDownList" == l) {
                    var k = e.choices.options, S = void 0 === k ? [] : k, j = e.placeholderText, D = e.showText;
                    f(j), f(D), S.forEach(function (e) {
                        var t = e.label;
                        f(t)
                    })
                }
                if ("EqxShape" == l) {
                    var M = a.src;
                    d(M)
                }
                if ("EqxCount" == l) {
                    var q = a.imgSrc;
                    d(q)
                }
                if ("EqxLink" == l) {
                    var X = a.imgSrc, Q = a.title;
                    d(X), f(Q)
                }
                if ("EqxChart" == l && v(e), "EqxVideo" == l) {
                    var R = a.src;
                    n(R)
                }
                if ("EqxImageSlider" == l) {
                    var F = a.children, L = void 0 === F ? [] : F;
                    L.forEach(function (e) {
                        var t = e.src;
                        d(t)
                    })
                }
                if ("EqxRandom" == l) {
                    var N = a.pics, H = void 0 === N ? [] : N;
                    H.forEach(function (e) {
                        var t = e.path;
                        d(t)
                    })
                }
                if ("EqxSound" == l) {
                    var $ = a.imgSrc, U = a.title;
                    f(U), d($)
                }
                if ("EqxImgVote" == l) {
                    var Y = a.title, B = a.children, V = void 0 === B ? [] : B, W = a.selectType;
                    f(Y), f(W), V.forEach(function (e) {
                        var t = e.src, n = e.desc, i = e.id;
                        h(i), d(t), f(n)
                    })
                }
                if ("EqxTextVote" == l) {
                    var z = a.title, G = a.selectType, J = a.children, K = void 0 === J ? [] : J;
                    f(z), f(G), K.map(function (e) {
                        var t = e.id, n = e.label;
                        h(t), f(n)
                    })
                }
                if ("EqxWXRecord" == l) {
                    var Z = a.title;
                    f(Z)
                }
            })
        }), o()
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        return '<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>'
    }

    function r() {
        var e = t(".loading").remove().show()[0].outerHTML;
        return '\n<div class="nr" id="nr">\n    <div id="audio_btn" class="off" data-event="11205">\n        <audio loop="" src="" id="media" autoplay="" preload="auto"></audio>\n    </div>\n    ' + e + "\n</div>\n"
    }

    function o(e, t) {
        e = e || "场景名称";
        var n = t.startsWith("http") ? t : s.FILE + t;
        return '\n<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            <!-- 3、场景封面 -->\n            <img class="cover-img" src="' + n + '">\n        </div>\n        <!-- 4、场景名称 -->\n        <div class="scene-name">' + e + '</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>'
    }

    var s = n.HOST;
    n.tpl.core = {nr: r, ppitest: i, pwd: o}
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.init, r = n.API, o = null, s = null;
    i.getCounterValues = function () {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], t = e.sceneId, n = e.fieldIds,
            i = {sceneId: t, fieldIds: n};
        return i.sceneId && JSON.stringify(s) != JSON.stringify(i) && (o = null), o ? Promise.resolve(o) : i.fieldIds ? o = r.getCountValues(i).then(function (e) {
            return o = e.map
        })["catch"](function () {
            return o = {}
        }) : Promise.resolve(o = {})
    }
}(window, jQuery, EQX), function (e, t) {
    !function () {
        var n = t(e);
        n.on("scroll.elasticity", function (e) {
            e.preventDefault()
        }).on("touchmove.elasticity", function (e) {
            e.preventDefault()
        }), n.delegate("img", "mousemove", function (e) {
            e.preventDefault()
        })
    }()
}(window, jQuery), function (e, t, n) {
    function i() {
        var e;
        (e = console).error.apply(e, arguments)
    }

    var r = n.init;
    r.handleError = i
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        var e = a.nr();
        return '<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        ' + e + '\n        <div class="bottom"></div>\n    </div>\n</div>'
    }

    function r() {
        var e = a.nr(), t = a.ppitest();
        return "\n" + t + '\n<div class="p-index main iframe-phone" id="con" style="display: none; width: 320px; margin-right: 40px;">\n' + e + "\n</div>\n"
    }

    function o() {
        return '<div class = "iframe_panel" style="z-index:2;">\n        <div class="preview"><a id = "pre_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore2"></span></a></div>\n        <div class="next"><a id = "next_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore"></span></a></div>\n    </div>'
    }

    function s() {
        return '<div class="iframe_panel2">\n                    <ul>\n                        <li id="pre_page">上一页</li>\n                        <li id="next_page">下一页</li>\n                    </ul>\n                </div>'
    }

    var a = n.tpl.core;
    n.tpl.iframe = {div: i, phoneDiv: r, ctrlBtnDiv: o, ctrlBtnDiv2: s}
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        t.ajaxSetup({cache: !0}), t.support.cors = !0
    }

    var r = n.init;
    r.initJQuery = i
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        t(".loading").show()
    }

    function r() {
        t(".loading").hide()
    }

    var o = n.init;
    o.stopLoading = r, o.startLoading = i
}(window, jQuery, EQX), function (e, t, n) {
    function i(e, n) {
        return new Promise(function (i, r) {
            function o(e) {
                h(e).then(function (e) {
                    t("#verifyCode").remove(), i(e)
                })["catch"](function () {
                    t("#verifyCode").show(), s()
                })
            }

            function s() {
                t("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () {
                    t(this).removeClass("shake"), d()
                })
            }

            function d() {
                t(".password-indicator li").each(function (e, n) {
                    e < E.length ? t(n).addClass("active") : t(n).removeClass("active")
                })
            }

            function f(e) {
                var n = t(e.target);
                n.addClass("active"), E += n.text(), d(), 4 == E.length && (o(E), E = ""), setTimeout(function () {
                    n.removeClass("active")
                }, 100)
            }

            function v(e) {
                E = "", d()
            }

            function g(e) {
                E && (E = E.substring(0, E.length - 1), d())
            }

            var m = a.pwd(e, n);
            if (t("#nr").append(m), t("#loading").hide(), t("#verifyCode").show(), c() || l() ? (t(".password-numbers>span").on("click", f), t("#btnClear").on("click", v), t("#btnCancel").on("click", g)) : (t(".password-numbers>span").on("touchstart", f), t("#btnClear").on("touchstart", v), t("#btnCancel").on("touchstart", g)), u() || p()) {
                var y, b = t(".container"), w = b.width(), x = b.height();
                y = Math.floor(10 * Math.min(document.documentElement.clientHeight / x, document.documentElement.clientWidth / w)) / 10, b.css("transform", "scale(" + y + ", " + y + ")")
            }
            var E = ""
        })
    }

    var r = n.util, o = n.init, s = n.API, a = n.tpl.core, c = r.isPc, l = r.isAndroidPhone, u = r.mobilecheck,
        p = r.tabletCheck, h = s.getSceneData;
    o.guess = i
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        a.getPcBgImg().then(function (e) {
            return t("body").css("backgroundImage", "url(" + e + ")")
        })
    }

    function r() {
    }

    function o(e) {
        a.loadQRCode().then(function () {
            var n = p(c.getShareUrl(e));
            n.searchParams.set("eqrcode", 1), console.info("qrCodeUrl:", n.href), t("#downApp").click(function () {
                t("#downAppView").css("display", "block")
            }), t("#close").click(function () {
                t("#downAppView").css("display", "none")
            }), t("#downCode").qrcode({
                render: "canvas",
                width: 200,
                height: 200,
                text: "http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"
            }), t("#codeImg").qrcode({render: "canvas", width: 200, height: 200, text: n.href})
        })
    }

    function s(n) {
        var i = n.name, r = n.description, o = (n.code, n.cover);
        r = r || "";
        var s = e.location.href.split("?")[0];
        t("#view_share .share-qq").attr("href", "\n            http://connect.qq.com/widget/shareqq/index.html?url=\n            " + encodeURIComponent(s) + "?from=sqq&title=" + i + "\n            &site=易企秀http://eqxiu.com&summary=" + r + "\n            &pics=" + (u.FILE + o) + "&desc=" + r + "&appkey=3508809852\n        "), t("#view_share .share-qqZone").attr("href", "\n            http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\n            " + encodeURIComponent(s) + "?from=qzone&title=" + i + "\n            &site=易企秀http://eqxiu.com&summary=" + r + "\n            &pics=" + (u.FILE + o) + "&desc=" + r + "&appkey=3508809852\n        "), t("#view_share .share-weibo").attr("href", "\n            http://service.weibo.com/share/share.php?url=\n            " + encodeURIComponent(s) + "?from=sina_weibo&title=" + i + "，想制作出屌炸天的H5场景，赶快关注@易企秀 置顶微博经常有粉丝回馈活动哦～\n            &pics=" + (u.FILE + o) + "&appkey=3508809852\n        ")
    }

    var a = n.API, c = n.util, l = n.init, u = n.HOST, p = c.parseUrl;
    l.addElementsToPc = function (e) {
        var n = e.name, a = e.description, c = e.code, l = e.cover;
        t(".scene_title").text(n), s({name: n, description: a, code: c, cover: l}), r(), i(), o(e)
    }
}(window, $, EQX), function (e, t, n) {
    function i() {
        var e = a.nr(), t = a.ppitest(), n = o();
        return "\n" + t + "\n" + n + '\n<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        ' + e + '\n        <div class="bottom"></div>\n    </div>\n</div>'
    }

    function r() {
        return '<div class = "ctrl_panel">\n        <a id = "pre_page" type = "button" class = "pre_btn btn">上一页</a>\n        <a id = "next_page" type = "button" class = "next_btn btn">下一页</a>\n    </div>'
    }

    function o() {
        var e = c(l, "images/pc/bg_small.png");
        return '\n<div id="code">\n    <div style="margin-bottom:15px;">\n        <div class="app" style="position:relative;">\n            <a id="downApp" styly="font-size:12px;margin-top:-4px;">下载APP</a>\n            <div id="downAppView" class="zoomIn-change">\n                <h3><a id="close" style="cursor:pointer">X</a>易企秀APP</h3>\n                <div id="downCode"></div>\n                <p style="padding-bottom:20px;padding-top:10px;">一键生成H5，随时随地查数据</p>\n            </div>\n        </div>\n        扫一扫，分享给朋友！\n    </div>\n    <div style="text-align: center;background:#fff;padding: 10px;" id="codeImg"/>\n    <div id="view_share" class="bdsharebuttonbox">\n        <a class="share-qq" href="" target="_blank"><span class="eqf-qq share-icon"></span></a>\n        <a class="share-qqZone" href="" target="_blank"><span class="eqf-QQzone share-icon"></span></a>\n        <a class="share-weibo" href="" target="_blank"><span class="eqf-weibo2 share-icon"></span></a>\n    </div>\n    <div id="view_reg">这么漂亮的场景&nbsp;→\n        <span>\n            <a target="_blank" href="' + h(p) + 'cats-2.html">我也来制作</a>\n        </span>\n    </div>\n    <div id="support">技术支持 BY <a target="_blank" href="' + h(u) + '">\n        <img id="logoSmall" src="' + e + '"/>\n    </a>\n    </div>\n</div>\n'
    }

    function s(n) {
        t("#view_reg").after('<div id="sample_btn">使用该样例</div>'), t("body").on("click", "#sample_btn", function () {
            e.open(p + "cats-2.html?useTplId=" + n)
        })
    }

    var a = n.tpl.core, c = n.util.resolveUrl, l = n.HOST.PROJECT_HOST, u = n.HOST.EQX, p = n.HOST.STORE,
        h = n.util.url2http;
    n.tpl.pc = {div: i, pcCtrlBtn: r, addSample: s}
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        var e = r.nr(), t = r.ppitest();
        return "\n" + t + '\n<div class="p-index main" id="con" style="display: none;">\n' + e + "\n</div>\n"
    }

    var r = n.tpl.core;
    n.tpl.phone = {div: i}
}(window, jQuery, EQX), function (e, t, n) {
    var i = n.tpl.ad = {}, r = n.HOST, o = n.util, s = n.util.url2http, a = s(r.EQX);
    n.util.mobilecheck() && (a = "http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu");
    var c = "易企秀技术支持";
    i.bottomLabel = function (e) {
        var t = e.sceneId, n = void 0 === t ? 16060 : t, i = e.pageId, o = e.top, s = e.pageIndex,
            l = r.SERVER_1 + "eqs/link?id=" + n + "&url=" + encodeURIComponent(a),
            u = '\n<div style="text-align: center;transform: none;-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="' + l + '" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">' + c + "</font>\n    </a>\n</div>";
        return {
            id: 480292,
            pageId: i,
            sceneId: n,
            num: s,
            type: 2,
            content: u,
            status: 1,
            css: {
                zIndex: "1000",
                height: "20",
                width: "129",
                left: "97px",
                top: 418 + o + "px",
                backgroundColor: "rgba(0,0,0,0.6)",
                borderRadius: "20px"
            },
            properties: {anim: {type: 0, direction: 0, duration: 2, delay: 0}}
        }
    }, i.report = function (e) {
        var t = e.pageId, n = void 0 === t ? 1 : t, i = e.sceneId, r = void 0 === i ? 1 : i, o = e.pageIndex,
            s = void 0 === o ? 1 : o,
            a = '\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b>举报</b></font>\n    </span>\n</div>';
        return {
            id: 439881,
            pageId: n,
            sceneId: r,
            num: s,
            type: 299,
            content: a,
            status: 1,
            css: {zIndex: 999, height: 36, width: 60, left: 10, top: 420},
            properties: {anim: {type: 0, direction: 0, duration: 3, delay: 1}}
        }
    }, i.image1 = function () {
        return {
            id: 81395,
            pageId: "",
            sceneId: "",
            num: 1,
            type: "4",
            isInput: 0,
            title: null,
            content: null,
            status: 1,
            css: {
                borderRadius: "%",
                borderStyle: "solid",
                height: "158",
                zIndex: "1000",
                borderColor: "rgba(0,0,0,1)",
                boxShadow: "0 0px 0px #333333",
                color: "#000000",
                backgroundColor: "white",
                borderWidth: "0px",
                width: "158",
                left: "84px",
                paddingTop: "11px",
                paddingLeft: "10px",
                top: "170px"
            },
            properties: {
                height: "100px",
                imgStyle: {width: 139, height: 136, marginTop: "0px", marginLeft: "0px"},
                width: "100px",
                src: "group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"
            }
        }
    }, i.image2 = function () {
        return {
            id: 2557867,
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: 2,
            isInput: 0,
            title: null,
            content: '\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',
            status: 1,
            css: {height: "257", width: "257", left: "78px", top: "175px"},
            properties: {}
        }
    }, i.eqxLogo = function () {
        return {
            id: 439882,
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: '\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-logo"></em>\n</div>',
            status: 1,
            css: {height: "158", width: "158", left: "84px", top: "170px", backgroundColor: "white"},
            properties: {}
        }
    }, i.title = function () {
        var e = arguments.length <= 0 || void 0 === arguments[0] ? "点击此处进行编辑" : arguments[0];
        return {
            id: 81465,
            pageId: "",
            sceneId: "",
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: '<div style="text-align: center;"><font color="#ffffff" size="3">' + e + "</font></div>",
            status: 1,
            css: {zIndex: "102", height: "65", width: "320", left: "0px", top: "70px"},
            properties: {}
        }
    }, i.line = function () {
        var e = '<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>';
        return {
            id: 439883,
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: e,
            status: 1,
            css: {height: "24", width: "280", left: "21px", top: "122px"},
            properties: {}
        }
    }, i.shadow = function () {
        var e = '<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>';
        return {
            id: 2557867,
            pageId: 129810,
            sceneId: 16060,
            num: 1,
            type: "2",
            isInput: 0,
            title: null,
            content: e,
            status: 1,
            css: {height: 257, width: 257, left: "78px", top: "175px"},
            properties: {}
        }
    }, i.lastPage = function (e) {
        var t = e.id, n = void 0 === t ? 16060 : t, i = e.name, s = e.num, c = e.cover,
            l = void 0 === c ? "group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg" : c, u = e.code, p = e.isDeepShare,
            h = (e.bizType, e.price),
            d = o.isApp() ? "" : r.SERVER_1 + "eqs/link?id=" + n + "&url=" + encodeURIComponent(a), f = "点我免费制作易企秀",
            v = "#23a3d3", g = "",
            m = '<div style="text-align: center;"><span style="line-height: 1; background-color: initial;"><font size="4" color="#888888"><b>' + i + "</b></font></span></div>",
            y = '<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);\n        cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>',
            b = '<div style="text-align: center;padding-top: 0;"><span style="font-size: small; line-height: 1; background-color: initial;">\n         <a href="' + d + '" target="_blank"><font color="#888888">' + g + '</font><font color="' + v + '">' + f + "</font></a></span></div>",
            w = '<div style="text-align: center;padding-top: 0;"><span style="font-size: small; line-height: 1; background-color: initial;">\n        <a class="deepShareHref" target="_blank"><font color="#888888">' + g + '</font><font color="#23a3d3">' + f + "</font></a></span></div>";
        return {
            id: "",
            sceneId: n,
            num: s,
            name: i,
            properties: {},
            elements: [{
                id: 439880,
                pageId: 129810,
                sceneId: n,
                num: 0,
                type: "3",
                css: {},
                properties: {bgColor: "#E6E9EE"}
            }, {
                id: 439881,
                pageId: 129810,
                sceneId: n,
                num: 1,
                type: "2",
                content: m,
                css: {height: "65", zIndex: "10", width: "320", left: "0px", top: "77px"},
                properties: {}
            }, {
                id: 439882,
                pageId: 129810,
                sceneId: 16060,
                num: 2,
                type: "4",
                isInput: 0,
                title: null,
                content: null,
                status: 1,
                css: {
                    borderRadius: "10px",
                    borderStyle: "solid",
                    zIndex: "9",
                    borderColor: "rgba(0,0,0,1)",
                    paddingTop: "0px",
                    height: "141",
                    backgroundColor: "",
                    color: "",
                    boxShadow: "0px 0px 0px #333333",
                    borderWidth: "0px",
                    width: "142.13709677419354",
                    left: "92px",
                    paddingBottom: "0px",
                    top: "177px"
                },
                properties: {
                    height: "100px",
                    imgStyle: {width: 142, height: 142, marginTop: "-0.5px", marginLeft: "0px"},
                    width: "100px",
                    src: l
                }
            }, {
                id: 439883,
                pageId: 129810,
                sceneId: n,
                num: 1,
                type: "2",
                content: y,
                css: {height: "24", width: "280", left: "21px", top: "122px"},
                properties: {}
            }, {
                id: 439885,
                pageId: 129810,
                sceneId: n,
                num: 1,
                type: p && !o.isApp() ? "298" : "2",
                content: p ? w : b,
                css: {
                    borderRadius: "0px",
                    borderStyle: "solid",
                    height: "30",
                    paddingTop: "0px",
                    borderColor: "rgba(222,220,227,1)",
                    zIndex: "12",
                    boxShadow: "0px 0px 0px rgba(200,200,200,0.6)",
                    color: "",
                    backgroundColor: "rgba(255,255,255,0)",
                    borderWidth: "0px",
                    width: "320",
                    left: "1px",
                    bottom: "36px",
                    paddingBottom: "20px"
                },
                properties: {
                    anim: [{type: 1, direction: 3, duration: "1", delay: "0.6"}],
                    inappData: {title: i, code: u, sceneId: n, price: h},
                    deepShareAppId: "7b0df317d0b78c42"
                }
            }]
        }
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        var t = e.pageId, n = e.sceneId, i = e.num, r = d.report({pageId: t, sceneId: n, pageIndex: i});
        e.elements.push(r)
    }

    function r(e) {
        var t = e.sceneId, n = e.url;
        return f.SERVER_1 + "eqs/link?id=" + t + "&url=" + encodeURIComponent(n)
    }

    function o(e) {
        var t = e.meta, n = t.id, i = t.cover, r = t.name, o = t.bizType, s = e.list.length + 1;
        return d.lastPage({id: n, name: r, num: s, cover: i, bizType: o})
    }

    function s(e) {
        var t = (e.properties || {}).longPage || 1;
        return 10 > t ? 486 * (t - 1) : t - 486
    }

    function a(e) {
        var t = e.meta, n = t.id, i = t.property.bottomLabel, r = i.id, o = i.name, a = i.url;
        if (!r)throw new Error("No bottomLabel's id");
        var c = e.list, u = c[c.length - 1], p = s(u), d = u.pageId;
        return h.getPageInfo(r).then(function (e) {
            return (e.obj.elements || []).map(function (e) {
                return l({ele: e, sceneId: n, pageId: d, url: a, top: p, name: o})
            })
        })["catch"](function () {
            return []
        })
    }

    function c(e, t) {
        var n = e.list;
        t.properties = t.properties || {};
        var i = e.meta, r = i.cover, o = i.id, s = i.name;
        t.sceneId = o;
        var a = function (e) {
            var t = e.properties.src;
            return 4 == e.type && !!t && ["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg", "group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png", "group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png", "group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(t)
        }, c = function (e) {
            2 == e.type && /http:\/\/.*?eqxiu\.com\/eqs\/link/.test(e.content) && (e.content = e.content.replace(/;url=.*com"/, ";url=" + encodeURIComponent(g) + '"'))
        };
        if ("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg" != r) {
            var l = d.image1();
            l.properties.src = r
        } else l = d.eqxLogo();
        return t.elements = t.elements.filter(function (e) {
            return !a(e)
        }), t.elements.forEach(c), t.elements = [].concat(_toConsumableArray(t.elements), [d.shadow(), l, d.line(), d.title(s)]), t.num = n.length + 1, t
    }

    function l(e) {
        var n = e.ele, i = e.sceneId, o = e.pageId, s = e.url, a = e.top, c = e.name;
        n.sceneId = i, n.pageId = o;
        var l = "EQXIU.COM科技公司", u = n.type;
        return 2 == u && (c && s && "http://" != s && (n.content = n.content.replace(new RegExp(l), '<a href="' + r({
                sceneId: i,
                url: s
            }) + '" target=_blank data-event="1120203">' + c + "</a>")), c ? n.content = n.content.replace(new RegExp(l), c) : /易企秀技术支持/.test(n.content) && (t.extend(n.css, {
                zIndex: "1000",
                height: "33",
                width: "129",
                left: "97px"
            }), n.content = '<div style="text-align: center;">' + n.content + "</div>"), /url=http%3A%2F%2Fwww\.eqxiu\.com/.test(n.content) && (n.content = n.content.replace(/url=http%3A%2F%2Fwww\.eqxiu\.com/, "url=" + encodeURIComponent(g)))), n.css.top += a, n.css.zIndex = 200, n
    }

    function u(e) {
        var t = e.meta, n = t.id, i = t.cover, r = t.name, o = t.code, s = e.list.length + 1, a = !0,
            c = e.meta.price || 0;
        return d.lastPage({id: n, name: r, num: s, cover: i, code: o, isDeepShare: a, price: c})
    }

    var p = n.ENUM.AD_TYPE, h = n.API, d = n.tpl.ad, f = n.HOST, v = n.util.url2http, g = v(f.EQX);
    n.util.mobilecheck() && (g = "http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu");
    var m = n.util;
    n.init.addEqAdInfo = function (e) {
        var t = e.meta, n = t.id, r = t.property, l = r.lastPageId, f = r.eqAdType, v = t.bizType, g = t.isTemplate,
            y = t.ext, b = e.list, w = b.length;
        return new Promise(function (t, r) {
            function x() {
                return E = o(e), i(E), b.push(E), t(e)
            }

            if (w) {
                var E = b[w - 1];
                E.elements = E.elements || []
            }
            if (!(m.isApp() || 30 != v && 2 != g || f != p["deepshare尾页"] && (f != p["技术支持尾页"] || l)))return E = u(e), i(E), b.push(E), t(e);
            switch (f) {
                case p["无尾页无底标"]:
                    return t(e);
                case p["技术支持尾页"]:
                    if (y && y.yqc && y.yqc.tail)var P = h.getYqcTail(n).then(function (n) {
                        return E = n.obj, i(E), b.push(E), t(e)
                    }); else P = Promise.reject();
                    return P["catch"](function () {
                        return l ? h.getPageInfo(l).then(function (t) {
                            return c(e, t.obj)
                        }).then(function (n) {
                            return i(n), b.push(n), t(e)
                        })["catch"](function () {
                            return x()
                        }) : (E = o(e), i(E), b.push(E), t(e))
                    });
                case p["技术支持底标"]:
                    try {
                        var _ = s(E), C = d.bottomLabel({sceneId: n, pageId: E.pageId, top: _, pageIndex: w});
                        return E.elements.push(C), t(e)
                    } catch (T) {
                        return console.error("添加技术支持底标尾页失败", T), x()
                    }
                case p["品牌联合底标"]:
                    try {
                        return a(e).then(function (n) {
                            return E.elements = [].concat(_toConsumableArray(E.elements), _toConsumableArray(n)), t(e)
                        })
                    } catch (T) {
                        return console.error("添加品牌联合底标失败", T), x()
                    }
                default:
                    return x()
            }
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i(e) {
        return e ? r.getPageInfo(e).then(function (e) {
            return e.obj ? (e.obj.isActivity = !0, e.obj) : Promise.reject()
        }) : Promise.reject()
    }

    var r = n.API, o = n.init, s = n.util, a = o.ObjAdaptor, c = o.adTypeAdaptor, l = o.perfectScene, u = o.addEqAdInfo,
        p = n.ENUM.ELEMENT_TYPE;
    n.init.getPerfectSceneData = function (e) {
        var n = e.property.activityPageId;
        if (e.isPwd)var h = o.guess(e.name, e.cover); else h = r.getSceneData();
        return h.then(function (n) {
            return t("#loading").show(), new a(n, [l]).start(), n.meta = e, n
        }).then(function (e) {
            return i(n).then(function (t) {
                return e.list.push(t), e
            }, function () {
                return e
            })
        }).then(function (e) {
            var t = e.meta;
            if (!s.isEqxAdScene(t))return e;
            var n = t.ext;
            return r.getYqcAd(n.yqc.ad).then(function (t) {
                return t && t.list && t.list.length ? (t.list.filter(function (e) {
                    return !!e.scenePage
                }).forEach(function (t) {
                    for (var n = t.scenePage, i = t.pageNum, r = n.elements || [], o = 0; o < n.elements.length; o++) {
                        var s = r[o];
                        if (s && "EqxAdvertise" == p[s.type]) {
                            s.content = "";
                            break
                        }
                    }
                    var a = i - 1, c = e.list;
                    a > c.length ? c.push(n) : c.splice(a, 0, n)
                }), e) : e
            })["catch"](function (t) {
                return console.error(t || "广告尾页请求或者解析失败"), e
            })
        }).then(function (e) {
            return new a(e.meta, [c]).start(), u(e)
        })
    }
}(window, jQuery, EQX), function (e, t, n) {
    function i() {
        var t = e.location.href.split("?")[0], i = n.util.getUrlParam("userKey", e.location.href),
            r = n.util.getUrlParam("toPage", e.location.href);
        i && (t = n.util.addUrlParam("userKey", i, t)), r && (t = n.util.addUrlParam("toPage", r, t)), e.location.href = "https://open.weixin.qq.com/connect/oauth2/authorize?appid=" + a.APP_ID + "&redirect_uri=" + encodeURIComponent(s.SERVER_1 + "eqs/wx/user/info") + "&response_type=code&scope=snsapi_userinfo&state=" + encodeURIComponent(t) + "#wechat_redirect"
    }

    function r() {
        return Promise.all([o.loadJWeixin(), o.getWxTicket(), o.loadSHA()]).then(function (e) {
            var t = e[1].obj, n = t.appId, i = t.ticket;
            return new Promise(function (e, t) {
                if (n && i && -1 != i) {
                    var r = location.href.split("#")[0], o = "eqxiuview", s = Date.now(),
                        a = "jsapi_ticket=" + i + "&noncestr=" + o + "&timestamp=" + s + "&url=" + r,
                        c = new jsSHA("SHA-1", "TEXT");
                    c.update(a);
                    var l = c.getHash("HEX");
                    console.log("wx config appId " + n + ", sign " + a + ", hash " + l), wx.config({
                        debug: !1,
                        appId: n,
                        timestamp: s,
                        nonceStr: o,
                        signature: l,
                        jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "chooseImage", "previewImage", "getLocalImgData", "uploadImage", "downloadImage", "startRecord", "stopRecord", "onVoiceRecordEnd", "playVoice", "pauseVoice", "stopVoice", "onVoicePlayEnd", "uploadVoice", "downloadVoice"]
                    }), wx.ready(function () {
                        e()
                    })
                } else t()
            })
        })
    }

    var o = n.API, s = n.HOST, a = n.WX, c = n.init, l = null;
    c.hrefToWxAuth = i, c.getWxJSSDK = function () {
        return l || (l = r()), l
    }
}(window, $, EQX), function (e, t, n) {
    function i() {
        v().then(function (i) {
            var o = parseInt(i.userType), s = parseInt(i.memberType);
            e.viewData || (location.host.includes("." + l.DOMAIN) ? [2, 21].includes(o) && [1, 2, 3, 4, 6, 7, 8, 9].includes(s) && l.setHOST(l.SOURCE, l.VIP_USER_FILE) : l.setHOST(l.BIND_USER_SOURCE, l.BIND_USER_FILE)), e.scene = i, i.name = i.name.replace(/&quot;/g, '"'), n.DEBUG;
            var h = t(document.body), v = t("html");
            p() ? e.top === e ? (h.prepend(a.pc.div()), t(".phone_panel").append(a.pc.pcCtrlBtn()), "1" == i.isTemplate && a.pc.addSample(i.id), h.addClass("pc"), t("title").text(i.name + " | H5微场景制作-易企秀(www.eqxiu.com)"), d(i)) : L.indexOf("exemplarReview") >= 0 ? (h.prepend(a.iframe.phoneDiv()), h.append(a.iframe.ctrlBtnDiv())) : L.indexOf("control") >= 0 ? (h.prepend(a.iframe.phoneDiv()), h.append(a.iframe.ctrlBtnDiv2())) : (v.addClass("iframe-html"), h.prepend(a.iframe.div()), h.addClass("pc"), t(".scene_title").text(i.name), t("title").text(i.name)) : (h.prepend(a.phone.div()), t("title").text(i.name)), t(".main").show();
            var m = Promise.resolve(null);
            u() && (m = function () {
                var e = location.href.split("#")[0];
                return i.property.wxAuth ? g().then(function (t) {
                    return t.obj ? (n.weChatUtils.setWeChatUser(t.obj), n.weChatUtils.initWeChat({obj: i}, e), t.obj) : void y()
                })["catch"](function (e) {
                    console.error(e)
                }) : Promise.resolve(n.weChatUtils.initWeChat({obj: i}, e))
            }()), w(i).then(function (e) {
                return e.list.length ? (e.obj = i, n.DEBUG, e.map.wxComponent && n.weChatUtils.setWxCompData(e.map.wxComponent), void m.then(function (t) {
                    new E(e).addPageFn(C).addPageFn(P).addEleFn(X).addEleFn(T(e, t)).addEleFn(D).addEleFn(M).addEleFn(q).addEleFn(Q).addEleFn(O).addEleFn(I).start(), N(e);
                    var n = e.meta.id;
                    k() && c.loadQQMap(), S() && c.loadChart(), j() && R.init(n).loadMoreComments(), x(_), f({
                        sceneId: n,
                        fieldIds: A()
                    }), r(e)
                })) : void b()
            })
        }, function (t) {
            console.error("getSceneMetaData Error"), e.alert(t || "场景异常!!")
        })
    }

    function r(i) {
        var r = o.parseUrl(location.href);
        r.searchParams["delete"]("version");
        var s = (r.href.split("?")[1], i.meta), a = s.id, l = (s.property.ad, o.getUrlParam("toPage")),
            u = e.app = new F(i);
        e.viewData || c.bigDataXBData(a, 0, null, null, null), m();
        var p = u.renderPages("nr", l), h = u.meta.property.slideNumber, d = u.pages.length,
            f = u.currentPage.pageOptions.num;
        n.progressBar.init(h, f, d, t(u.ele)), Promise.all(p).then(function () {
            n.pageScroll = n.scroll.create(u), t("#pre_page").click(function () {
                return n.pageScroll.goToPrePage()
            }), t("#next_page").click(function () {
                return n.pageScroll.goToNextPage()
            }), wapShare.addPreviewFooter()
        })
    }

    var o = n.util, s = n.init, a = n.tpl, c = n.API, l = n.HOST;
    n.DEBUG && console.info("EQX.API", c);
    var u = o.isWeixin, p = o.isPc, h = s.initJQuery, d = s.addElementsToPc, f = s.getCounterValues,
        v = c.getSceneMetaData, g = c.getUserWxInfo, m = s.stopLoading, y = s.hrefToWxAuth, b = s.handleError,
        w = s.getPerfectSceneData, x = c.loadEffects, E = s.SceneAdaptor, P = s.effectAdapter, _ = s.effectArr,
        C = s.perfectLastPage, T = s.wxAdaptor, I = s.elementCounterIterator, O = s.counterValueIterator,
        A = s.getFieldIds, k = s.hasMapComp, S = s.hasChartComp, j = s.hasCommentComp, D = s.perfectBg,
        M = s.perfectChoice, q = s.perfectText, X = s.perfectEle, Q = s.perfectInput, R = n.commentManager,
        F = n.EqxScene, L = e.location.href, N = s.xssFilter;
    h(), n.bootstrap = i
}(window, jQuery, EQX);